<!doctype html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.14" />
    <meta name="theme" content="VuePress Theme Hope 2.0.0-rc.52" />
    <style>
      html {
        background: var(--bg-color, #fff);
      }

      html[data-theme="dark"] {
        background: var(--bg-color, #1d1e1f);
      }

      body {
        background: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <meta name="keywords" content="RocketMQÈù¢ËØïÈ¢ò,RocketMQ,Èù¢ËØïÈ¢ò,ÂÖ´ËÇ°Êñá"><meta property="og:url" content="https://javabetter.cn/toBeBetterJavaer/sidebar/sanfene/rocketmq.html"><meta property="og:site_name" content="‰∫åÂì•ÁöÑJavaËøõÈò∂‰πãË∑Ø"><meta property="og:title" content="Ê∂àÊÅØÈòüÂàóÈù¢ËØïÈ¢ò‰πãRocketMQÁØáÔºå23ÈÅìRocketMQÂÖ´ËÇ°ÊñáÔºà1.1‰∏áÂ≠ó45Âº†ÊâãÁªòÂõæÔºâÔºåÈù¢Ê∏£ÈÄÜË¢≠ÂøÖÁúãüëç"><meta property="og:description" content="‰∏ãËΩΩÊ¨°Êï∞Ë∂Ö 1 ‰∏áÊ¨°Ôºå1.1 ‰∏áÂ≠ó 45 Âº†ÊâãÁªòÂõæÔºåËØ¶Ëß£ 23 ÈÅì RocketMQ Èù¢ËØïÈ´òÈ¢ëÈ¢òÔºàËÆ©Â§©‰∏ãÊ≤°ÊúâÈöæËÉåÁöÑÂÖ´ËÇ°ÔºâÔºåÈù¢Ê∏£ËÉå‰ºöËøô‰∫õ RocketMQ ÂÖ´ËÇ°ÊñáÔºåËøôÊ¨°ÂêäÊâìÈù¢ËØïÂÆòÔºåÊàëËßâÂæóÁ®≥‰∫ÜÔºàÊâãÂä® dogÔºâ„ÄÇ"><meta property="og:type" content="article"><meta property="og:image" content="https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/nice-article/weixin-mianznxrocketmqessw-dd332b3f-d5e5-41bc-813a-9f612e582255.jpg"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2024-09-13T06:18:01.000Z"><meta property="article:author" content="‰∏âÂàÜÊÅ∂"><meta property="article:tag" content="Èù¢Ê∏£ÈÄÜË¢≠"><meta property="article:modified_time" content="2024-09-13T06:18:01.000Z"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"Ê∂àÊÅØÈòüÂàóÈù¢ËØïÈ¢ò‰πãRocketMQÁØáÔºå23ÈÅìRocketMQÂÖ´ËÇ°ÊñáÔºà1.1‰∏áÂ≠ó45Âº†ÊâãÁªòÂõæÔºâÔºåÈù¢Ê∏£ÈÄÜË¢≠ÂøÖÁúãüëç","image":["https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/nice-article/weixin-mianznxrocketmqessw-dd332b3f-d5e5-41bc-813a-9f612e582255.jpg","https://cdn.tobebetterjavaer.com/stutymore/rocketmq-20240808102425.png","https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/nice-article/weixin-mianznxrocketmqessw-40d8f782-08cf-48c4-98b2-cb125d287e93.jpg","https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/nice-article/weixin-mianznxrocketmqessw-f028cb0c-b1a3-47ef-b290-f7d6f46512fb.jpg","https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/nice-article/weixin-mianznxrocketmqessw-c3493e70-67c7-4f0d-bb99-f0fe8074c807.jpg","https://cdn.tobebetterjavaer.com/stutymore/rocketmq-20240726162210.png","https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/nice-article/weixin-mianznxrocketmqessw-d94a9bf9-3fed-40a6-8aef-0d0395b6e409.jpg","https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/nice-article/weixin-mianznxrocketmqessw-692ec6a0-8499-4de2-be17-a577996bdaef.jpg","https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/nice-article/weixin-mianznxrocketmqessw-4ab7f942-23d7-4462-8e36-e305cc0a045f.jpg","https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/nice-article/weixin-mianznxrocketmqessw-e470b972-f4ac-4b76-bcde-0df5d4765ca7.jpg","https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/nice-article/weixin-mianznxrocketmqessw-2c574635-1eaa-4bdd-8aa8-1bdc3f10b274.jpg","https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/nice-article/weixin-mianznxrocketmqessw-d4c0e036-0f0e-466f-bd4b-7e6ee10daca4.jpg","https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/nice-article/weixin-mianznxrocketmqessw-00175355-5532-4ee6-a48c-e3e3a9b87d64.jpg","https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/nice-article/weixin-mianznxrocketmqessw-789379a9-4a0c-4992-9de1-e49283d089a4.jpg","https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/gongzhonghao.png","https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/nice-article/weixin-mianznxrocketmqessw-692a920d-621f-4b36-87f8-edb53e7f5cd9.jpg","https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/nice-article/weixin-mianznxrocketmqessw-61a3b092-1329-4738-bef9-6eb7ae429c26.jpg","https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/nice-article/weixin-mianznxrocketmqessw-05c0538b-abfa-4bb0-973f-6b92555a6e5b.jpg","https://cdn.tobebetterjavaer.com/stutymore/rocketmq-20240726172003.png","https://cdn.tobebetterjavaer.com/stutymore/rocketmq-20240726174236.png","https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/nice-article/weixin-mianznxrocketmqessw-5d1ea064-1a37-4746-ad26-a18a1c8c344e.jpg","https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/nice-article/weixin-mianznxrocketmqessw-69aa8004-45e9-4e41-b628-1d7ed6d94c92.jpg","https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/nice-article/weixin-mianznxrocketmqessw-e3de6bb5-b5db-47af-8ae3-73aedd269f32.jpg","https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/nice-article/weixin-mianznxrocketmqessw-14ab3700-8538-473e-bb66-8acfdd6a77a2.jpg","https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/nice-article/weixin-mianznxrocketmqessw-8e98ac61-ad47-4ed4-aac6-223201f9aae2.jpg","https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/nice-article/weixin-mianznxrocketmqessw-f2c8bf50-dc51-44c8-9d71-b8a22af199c4.jpg","https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/nice-article/weixin-mianznxrocketmqessw-e3b68480-8006-4cd6-892a-1c72f8b0fbcb.jpg","https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/nice-article/weixin-mianznxrocketmqessw-76df2fb9-0f3f-496d-88a8-aac79ad1102c.jpg","https://cdn.tobebetterjavaer.com/stutymore/rocketmq-20240726163831.png","https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/nice-article/weixin-mianznxrocketmqessw-0ce789f4-7a47-4c24-ac08-76f0490298f7.jpg","https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/nice-article/weixin-mianznxrocketmqessw-76c5eb61-9605-4620-84fb-dc960f01de85.jpg","https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/gongzhonghao.png","https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/nice-article/weixin-mianznxrocketmqessw-ec571bd4-fa24-4ada-87ab-f761a7dfdf3f.jpg","https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/nice-article/weixin-mianznxrocketmqessw-b6d13d4d-c417-43b4-bfe1-12724777888c.jpg","https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/nice-article/weixin-mianznxrocketmqessw-ddbf8773-1d71-4d1a-a186-46f6985b621e.jpg","https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/nice-article/weixin-mianznxrocketmqessw-a76f7365-8a8c-4b91-9505-9d427cf3bde4.jpg","https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/nice-article/weixin-mianznxrocketmqessw-c8b22760-35c2-436b-81ed-be49a107357b.jpg","https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/nice-article/weixin-mianznxrocketmqessw-f06f306b-fd87-48ff-b1cb-e39750d308e7.jpg","https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/nice-article/weixin-mianznxrocketmqessw-80af9918-2d4b-4b43-b83a-d44bfc0f30bc.jpg","https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/nice-article/weixin-mianznxrocketmqessw-35fd884c-8d1b-4d04-8f09-23ed2f945b23.jpg","https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/nice-article/weixin-mianznxrocketmqessw-3ebab020-e411-4239-b91e-72147190c7b1.jpg","https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/nice-article/weixin-mianznxrocketmqessw-10a2361b-5e23-462f-86bf-1a9bce2342e5.jpg","https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/nice-article/weixin-mianznxrocketmqessw-5f254411-502b-4bd3-89b5-d3157964617b.jpg","https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/nice-article/weixin-mianznxrocketmqessw-7cbfd097-5186-47ba-9641-687bc9381d0b.jpg","https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/nice-article/weixin-mianznxrocketmqessw-6d1c69e7-5245-495f-8f8d-b5e48162df6f.jpg","https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/nice-article/weixin-mianznxrocketmqessw-c84236ed-77a6-45e9-b086-4927d72ce21a.jpg","https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/nice-article/weixin-mianznxrocketmqessw-5a715dea-8e18-471e-9a74-e97299901658.jpg","https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/gongzhonghao.png"],"dateModified":"2024-09-13T06:18:01.000Z","author":[{"@type":"Person","name":"‰∏âÂàÜÊÅ∂"}]}</script><meta name="robots" content="all"><meta name="author" content="Ê≤âÈªòÁéã‰∫å"><meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate"><meta http-equiv="Pragma" content="no-cache"><meta http-equiv="Expires" content="0"><meta name="apple-mobile-web-app-capable" content="yes"><script>
        var _hmt = _hmt || [];
        (function() {
          var hm = document.createElement("script");
          hm.src = "https://hm.baidu.com/hm.js?5230ac143650bf5eb3c14f3fb9b1d3ec";
          var s = document.getElementsByTagName("script")[0]; 
          s.parentNode.insertBefore(hm, s);
        })();
      </script><script>
        var _hmt = _hmt || [];
        (function() {
          var hm = document.createElement("script");
          hm.src = "https://hm.baidu.com/hm.js?59aa453e7e706422c636c079fc1cb031";
          var s = document.getElementsByTagName("script")[0]; 
          s.parentNode.insertBefore(hm, s);
        })();
      </script><link rel="stylesheet" href="//at.alicdn.com/t/font_3180624_7cy10l7jqqh.css"><link rel="icon" href="https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/favicon.ico"><link rel="icon" href="/toBeBetterJavaer/assets/icon/chrome-mask-512.png" type="image/png" sizes="512x512"><link rel="icon" href="/toBeBetterJavaer/assets/icon/chrome-mask-192.png" type="image/png" sizes="192x192"><link rel="icon" href="/toBeBetterJavaer/assets/icon/chrome-512.png" type="image/png" sizes="512x512"><link rel="icon" href="/toBeBetterJavaer/assets/icon/chrome-192.png" type="image/png" sizes="192x192"><link rel="manifest" href="/toBeBetterJavaer/manifest.webmanifest" crossorigin="use-credentials"><meta name="theme-color" content="#46bd87"><link rel="apple-touch-icon" href="/toBeBetterJavaer/assets/icon/apple-icon-152.png"><meta name="apple-mobile-web-app-status-bar-style" content="black"><meta name="msapplication-TileImage" content="/toBeBetterJavaer/assets/icon/ms-icon-144.png"><meta name="msapplication-TileColor" content="#ffffff"><title>Ê∂àÊÅØÈòüÂàóÈù¢ËØïÈ¢ò‰πãRocketMQÁØáÔºå23ÈÅìRocketMQÂÖ´ËÇ°ÊñáÔºà1.1‰∏áÂ≠ó45Âº†ÊâãÁªòÂõæÔºâÔºåÈù¢Ê∏£ÈÄÜË¢≠ÂøÖÁúãüëç | ‰∫åÂì•ÁöÑJavaËøõÈò∂‰πãË∑Ø</title><meta name="description" content="‰∏ãËΩΩÊ¨°Êï∞Ë∂Ö 1 ‰∏áÊ¨°Ôºå1.1 ‰∏áÂ≠ó 45 Âº†ÊâãÁªòÂõæÔºåËØ¶Ëß£ 23 ÈÅì RocketMQ Èù¢ËØïÈ´òÈ¢ëÈ¢òÔºàËÆ©Â§©‰∏ãÊ≤°ÊúâÈöæËÉåÁöÑÂÖ´ËÇ°ÔºâÔºåÈù¢Ê∏£ËÉå‰ºöËøô‰∫õ RocketMQ ÂÖ´ËÇ°ÊñáÔºåËøôÊ¨°ÂêäÊâìÈù¢ËØïÂÆòÔºåÊàëËßâÂæóÁ®≥‰∫ÜÔºàÊâãÂä® dogÔºâ„ÄÇ">
    <link rel="preload" href="/toBeBetterJavaer/assets/style-BrQw9SAQ.css" as="style"><link rel="stylesheet" href="/toBeBetterJavaer/assets/style-BrQw9SAQ.css">
    <link rel="modulepreload" href="/toBeBetterJavaer/assets/app-BeHkqkE2.js"><link rel="modulepreload" href="/toBeBetterJavaer/assets/rocketmq.html-ubHk46_C.js"><link rel="modulepreload" href="/toBeBetterJavaer/assets/plugin-vue_export-helper-DlAUqK2U.js">
    
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only">Ë∑≥Ëá≥‰∏ªË¶ÅÂÖßÂÆπ</a><!--]--><div class="theme-container external-link-icon has-toc"><!--[--><header id="navbar" class="vp-navbar"><div class="vp-navbar-start"><button type="button" class="vp-toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!----><!--[--><a class="route-link vp-brand" href="/toBeBetterJavaer/"><img class="vp-nav-logo" src="https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/logo-02.png" alt><!----><span class="vp-site-name hide-in-pad">‰∫åÂì•ÁöÑJavaËøõÈò∂‰πãË∑Ø</span></a><!--]--><!----></div><div class="vp-navbar-center"><!----><!--[--><nav class="vp-nav-links"><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/toBeBetterJavaer/blog.html" aria-label="ÂçöÂÆ¢"><!--[--><span class="font-icon icon iconfont icon-gaishu" style=""></span><!--]-->ÂçöÂÆ¢<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/toBeBetterJavaer/home.html" aria-label="ËøõÈò∂‰πãË∑Ø"><!--[--><span class="font-icon icon iconfont icon-lujing" style=""></span><!--]-->ËøõÈò∂‰πãË∑Ø<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/toBeBetterJavaer/zhishixingqiu/" aria-label="Áü•ËØÜÊòüÁêÉ"><!--[--><span class="font-icon icon iconfont icon-Artboard" style=""></span><!--]-->Áü•ËØÜÊòüÁêÉ<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/toBeBetterJavaer/xuexiluxian/" aria-label="Â≠¶‰π†Ë∑ØÁ∫ø"><!--[--><span class="font-icon icon iconfont icon-luxian" style=""></span><!--]-->Â≠¶‰π†Ë∑ØÁ∫ø<!----></a></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="ÁèçËóèËµÑÊ∫ê"><!--[--><span class="font-icon icon iconfont icon-youzhi" style=""></span>ÁèçËóèËµÑÊ∫ê<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/toBeBetterJavaer/pdf/" aria-label="PDF‰∏ãËΩΩ"><!--[--><span class="font-icon icon iconfont icon-java" style=""></span><!--]-->PDF‰∏ãËΩΩ<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/toBeBetterJavaer/sidebar/sanfene/nixi.html" aria-label="Èù¢Ê∏£ÈÄÜË¢≠"><!--[--><span class="font-icon icon iconfont icon-zhunbei" style=""></span><!--]-->Èù¢Ê∏£ÈÄÜË¢≠<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/toBeBetterJavaer/nice-article/itmind/" aria-label="Á†¥Ëß£ÂêàÈõÜ"><!--[--><span class="font-icon icon iconfont icon-zhongyaotishi" style=""></span><!--]-->Á†¥Ëß£ÂêàÈõÜ<!----></a></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><a class="auto-link external-link" href="https://space.bilibili.com/513340480" aria-label="BÁ´ôËßÜÈ¢ë" rel="noopener noreferrer" target="_blank"><!--[--><span class="font-icon icon iconfont icon-bzhan" style=""></span><!--]-->BÁ´ôËßÜÈ¢ë<!----></a></div></nav><!--]--><!----></div><div class="vp-navbar-end"><!----><!--[--><!----><div class="vp-nav-item vp-action"><a class="vp-action-link" href="https://github.com/itwanger/toBeBetterJavaer" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" name="github" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="vp-nav-item hide-in-mobile"><button type="button" class="vp-outlook-button" tabindex="-1" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon outlook-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="outlook icon" name="outlook"><path d="M224 800c0 9.6 3.2 44.8 6.4 54.4 6.4 48-48 76.8-48 76.8s80 41.6 147.2 0 134.4-134.4 38.4-195.2c-22.4-12.8-41.6-19.2-57.6-19.2C259.2 716.8 227.2 761.6 224 800zM560 675.2l-32 51.2c-51.2 51.2-83.2 32-83.2 32 25.6 67.2 0 112-12.8 128 25.6 6.4 51.2 9.6 80 9.6 54.4 0 102.4-9.6 150.4-32l0 0c3.2 0 3.2-3.2 3.2-3.2 22.4-16 12.8-35.2 6.4-44.8-9.6-12.8-12.8-25.6-12.8-41.6 0-54.4 60.8-99.2 137.6-99.2 6.4 0 12.8 0 22.4 0 12.8 0 38.4 9.6 48-25.6 0-3.2 0-3.2 3.2-6.4 0-3.2 3.2-6.4 3.2-6.4 6.4-16 6.4-16 6.4-19.2 9.6-35.2 16-73.6 16-115.2 0-105.6-41.6-198.4-108.8-268.8C704 396.8 560 675.2 560 675.2zM224 419.2c0-28.8 22.4-51.2 51.2-51.2 28.8 0 51.2 22.4 51.2 51.2 0 28.8-22.4 51.2-51.2 51.2C246.4 470.4 224 448 224 419.2zM320 284.8c0-22.4 19.2-41.6 41.6-41.6 22.4 0 41.6 19.2 41.6 41.6 0 22.4-19.2 41.6-41.6 41.6C339.2 326.4 320 307.2 320 284.8zM457.6 208c0-12.8 12.8-25.6 25.6-25.6 12.8 0 25.6 12.8 25.6 25.6 0 12.8-12.8 25.6-25.6 25.6C470.4 233.6 457.6 220.8 457.6 208zM128 505.6C128 592 153.6 672 201.6 736c28.8-60.8 112-60.8 124.8-60.8-16-51.2 16-99.2 16-99.2l316.8-422.4c-48-19.2-99.2-32-150.4-32C297.6 118.4 128 291.2 128 505.6zM764.8 86.4c-22.4 19.2-390.4 518.4-390.4 518.4-22.4 28.8-12.8 76.8 22.4 99.2l9.6 6.4c35.2 22.4 80 12.8 99.2-25.6 0 0 6.4-12.8 9.6-19.2 54.4-105.6 275.2-524.8 288-553.6 6.4-19.2-3.2-32-19.2-32C777.6 76.8 771.2 80 764.8 86.4z"></path></svg><div class="vp-outlook-dropdown"><!----></div></button></div><!--[--><div id="docsearch-container" style="display:none;"></div><div><button type="button" class="DocSearch DocSearch-Button" aria-label="ÊêúÁ¥¢ÊñáÊ°£"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">ÊêúÁ¥¢ÊñáÊ°£</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"><svg width="15" height="15" class="DocSearch-Control-Key-Icon"><path d="M4.505 4.496h2M5.505 5.496v5M8.216 4.496l.055 5.993M10 7.5c.333.333.5.667.5 1v2M12.326 4.5v5.996M8.384 4.496c1.674 0 2.116 0 2.116 1.5s-.442 1.5-2.116 1.5M3.205 9.303c-.09.448-.277 1.21-1.241 1.203C1 10.5.5 9.513.5 8V7c0-1.57.5-2.5 1.464-2.494.964.006 1.134.598 1.24 1.342M12.553 10.5h1.953" stroke-width="1.2" stroke="currentColor" fill="none" stroke-linecap="square"></path></svg></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--><!--]--><!----><button type="button" class="vp-toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span><span class="vp-top"></span><span class="vp-middle"></span><span class="vp-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside id="sidebar" class="vp-sidebar"><!----><ul class="vp-sidebar-links"><li><a class="route-link auto-link vp-sidebar-link" href="/toBeBetterJavaer/sidebar/sanfene/nixi.html" aria-label="Èù¢Ê∏£ÈÄÜË¢≠"><!---->Èù¢Ê∏£ÈÄÜË¢≠<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/toBeBetterJavaer/sidebar/sanfene/javase.html" aria-label="Èù¢Ê∏£ÈÄÜË¢≠-Java SE"><!---->Èù¢Ê∏£ÈÄÜË¢≠-Java SE<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/toBeBetterJavaer/sidebar/sanfene/collection.html" aria-label="Èù¢Ê∏£ÈÄÜË¢≠-JavaÈõÜÂêàÊ°ÜÊû∂"><!---->Èù¢Ê∏£ÈÄÜË¢≠-JavaÈõÜÂêàÊ°ÜÊû∂<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/toBeBetterJavaer/sidebar/sanfene/javathread.html" aria-label="Èù¢Ê∏£ÈÄÜË¢≠-JavaÂπ∂ÂèëÁºñÁ®ã"><!---->Èù¢Ê∏£ÈÄÜË¢≠-JavaÂπ∂ÂèëÁºñÁ®ã<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/toBeBetterJavaer/sidebar/sanfene/jvm.html" aria-label="Èù¢Ê∏£ÈÄÜË¢≠-JVM"><!---->Èù¢Ê∏£ÈÄÜË¢≠-JVM<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/toBeBetterJavaer/sidebar/sanfene/spring.html" aria-label="Èù¢Ê∏£ÈÄÜË¢≠-Spring"><!---->Èù¢Ê∏£ÈÄÜË¢≠-Spring<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/toBeBetterJavaer/sidebar/sanfene/redis.html" aria-label="Èù¢Ê∏£ÈÄÜË¢≠-Redis"><!---->Èù¢Ê∏£ÈÄÜË¢≠-Redis<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/toBeBetterJavaer/sidebar/sanfene/mybatis.html" aria-label="Èù¢Ê∏£ÈÄÜË¢≠-MyBatis"><!---->Èù¢Ê∏£ÈÄÜË¢≠-MyBatis<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/toBeBetterJavaer/sidebar/sanfene/mysql.html" aria-label="Èù¢Ê∏£ÈÄÜË¢≠-MySQL"><!---->Èù¢Ê∏£ÈÄÜË¢≠-MySQL<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/toBeBetterJavaer/sidebar/sanfene/os.html" aria-label="Èù¢Ê∏£ÈÄÜË¢≠-Êìç‰ΩúÁ≥ªÁªü"><!---->Èù¢Ê∏£ÈÄÜË¢≠-Êìç‰ΩúÁ≥ªÁªü<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/toBeBetterJavaer/sidebar/sanfene/network.html" aria-label="Èù¢Ê∏£ÈÄÜË¢≠-ËÆ°ÁÆóÊú∫ÁΩëÁªú"><!---->Èù¢Ê∏£ÈÄÜË¢≠-ËÆ°ÁÆóÊú∫ÁΩëÁªú<!----></a></li><li><a class="route-link route-link-active auto-link vp-sidebar-link active" href="/toBeBetterJavaer/sidebar/sanfene/rocketmq.html" aria-label="Èù¢Ê∏£ÈÄÜË¢≠-RocketMQ"><!---->Èù¢Ê∏£ÈÄÜË¢≠-RocketMQ<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/toBeBetterJavaer/sidebar/sanfene/fenbushi.html" aria-label="Èù¢Ê∏£ÈÄÜË¢≠-ÂàÜÂ∏ÉÂºè"><!---->Èù¢Ê∏£ÈÄÜË¢≠-ÂàÜÂ∏ÉÂºè<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/toBeBetterJavaer/sidebar/sanfene/weifuwu.html" aria-label="Èù¢Ê∏£ÈÄÜË¢≠-ÂæÆÊúçÂä°"><!---->Èù¢Ê∏£ÈÄÜË¢≠-ÂæÆÊúçÂä°<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/toBeBetterJavaer/sidebar/sanfene/shejimoshi.html" aria-label="Èù¢Ê∏£ÈÄÜË¢≠-ËÆæËÆ°Ê®°Âºè"><!---->Èù¢Ê∏£ÈÄÜË¢≠-ËÆæËÆ°Ê®°Âºè<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/toBeBetterJavaer/sidebar/sanfene/linux.html" aria-label="Èù¢Ê∏£ÈÄÜË¢≠-Linux"><!---->Èù¢Ê∏£ÈÄÜË¢≠-Linux<!----></a></li></ul><!----></aside><!--[--><main id="main-content" class="vp-page"><!--[--><!----><!----><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><!---->Ê∂àÊÅØÈòüÂàóÈù¢ËØïÈ¢ò‰πãRocketMQÁØáÔºå23ÈÅìRocketMQÂÖ´ËÇ°ÊñáÔºà1.1‰∏áÂ≠ó45Âº†ÊâãÁªòÂõæÔºâÔºåÈù¢Ê∏£ÈÄÜË¢≠ÂøÖÁúãüëç</h1><div class="page-info"><span class="page-author-info" aria-label="‰ΩúËÄÖüñä" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon" name="author"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><span class="page-author-item">‰∏âÂàÜÊÅ∂</span></span><span property="author" content="‰∏âÂàÜÊÅ∂"></span></span><!----><span class="page-date-info" aria-label="ÂÜô‰ΩúÊó•ÊúüüìÖ" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon" name="calendar"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span><!----></span><meta property="datePublished" content="2020-11-18T15:58:52.000Z"></span><span class="page-category-info" aria-label="ÂàÜÁ±ªüåà" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="category icon" name="category"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></svg><!--[--><span class="page-category-item color3 clickable" role="navigation">Èù¢Ê∏£ÈÄÜË¢≠</span><!--]--><meta property="articleSection" content="Èù¢Ê∏£ÈÄÜË¢≠"></span><span class="page-tag-info" aria-label="Ê†áÁ≠æüè∑" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon tag-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="tag icon" name="tag"><path d="M939.902 458.563L910.17 144.567c-1.507-16.272-14.465-29.13-30.737-30.737L565.438 84.098h-.402c-3.215 0-5.726 1.005-7.634 2.913l-470.39 470.39a10.004 10.004 0 000 14.164l365.423 365.424c1.909 1.908 4.42 2.913 7.132 2.913s5.223-1.005 7.132-2.913l470.39-470.39c2.01-2.11 3.014-5.023 2.813-8.036zm-240.067-72.121c-35.458 0-64.286-28.828-64.286-64.286s28.828-64.285 64.286-64.285 64.286 28.828 64.286 64.285-28.829 64.286-64.286 64.286z"></path></svg><!--[--><span class="page-tag-item color3 clickable" role="navigation">Èù¢Ê∏£ÈÄÜË¢≠</span><!--]--><meta property="keywords" content="Èù¢Ê∏£ÈÄÜË¢≠"></span><span class="page-word-info" aria-label="Â≠óÊï∞üî†" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon word-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="word icon" name="word"><path d="M518.217 432.64V73.143A73.143 73.143 0 01603.43 1.097a512 512 0 01419.474 419.474 73.143 73.143 0 01-72.046 85.212H591.36a73.143 73.143 0 01-73.143-73.143z"></path><path d="M493.714 566.857h340.297a73.143 73.143 0 0173.143 85.577A457.143 457.143 0 11371.566 117.76a73.143 73.143 0 0185.577 73.143v339.383a36.571 36.571 0 0036.571 36.571z"></path></svg><span>Á∫¶ 13271 Â≠ó</span><meta property="wordCount" content="13271"></span><span class="page-reading-time-info" aria-label="ÈòÖËØªÊó∂Èó¥‚åõ" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon" name="timer"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>Â§ßÁ∫¶ 44 ÂàÜÈíü</span><meta property="timeRequired" content="PT44M"></span></div><hr></div><div class="vp-toc-placeholder"><aside id="toc"><!----><div class="vp-toc-header">Ê≠§È°µÂÜÖÂÆπ<button type="button" class="print-button" title="ÊâìÂç∞"><svg xmlns="http://www.w3.org/2000/svg" class="icon print-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="print icon" name="print"><path d="M819.2 364.8h-44.8V128c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v236.8h-44.8C145.067 364.8 96 413.867 96 473.6v192c0 59.733 49.067 108.8 108.8 108.8h44.8V896c0 17.067 14.933 32 32 32h460.8c17.067 0 32-14.933 32-32V774.4h44.8c59.733 0 108.8-49.067 108.8-108.8v-192c0-59.733-49.067-108.8-108.8-108.8zM313.6 160h396.8v204.8H313.6V160zm396.8 704H313.6V620.8h396.8V864zM864 665.6c0 25.6-19.2 44.8-44.8 44.8h-44.8V588.8c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v121.6h-44.8c-25.6 0-44.8-19.2-44.8-44.8v-192c0-25.6 19.2-44.8 44.8-44.8h614.4c25.6 0 44.8 19.2 44.8 44.8v192z"></path></svg></button><div class="arrow end"></div></div><div class="vp-toc-wrapper"><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#Âü∫Á°Ä">Âü∫Á°Ä</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_1-‰∏∫‰ªÄ‰πàË¶Å‰ΩøÁî®Ê∂àÊÅØÈòüÂàóÂë¢">1.‰∏∫‰ªÄ‰πàË¶Å‰ΩøÁî®Ê∂àÊÅØÈòüÂàóÂë¢Ôºü</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_2-‰∏∫‰ªÄ‰πàË¶ÅÈÄâÊã©-rocketmq">2.‰∏∫‰ªÄ‰πàË¶ÅÈÄâÊã© RocketMQ?</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_3-rocketmq-Êúâ‰ªÄ‰πà‰ºòÁº∫ÁÇπ">3.RocketMQ Êúâ‰ªÄ‰πà‰ºòÁº∫ÁÇπÔºü</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_4-Ê∂àÊÅØÈòüÂàóÊúâÂì™‰∫õÊ∂àÊÅØÊ®°Âûã">4.Ê∂àÊÅØÈòüÂàóÊúâÂì™‰∫õÊ∂àÊÅØÊ®°ÂûãÔºü</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_5-ÈÇ£-rocketmq-ÁöÑÊ∂àÊÅØÊ®°ÂûãÂë¢">5.ÈÇ£ RocketMQ ÁöÑÊ∂àÊÅØÊ®°ÂûãÂë¢Ôºü</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_6-Ê∂àÊÅØÁöÑÊ∂àË¥πÊ®°Âºè‰∫ÜËß£Âêó">6.Ê∂àÊÅØÁöÑÊ∂àË¥πÊ®°Âºè‰∫ÜËß£ÂêóÔºü</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_7-roctetmq-Âü∫Êú¨Êû∂ÊûÑ‰∫ÜËß£Âêó">7.RoctetMQ Âü∫Êú¨Êû∂ÊûÑ‰∫ÜËß£ÂêóÔºü</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_8-ÈÇ£ËÉΩ‰ªãÁªç‰∏Ä‰∏ãËøôÂõõÈÉ®ÂàÜÂêó">8.ÈÇ£ËÉΩ‰ªãÁªç‰∏Ä‰∏ãËøôÂõõÈÉ®ÂàÜÂêóÔºü</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#ËøõÈò∂">ËøõÈò∂</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_9-Â¶Ç‰Ωï‰øùËØÅÊ∂àÊÅØÁöÑÂèØÁî®ÊÄß-ÂèØÈù†ÊÄß-‰∏ç‰∏¢Â§±Âë¢">9.Â¶Ç‰Ωï‰øùËØÅÊ∂àÊÅØÁöÑÂèØÁî®ÊÄß/ÂèØÈù†ÊÄß/‰∏ç‰∏¢Â§±Âë¢Ôºü</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_10-Â¶Ç‰ΩïÂ§ÑÁêÜÊ∂àÊÅØÈáçÂ§çÁöÑÈóÆÈ¢òÂë¢">10.Â¶Ç‰ΩïÂ§ÑÁêÜÊ∂àÊÅØÈáçÂ§çÁöÑÈóÆÈ¢òÂë¢Ôºü</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_11-ÊÄé‰πàÂ§ÑÁêÜÊ∂àÊÅØÁßØÂéã">11.ÊÄé‰πàÂ§ÑÁêÜÊ∂àÊÅØÁßØÂéãÔºü</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_12-È°∫Â∫èÊ∂àÊÅØÂ¶Ç‰ΩïÂÆûÁé∞">12.È°∫Â∫èÊ∂àÊÅØÂ¶Ç‰ΩïÂÆûÁé∞Ôºü</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_13-Â¶Ç‰ΩïÂÆûÁé∞Ê∂àÊÅØËøáÊª§">13.Â¶Ç‰ΩïÂÆûÁé∞Ê∂àÊÅØËøáÊª§Ôºü</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_14-Âª∂Êó∂Ê∂àÊÅØ‰∫ÜËß£Âêó">14.Âª∂Êó∂Ê∂àÊÅØ‰∫ÜËß£ÂêóÔºü</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_15-ÊÄé‰πàÂÆûÁé∞ÂàÜÂ∏ÉÂºèÊ∂àÊÅØ‰∫ãÂä°ÁöÑ-ÂçäÊ∂àÊÅØ">15.ÊÄé‰πàÂÆûÁé∞ÂàÜÂ∏ÉÂºèÊ∂àÊÅØ‰∫ãÂä°ÁöÑÔºüÂçäÊ∂àÊÅØÔºü</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_16-Ê≠ª‰ø°ÈòüÂàóÁü•ÈÅìÂêó">16.Ê≠ª‰ø°ÈòüÂàóÁü•ÈÅìÂêóÔºü</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_17-Â¶Ç‰Ωï‰øùËØÅ-rocketmq-ÁöÑÈ´òÂèØÁî®">17.Â¶Ç‰Ωï‰øùËØÅ RocketMQ ÁöÑÈ´òÂèØÁî®Ôºü</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#ÂéüÁêÜ">ÂéüÁêÜ</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_18-ËØ¥‰∏Ä‰∏ã-rocketmq-ÁöÑÊï¥‰ΩìÂ∑•‰ΩúÊµÅÁ®ã">18.ËØ¥‰∏Ä‰∏ã RocketMQ ÁöÑÊï¥‰ΩìÂ∑•‰ΩúÊµÅÁ®ãÔºü</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_19-‰∏∫‰ªÄ‰πà-rocketmq-‰∏ç‰ΩøÁî®-zookeeper-‰Ωú‰∏∫Ê≥®ÂÜå‰∏≠ÂøÉÂë¢">19.‰∏∫‰ªÄ‰πà RocketMQ ‰∏ç‰ΩøÁî® Zookeeper ‰Ωú‰∏∫Ê≥®ÂÜå‰∏≠ÂøÉÂë¢Ôºü</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_20-broker-ÊòØÊÄé‰πà‰øùÂ≠òÊï∞ÊçÆÁöÑÂë¢">20.Broker ÊòØÊÄé‰πà‰øùÂ≠òÊï∞ÊçÆÁöÑÂë¢Ôºü</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_21-ËØ¥ËØ¥-rocketmq-ÊÄé‰πàÂØπÊñá‰ª∂ËøõË°åËØªÂÜôÁöÑ">21.ËØ¥ËØ¥ RocketMQ ÊÄé‰πàÂØπÊñá‰ª∂ËøõË°åËØªÂÜôÁöÑÔºü</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_22-Ê∂àÊÅØÂà∑ÁõòÊÄé‰πàÂÆûÁé∞ÁöÑÂë¢">22.Ê∂àÊÅØÂà∑ÁõòÊÄé‰πàÂÆûÁé∞ÁöÑÂë¢Ôºü</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_22-ËÉΩËØ¥‰∏ã-rocketmq-ÁöÑË¥üËΩΩÂùáË°°ÊòØÂ¶Ç‰ΩïÂÆûÁé∞ÁöÑ">22.ËÉΩËØ¥‰∏ã RocketMQ ÁöÑË¥üËΩΩÂùáË°°ÊòØÂ¶Ç‰ΩïÂÆûÁé∞ÁöÑÔºü</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_23-rocketmq-Ê∂àÊÅØÈïøËΩÆËØ¢‰∫ÜËß£Âêó">23.RocketMQ Ê∂àÊÅØÈïøËΩÆËØ¢‰∫ÜËß£ÂêóÔºü</a></li><!----><!--]--></ul></li><!--]--></ul><div class="vp-toc-marker" style="top:-1.7rem;"></div></div><!----></aside></div><!----><div class="theme-hope-content"><p>1.1 ‰∏áÂ≠ó 45 Âº†ÊâãÁªòÂõæÔºåËØ¶Ëß£ 23 ÈÅì RocketMQ Èù¢ËØïÈ´òÈ¢ëÈ¢òÔºàËÆ©Â§©‰∏ãÊ≤°ÊúâÈöæËÉåÁöÑÂÖ´ËÇ°ÔºâÔºåÈù¢Ê∏£ËÉå‰ºöËøô‰∫õ RocketMQ ÂÖ´ËÇ°ÊñáÔºåËøôÊ¨°ÂêäÊâìÈù¢ËØïÂÆòÔºåÊàëËßâÂæóÁ®≥‰∫ÜÔºàÊâãÂä® dogÔºâ„ÄÇÊï¥ÁêÜÔºöÊ≤âÈªòÁéã‰∫åÔºåÊà≥<a href="https://mp.weixin.qq.com/s/N6wq52pBGh8xkS-5uRcO2g" target="_blank" rel="noopener noreferrer">ËΩ¨ËΩΩÈìæÊé•</a>Ôºå‰ΩúËÄÖÔºö‰∏âÂàÜÊÅ∂ÔºåÊà≥<a href="https://mp.weixin.qq.com/s/IvBt3tB_IWZgPjKv5WGS4A" target="_blank" rel="noopener noreferrer">ÂéüÊñáÈìæÊé•</a>„ÄÇ</p><h2 id="Âü∫Á°Ä" tabindex="-1"><a class="header-anchor" href="#Âü∫Á°Ä"><span>Âü∫Á°Ä</span></a></h2><h3 id="_1-‰∏∫‰ªÄ‰πàË¶Å‰ΩøÁî®Ê∂àÊÅØÈòüÂàóÂë¢" tabindex="-1"><a class="header-anchor" href="#_1-‰∏∫‰ªÄ‰πàË¶Å‰ΩøÁî®Ê∂àÊÅØÈòüÂàóÂë¢"><span>1.‰∏∫‰ªÄ‰πàË¶Å‰ΩøÁî®Ê∂àÊÅØÈòüÂàóÂë¢Ôºü</span></a></h3><p>Ê∂àÊÅØÈòüÂàóÔºàMessage Queue, MQÔºâÊòØ‰∏ÄÁßçÈùûÂ∏∏ÈáçË¶ÅÁöÑ‰∏≠Èó¥‰ª∂ÊäÄÊúØÔºåÂπøÊ≥õÂ∫îÁî®‰∫éÂàÜÂ∏ÉÂºèÁ≥ªÁªü‰∏≠Ôºå‰ª•ÊèêÈ´òÁ≥ªÁªüÁöÑÂèØÁî®ÊÄß„ÄÅËß£ËÄ¶ËÉΩÂäõÂíåÂºÇÊ≠•ÈÄö‰ø°ÊïàÁéá„ÄÇ</p><p>‚ë†„ÄÅ<strong>Ëß£ËÄ¶</strong></p><p>Áîü‰∫ßËÄÖÂ∞ÜÊ∂àÊÅØÊîæÂÖ•ÈòüÂàóÔºåÊ∂àË¥πËÄÖ‰ªéÈòüÂàó‰∏≠ÂèñÂá∫Ê∂àÊÅØÔºåËøôÊ†∑‰∏ÄÊù•ÔºåÁîü‰∫ßËÄÖÂíåÊ∂àË¥πËÄÖ‰πãÈó¥Â∞±‰∏çÈúÄË¶ÅÁõ¥Êé•ÈÄö‰ø°ÔºåÁîü‰∫ßËÄÖÂè™ÁÆ°Áîü‰∫ßÊ∂àÊÅØÔºåÊ∂àË¥πËÄÖÂè™ÁÆ°Ê∂àË¥πÊ∂àÊÅØÔºåËøôÊ†∑Â∞±ÂÆûÁé∞‰∫ÜËß£ËÄ¶„ÄÇ</p><figure><img src="https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/nice-article/weixin-mianznxrocketmqessw-dd332b3f-d5e5-41bc-813a-9f612e582255.jpg" alt="‰∏âÂàÜÊÅ∂Èù¢Ê∏£ÈÄÜË¢≠ÔºöÊ∂àÊÅØÈòüÂàóËß£ËÄ¶" tabindex="0" loading="lazy"><figcaption>‰∏âÂàÜÊÅ∂Èù¢Ê∏£ÈÄÜË¢≠ÔºöÊ∂àÊÅØÈòüÂàóËß£ËÄ¶</figcaption></figure><p>ÂÉè <a href="https://javabetter.cn/zhishixingqiu/pmhub.html" target="_blank" rel="noopener noreferrer">PmHub</a> ‰∏≠ÁöÑ‰ªªÂä°ÂÆ°ÊâπÔºåÂ∞±Áî®‰∫Ü RocketMQ Êù•ÂÅöËß£ËÄ¶„ÄÇ</p><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/rocketmq-20240808102425.png" alt="PmHub ÁöÑÈù¢ËØïÁ≥ªÂàóÊïôÁ®ã" tabindex="0" loading="lazy"><figcaption>PmHub ÁöÑÈù¢ËØïÁ≥ªÂàóÊïôÁ®ã</figcaption></figure><p>‚ë°„ÄÅ<strong>ÂºÇÊ≠•</strong>Ôºö</p><p>Á≥ªÁªüÂèØ‰ª•Â∞ÜÈÇ£‰∫õËÄóÊó∂ÁöÑ‰ªªÂä°ÊîæÂú®Ê∂àÊÅØÈòüÂàó‰∏≠ÂºÇÊ≠•Â§ÑÁêÜÔºå‰ªéËÄåÂø´ÈÄüÂìçÂ∫îÁî®Êà∑ÁöÑËØ∑Ê±Ç„ÄÇÊØîÂ¶ÇËØ¥ÔºåÁî®Êà∑‰∏ãÂçïÂêéÔºåÁ≥ªÁªüÂèØ‰ª•ÂÖàËøîÂõû‰∏Ä‰∏™‰∏ãÂçïÊàêÂäüÁöÑÊ∂àÊÅØÔºåÁÑ∂ÂêéÂ∞ÜËÆ¢Âçï‰ø°ÊÅØÊîæÂÖ•Ê∂àÊÅØÈòüÂàó‰∏≠ÔºåÂêéÂè∞Á≥ªÁªüÂÜçÂéªÂ§ÑÁêÜËÆ¢Âçï‰ø°ÊÅØ„ÄÇ</p><figure><img src="https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/nice-article/weixin-mianznxrocketmqessw-40d8f782-08cf-48c4-98b2-cb125d287e93.jpg" alt="‰∏âÂàÜÊÅ∂Èù¢Ê∏£ÈÄÜË¢≠ÔºöÊ∂àÊÅØÈòüÂàóÂºÇÊ≠•" tabindex="0" loading="lazy"><figcaption>‰∏âÂàÜÊÅ∂Èù¢Ê∏£ÈÄÜË¢≠ÔºöÊ∂àÊÅØÈòüÂàóÂºÇÊ≠•</figcaption></figure><p>‚ë¢„ÄÅ<strong>ÂâäÂ≥∞</strong>Ôºö</p><p>ÂâäÂ≥∞Â°´Ë∞∑ÊòØ‰∏ÄÁßçÂ∏∏ËßÅÁöÑÊäÄÊúØÊâãÊÆµÔºåÁî®‰∫éÂ∫îÂØπÁ≥ªÁªüÈ´òÂπ∂ÂèëËØ∑Ê±ÇÁöÑÁû¨Êó∂ÊµÅÈáèÈ´òÂ≥∞ÔºåÈÄöËøáÊ∂àÊÅØÈòüÂàóÔºåÂèØ‰ª•Â∞ÜÁû¨Êó∂ÁöÑÈ´òÂ≥∞ÊµÅÈáèËΩ¨Âåñ‰∏∫ÊåÅÁª≠ÁöÑ‰ΩéÊµÅÈáèÔºå‰ªéËÄå‰øùÊä§Á≥ªÁªü‰∏ç‰ºöÂõ†‰∏∫Áû¨Êó∂ÁöÑÈ´òÊµÅÈáèËÄåÂ¥©Ê∫É„ÄÇ</p><figure><img src="https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/nice-article/weixin-mianznxrocketmqessw-f028cb0c-b1a3-47ef-b290-f7d6f46512fb.jpg" alt="‰∏âÂàÜÊÅ∂Èù¢Ê∏£ÈÄÜË¢≠ÔºöÊ∂àÊÅØÈòüÂàóÂâäÂ≥∞" tabindex="0" loading="lazy"><figcaption>‰∏âÂàÜÊÅ∂Èù¢Ê∏£ÈÄÜË¢≠ÔºöÊ∂àÊÅØÈòüÂàóÂâäÂ≥∞</figcaption></figure><h4 id="Â¶Ç‰ΩïÁî®rocketmqÂÅöÂâäÂ≥∞Â°´Ë∞∑ÁöÑ" tabindex="-1"><a class="header-anchor" href="#Â¶Ç‰ΩïÁî®rocketmqÂÅöÂâäÂ≥∞Â°´Ë∞∑ÁöÑ"><span>Â¶Ç‰ΩïÁî®RocketMQÂÅöÂâäÂ≥∞Â°´Ë∞∑ÁöÑÔºü</span></a></h4><p>Áî®Êà∑ËØ∑Ê±ÇÂà∞ËææÁ≥ªÁªüÂêéÔºåÁî±Áîü‰∫ßËÄÖÊé•Êî∂ËØ∑Ê±ÇÂπ∂Â∞ÜÂÖ∂ËΩ¨Âåñ‰∏∫Ê∂àÊÅØÔºåÂèëÈÄÅÂà∞ RocketMQ ÈòüÂàó‰∏≠„ÄÇÈòüÂàóÁî®Êù•ÂÖÖÂΩìÁºìÂÜ≤Âå∫ÔºåÂ∞ÜÂ§ßÈáèËØ∑Ê±ÇÊåâÁÖßÈ°∫Â∫èÊéíÈòüÔºåËøôÊ†∑Â∞±ÂèØ‰ª•ÂâäÂáèËØ∑Ê±ÇÈ´òÂ≥∞Êó∂ÂØπÂêéÁ´ØÊúçÂä°ÁöÑÁõ¥Êé•ÂéãÂäõ„ÄÇ</p><p>‰∏ç‰ªÖÂ¶ÇÊ≠§ÔºåÁîü‰∫ßËÄÖÈÄöËøáÂºÇÊ≠•ÊñπÂºèÂèëÈÄÅÊ∂àÊÅØÔºåËøòÂèØ‰ª•Âø´ÈÄüÂìçÂ∫îÁî®Êà∑ËØ∑Ê±Ç„ÄÇ</p><p>Ê∂àË¥πËÄÖ‰ªé RocketMQ ÈòüÂàó‰∏≠ÊåâÁÖß‰∏ÄÂÆöÈÄüÁéáËØªÂèñÊ∂àÊÅØÂπ∂ËøõË°åÂ§ÑÁêÜ„ÄÇÂèØ‰ª•Ê†πÊçÆÂêéÁ´ØÂ§ÑÁêÜËÉΩÂäõÂíåÂΩìÂâçË¥üËΩΩÊÉÖÂÜµÂä®ÊÄÅË∞ÉÊï¥Ê∂àË¥πËÄÖÁöÑÊ∂àË¥πÈÄüÁéáÔºåËææÂà∞Â°´Ë∞∑ÁöÑÊïàÊûú„ÄÇ</p><blockquote><ol><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java Èù¢ËØïÊåáÂçóÔºà‰ªòË¥πÔºâ</a>Êî∂ÂΩïÁöÑÂ≠óËäÇË∑≥Âä®ÂêåÂ≠¶ 7 Java ÂêéÁ´ØÂÆû‰π†‰∏ÄÈù¢ÁöÑÂéüÈ¢òÔºöÊúâ‰∫ÜËß£Ëøá MQ ÂêóÔºü</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java Èù¢ËØïÊåáÂçóÔºà‰ªòË¥πÔºâ</a>Êî∂ÂΩïÁöÑËÖæËÆØÈù¢ÁªèÂêåÂ≠¶ 24 Èù¢ËØïÂéüÈ¢òÔºöÂ¶Ç‰ΩïÁî®Ê∂àÊÅØÈòüÂàóÂÅöÂâäÂ≥∞Â°´Ë∞∑ÁöÑÔºü</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java Èù¢ËØïÊåáÂçóÔºà‰ªòË¥πÔºâ</a>Êî∂ÂΩïÁöÑÁæéÂõ¢Èù¢ÁªèÂêåÂ≠¶ 4 ‰∏ÄÈù¢Èù¢ËØïÂéüÈ¢òÔºöÈ°πÁõÆÈáåÁî® RocketMQ ÂÅöÂâäÂ≥∞ÔºåËøòÊúâ‰ªÄ‰πàÂú∫ÊôØÈÄÇÂêàÊ∂àÊÅØÈòüÂàó</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java Èù¢ËØïÊåáÂçóÔºà‰ªòË¥πÔºâ</a>Êî∂ÂΩïÁöÑÂ≠óËäÇË∑≥Âä®ÂêåÂ≠¶ 20 ÊµãÂºÄ‰∏ÄÈù¢ÁöÑÂéüÈ¢òÔºöRocketMQÊúâ‰ªÄ‰πàÁî®Ôºå‰Ω†‰∏ÄËà¨ÊãøÊù•ÂÅö‰ªÄ‰πà</li></ol></blockquote><h3 id="_2-‰∏∫‰ªÄ‰πàË¶ÅÈÄâÊã©-rocketmq" tabindex="-1"><a class="header-anchor" href="#_2-‰∏∫‰ªÄ‰πàË¶ÅÈÄâÊã©-rocketmq"><span>2.‰∏∫‰ªÄ‰πàË¶ÅÈÄâÊã© RocketMQ?</span></a></h3><figure><img src="https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/nice-article/weixin-mianznxrocketmqessw-c3493e70-67c7-4f0d-bb99-f0fe8074c807.jpg" alt="ÂõõÂ§ßÊ∂àÊÅØÈòüÂàóÂØπÊØî" tabindex="0" loading="lazy"><figcaption>ÂõõÂ§ßÊ∂àÊÅØÈòüÂàóÂØπÊØî</figcaption></figure><p>Êàë‰ª¨Á≥ªÁªü‰∏ªË¶ÅÈù¢Âêë C Á´ØÁî®Êà∑ÔºåÊúâ‰∏ÄÂÆöÁöÑÂπ∂ÂèëÈáèÔºåÂØπÊÄßËÉΩ‰πüÊúâÊØîËæÉÈ´òÁöÑË¶ÅÊ±ÇÔºåÊâÄ‰ª•ÈÄâÊã©‰∫Ü‰ΩéÂª∂Ëøü„ÄÅÂêûÂêêÈáèÊØîËæÉÈ´òÔºåÂèØÁî®ÊÄßÊØîËæÉÂ•ΩÁöÑ RocketMQ„ÄÇ</p><h3 id="_3-rocketmq-Êúâ‰ªÄ‰πà‰ºòÁº∫ÁÇπ" tabindex="-1"><a class="header-anchor" href="#_3-rocketmq-Êúâ‰ªÄ‰πà‰ºòÁº∫ÁÇπ"><span>3.RocketMQ Êúâ‰ªÄ‰πà‰ºòÁº∫ÁÇπÔºü</span></a></h3><p>RocketMQ ‰ºòÁÇπÔºö</p><ul><li>ÂçïÊú∫ÂêûÂêêÈáèÔºöÂçÅ‰∏áÁ∫ß</li><li>ÂèØÁî®ÊÄßÔºöÈùûÂ∏∏È´òÔºåÂàÜÂ∏ÉÂºèÊû∂ÊûÑ</li><li>Ê∂àÊÅØÂèØÈù†ÊÄßÔºöÁªèËøáÂèÇÊï∞‰ºòÂåñÈÖçÁΩÆÔºåÊ∂àÊÅØÂèØ‰ª•ÂÅöÂà∞ 0 ‰∏¢Â§±</li><li>ÂäüËÉΩÊîØÊåÅÔºöMQ ÂäüËÉΩËæÉ‰∏∫ÂÆåÂñÑÔºåËøòÊòØÂàÜÂ∏ÉÂºèÁöÑÔºåÊâ©Â±ïÊÄßÂ•Ω</li><li>ÊîØÊåÅ 10 ‰∫øÁ∫ßÂà´ÁöÑÊ∂àÊÅØÂ†ÜÁßØÔºå‰∏ç‰ºöÂõ†‰∏∫Â†ÜÁßØÂØºËá¥ÊÄßËÉΩ‰∏ãÈôç</li><li>Ê∫êÁ†ÅÊòØ JavaÔºåÊñπ‰æøÁªìÂêàÂÖ¨Âè∏Ëá™Â∑±ÁöÑ‰∏öÂä°‰∫åÊ¨°ÂºÄÂèë</li><li>Â§©Áîü‰∏∫ÈáëËûç‰∫íËÅîÁΩëÈ¢ÜÂüüËÄåÁîüÔºåÂØπ‰∫éÂèØÈù†ÊÄßË¶ÅÊ±ÇÂæàÈ´òÁöÑÂú∫ÊôØÔºåÂ∞§ÂÖ∂ÊòØÁîµÂïÜÈáåÈù¢ÁöÑËÆ¢ÂçïÊâ£Ê¨æÔºå‰ª•Âèä‰∏öÂä°ÂâäÂ≥∞ÔºåÂú®Â§ßÈáè‰∫§ÊòìÊ∂åÂÖ•Êó∂ÔºåÂêéÁ´ØÂèØËÉΩÊó†Ê≥ïÂèäÊó∂Â§ÑÁêÜÁöÑÊÉÖÂÜµ</li><li><strong>RoketMQ</strong>Âú®Á®≥ÂÆöÊÄß‰∏äÂèØËÉΩÊõ¥ÂÄºÂæó‰ø°ËµñÔºåËøô‰∫õ‰∏öÂä°Âú∫ÊôØÂú®ÈòøÈáåÂèå 11 Â∑≤ÁªèÁªèÂéÜ‰∫ÜÂ§öÊ¨°ËÄÉÈ™åÔºåÂ¶ÇÊûú‰Ω†ÁöÑ‰∏öÂä°Êúâ‰∏äËø∞Âπ∂ÂèëÂú∫ÊôØÔºåÂª∫ËÆÆÂèØ‰ª•ÈÄâÊã©<strong>RocketMQ</strong></li></ul><p>RocketMQ Áº∫ÁÇπÔºö</p><ul><li>ÊîØÊåÅÁöÑÂÆ¢Êà∑Á´ØËØ≠Ë®Ä‰∏çÂ§öÔºåÁõÆÂâçÊòØ Java Âèä c++ÔºåÂÖ∂‰∏≠ c++‰∏çÊàêÁÜü</li><li>Ê≤°ÊúâÂú® MQ Ê†∏ÂøÉ‰∏≠ÂéªÂÆûÁé∞<strong>JMS</strong>Á≠âÊé•Âè£ÔºåÊúâ‰∫õÁ≥ªÁªüË¶ÅËøÅÁßªÈúÄË¶Å‰øÆÊîπÂ§ßÈáè‰ª£Á†Å</li></ul><h4 id="ËØ¥ËØ¥‰Ω†ÂØπ-rocketmq-ÁöÑÁêÜËß£" tabindex="-1"><a class="header-anchor" href="#ËØ¥ËØ¥‰Ω†ÂØπ-rocketmq-ÁöÑÁêÜËß£"><span>ËØ¥ËØ¥‰Ω†ÂØπ RocketMQ ÁöÑÁêÜËß£Ôºü</span></a></h4><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/rocketmq-20240726162210.png" alt="ÁâßÂ∞èÂÜúÔºöRocketMQ ÁöÑ‰ΩúÁî®" tabindex="0" loading="lazy"><figcaption>ÁâßÂ∞èÂÜúÔºöRocketMQ ÁöÑ‰ΩúÁî®</figcaption></figure><p>RocketMQ ÊòØÈòøÈáåÂ∑¥Â∑¥ÂºÄÊ∫êÁöÑ‰∏ÄÊ¨æÂàÜÂ∏ÉÂºèÊ∂àÊÅØ‰∏≠Èó¥‰ª∂ÔºåÂÖ∑ÊúâÈ´òÂêûÂêêÈáè„ÄÅ‰ΩéÂª∂ËøüÂíåÈ´òÂèØÁî®ÊÄß„ÄÇÂÖ∂‰∏ªË¶ÅÁªÑ‰ª∂ÂåÖÊã¨Áîü‰∫ßËÄÖ„ÄÅÊ∂àË¥πËÄÖ„ÄÅBroker„ÄÅTopic ÂíåÈòüÂàó„ÄÇÊ∂àÊÅØÁî±Áîü‰∫ßËÄÖÂèëÈÄÅÂà∞ BrokerÔºåÂÜçÊ†πÊçÆË∑ØÁî±ËßÑÂàôÂ≠òÂÇ®Âà∞ÈòüÂàó‰∏≠ÔºåÊ∂àË¥πËÄÖ‰ªéÈòüÂàó‰∏≠ÊãâÂèñÊ∂àÊÅØËøõË°åÂ§ÑÁêÜ„ÄÇÈÄÇÁî®‰∫éÂºÇÊ≠•Ëß£ËÄ¶ÂíåÊµÅÈáèÂâäÂ≥∞Á≠âÂú∫ÊôØ„ÄÇ</p><blockquote><ol><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java Èù¢ËØïÊåáÂçóÔºà‰ªòË¥πÔºâ</a>Êî∂ÂΩïÁöÑ‰∫¨‰∏úÂêåÂ≠¶ 4 ‰∫ëÂÆû‰π†Èù¢ËØïÂéüÈ¢òÔºöËØ¥ËØ¥‰Ω†ÂØπRocketMQÁöÑÁêÜËß£</li></ol></blockquote><h3 id="_4-Ê∂àÊÅØÈòüÂàóÊúâÂì™‰∫õÊ∂àÊÅØÊ®°Âûã" tabindex="-1"><a class="header-anchor" href="#_4-Ê∂àÊÅØÈòüÂàóÊúâÂì™‰∫õÊ∂àÊÅØÊ®°Âûã"><span>4.Ê∂àÊÅØÈòüÂàóÊúâÂì™‰∫õÊ∂àÊÅØÊ®°ÂûãÔºü</span></a></h3><p>Ê∂àÊÅØÈòüÂàóÊúâ‰∏§ÁßçÊ®°ÂûãÔºö<strong>ÈòüÂàóÊ®°Âûã</strong>Âíå<strong>ÂèëÂ∏É/ËÆ¢ÈòÖÊ®°Âûã</strong>„ÄÇ</p><ul><li><strong>ÈòüÂàóÊ®°Âûã</strong></li></ul><p>ËøôÊòØÊúÄÂàùÁöÑ‰∏ÄÁßçÊ∂àÊÅØÈòüÂàóÊ®°ÂûãÔºåÂØπÂ∫îÁùÄÊ∂àÊÅØÈòüÂàó‚ÄúÂèë-Â≠ò-Êî∂‚ÄùÁöÑÊ®°Âûã„ÄÇÁîü‰∫ßËÄÖÂæÄÊüê‰∏™ÈòüÂàóÈáåÈù¢ÂèëÈÄÅÊ∂àÊÅØÔºå‰∏Ä‰∏™ÈòüÂàóÂèØ‰ª•Â≠òÂÇ®Â§ö‰∏™Áîü‰∫ßËÄÖÁöÑÊ∂àÊÅØÔºå‰∏Ä‰∏™ÈòüÂàó‰πüÂèØ‰ª•ÊúâÂ§ö‰∏™Ê∂àË¥πËÄÖÔºå‰ΩÜÊòØÊ∂àË¥πËÄÖ‰πãÈó¥ÊòØÁ´û‰∫âÂÖ≥Á≥ªÔºå‰πüÂ∞±ÊòØËØ¥ÊØèÊù°Ê∂àÊÅØÂè™ËÉΩË¢´‰∏Ä‰∏™Ê∂àË¥πËÄÖÊ∂àË¥π„ÄÇ</p><figure><img src="https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/nice-article/weixin-mianznxrocketmqessw-d94a9bf9-3fed-40a6-8aef-0d0395b6e409.jpg" alt="ÈòüÂàóÊ®°Âûã" tabindex="0" loading="lazy"><figcaption>ÈòüÂàóÊ®°Âûã</figcaption></figure><ul><li><strong>ÂèëÂ∏É/ËÆ¢ÈòÖÊ®°Âûã</strong></li></ul><p>Â¶ÇÊûúÈúÄË¶ÅÂ∞Ü‰∏Ä‰ªΩÊ∂àÊÅØÊï∞ÊçÆÂàÜÂèëÁªôÂ§ö‰∏™Ê∂àË¥πËÄÖÔºåÂπ∂‰∏îÊØè‰∏™Ê∂àË¥πËÄÖÈÉΩË¶ÅÊ±ÇÊî∂Âà∞ÂÖ®ÈáèÁöÑÊ∂àÊÅØ„ÄÇÂæàÊòæÁÑ∂ÔºåÈòüÂàóÊ®°ÂûãÊó†Ê≥ïÊª°Ë∂≥Ëøô‰∏™ÈúÄÊ±Ç„ÄÇËß£ÂÜ≥ÁöÑÊñπÂºèÂ∞±ÊòØÂèëÂ∏É/ËÆ¢ÈòÖÊ®°Âûã„ÄÇ</p><p>Âú®ÂèëÂ∏É - ËÆ¢ÈòÖÊ®°Âûã‰∏≠ÔºåÊ∂àÊÅØÁöÑÂèëÈÄÅÊñπÁß∞‰∏∫ÂèëÂ∏ÉËÄÖÔºàPublisherÔºâÔºåÊ∂àÊÅØÁöÑÊé•Êî∂ÊñπÁß∞‰∏∫ËÆ¢ÈòÖËÄÖÔºàSubscriberÔºâÔºåÊúçÂä°Á´ØÂ≠òÊîæÊ∂àÊÅØÁöÑÂÆπÂô®Áß∞‰∏∫‰∏ªÈ¢òÔºàTopicÔºâ„ÄÇÂèëÂ∏ÉËÄÖÂ∞ÜÊ∂àÊÅØÂèëÈÄÅÂà∞‰∏ªÈ¢ò‰∏≠ÔºåËÆ¢ÈòÖËÄÖÂú®Êé•Êî∂Ê∂àÊÅØ‰πãÂâçÈúÄË¶ÅÂÖà‚ÄúËÆ¢ÈòÖ‰∏ªÈ¢ò‚Äù„ÄÇ‚ÄúËÆ¢ÈòÖ‚ÄùÂú®ËøôÈáåÊó¢ÊòØ‰∏Ä‰∏™Âä®‰ΩúÔºåÂêåÊó∂ËøòÂèØ‰ª•ËÆ§‰∏∫ÊòØ‰∏ªÈ¢òÂú®Ê∂àË¥πÊó∂ÁöÑ‰∏Ä‰∏™ÈÄªËæëÂâØÊú¨ÔºåÊØè‰ªΩËÆ¢ÈòÖ‰∏≠ÔºåËÆ¢ÈòÖËÄÖÈÉΩÂèØ‰ª•Êé•Êî∂Âà∞‰∏ªÈ¢òÁöÑÊâÄÊúâÊ∂àÊÅØ„ÄÇ</p><figure><img src="https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/nice-article/weixin-mianznxrocketmqessw-692ec6a0-8499-4de2-be17-a577996bdaef.jpg" alt="ÂèëÂ∏É-ËÆ¢ÈòÖÊ®°Âûã" tabindex="0" loading="lazy"><figcaption>ÂèëÂ∏É-ËÆ¢ÈòÖÊ®°Âûã</figcaption></figure><p>ÂÆÉÂíå ‚ÄúÈòüÂàóÊ®°Âºè‚Äù ÁöÑÂºÇÂêåÔºöÁîü‰∫ßËÄÖÂ∞±ÊòØÂèëÂ∏ÉËÄÖÔºåÈòüÂàóÂ∞±ÊòØ‰∏ªÈ¢òÔºåÊ∂àË¥πËÄÖÂ∞±ÊòØËÆ¢ÈòÖËÄÖÔºåÊó†Êú¨Ë¥®Âå∫Âà´„ÄÇÂîØ‰∏ÄÁöÑ‰∏çÂêåÁÇπÂú®‰∫éÔºö‰∏Ä‰ªΩÊ∂àÊÅØÊï∞ÊçÆÊòØÂê¶ÂèØ‰ª•Ë¢´Â§öÊ¨°Ê∂àË¥π„ÄÇ</p><h3 id="_5-ÈÇ£-rocketmq-ÁöÑÊ∂àÊÅØÊ®°ÂûãÂë¢" tabindex="-1"><a class="header-anchor" href="#_5-ÈÇ£-rocketmq-ÁöÑÊ∂àÊÅØÊ®°ÂûãÂë¢"><span>5.ÈÇ£ RocketMQ ÁöÑÊ∂àÊÅØÊ®°ÂûãÂë¢Ôºü</span></a></h3><p>RocketMQ ‰ΩøÁî®ÁöÑÊ∂àÊÅØÊ®°ÂûãÊòØÊ†áÂáÜÁöÑÂèëÂ∏É-ËÆ¢ÈòÖÊ®°ÂûãÔºåÂú® RocketMQ ÁöÑÊúØËØ≠Ë°®‰∏≠ÔºåÁîü‰∫ßËÄÖ„ÄÅÊ∂àË¥πËÄÖÂíå‰∏ªÈ¢òÔºå‰∏éÂèëÂ∏É-ËÆ¢ÈòÖÊ®°Âûã‰∏≠ÁöÑÊ¶ÇÂøµÊòØÂÆåÂÖ®‰∏ÄÊ†∑ÁöÑ„ÄÇ</p><p>RocketMQ Êú¨Ë∫´ÁöÑÊ∂àÊÅØÊòØÁî±‰∏ãÈù¢Âá†ÈÉ®ÂàÜÁªÑÊàêÔºö</p><figure><img src="https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/nice-article/weixin-mianznxrocketmqessw-4ab7f942-23d7-4462-8e36-e305cc0a045f.jpg" alt="RocketMQÊ∂àÊÅØÁöÑÁªÑÊàê" tabindex="0" loading="lazy"><figcaption>RocketMQÊ∂àÊÅØÁöÑÁªÑÊàê</figcaption></figure><ul><li><strong>Message</strong></li></ul><p><strong>Message</strong>ÔºàÊ∂àÊÅØÔºâÂ∞±ÊòØË¶Å‰º†ËæìÁöÑ‰ø°ÊÅØ„ÄÇ</p><p>‰∏ÄÊù°Ê∂àÊÅØÂøÖÈ°ªÊúâ‰∏Ä‰∏™‰∏ªÈ¢òÔºàTopicÔºâÔºå‰∏ªÈ¢òÂèØ‰ª•ÁúãÂÅöÊòØ‰Ω†ÁöÑ‰ø°‰ª∂Ë¶ÅÈÇÆÂØÑÁöÑÂú∞ÂùÄ„ÄÇ</p><p>‰∏ÄÊù°Ê∂àÊÅØ‰πüÂèØ‰ª•Êã•Êúâ‰∏Ä‰∏™ÂèØÈÄâÁöÑÊ†áÁ≠æÔºàTagÔºâÂíåÈ¢ùÂ§ÑÁöÑÈîÆÂÄºÂØπÔºåÂÆÉ‰ª¨ÂèØ‰ª•Áî®‰∫éËÆæÁΩÆ‰∏Ä‰∏™‰∏öÂä° Key Âπ∂Âú® Broker ‰∏äÊü•ÊâæÊ≠§Ê∂àÊÅØ‰ª•‰æøÂú®ÂºÄÂèëÊúüÈó¥Êü•ÊâæÈóÆÈ¢ò„ÄÇ</p><ul><li><strong>Topic</strong></li></ul><p><strong>Topic</strong>Ôºà‰∏ªÈ¢òÔºâÂèØ‰ª•ÁúãÂÅöÊ∂àÊÅØÁöÑÂΩíÁ±ªÔºåÂÆÉÊòØÊ∂àÊÅØÁöÑÁ¨¨‰∏ÄÁ∫ßÁ±ªÂûã„ÄÇÊØîÂ¶Ç‰∏Ä‰∏™ÁîµÂïÜÁ≥ªÁªüÂèØ‰ª•ÂàÜ‰∏∫Ôºö‰∫§ÊòìÊ∂àÊÅØ„ÄÅÁâ©ÊµÅÊ∂àÊÅØÁ≠âÔºå‰∏ÄÊù°Ê∂àÊÅØÂøÖÈ°ªÊúâ‰∏Ä‰∏™ Topic „ÄÇ</p><p><strong>Topic</strong> ‰∏éÁîü‰∫ßËÄÖÂíåÊ∂àË¥πËÄÖÁöÑÂÖ≥Á≥ªÈùûÂ∏∏ÊùæÊï£Ôºå‰∏Ä‰∏™ Topic ÂèØ‰ª•Êúâ 0 ‰∏™„ÄÅ1 ‰∏™„ÄÅÂ§ö‰∏™Áîü‰∫ßËÄÖÂêëÂÖ∂ÂèëÈÄÅÊ∂àÊÅØÔºå‰∏Ä‰∏™Áîü‰∫ßËÄÖ‰πüÂèØ‰ª•ÂêåÊó∂Âêë‰∏çÂêåÁöÑ Topic ÂèëÈÄÅÊ∂àÊÅØ„ÄÇ</p><p>‰∏Ä‰∏™ Topic ‰πüÂèØ‰ª•Ë¢´ 0 ‰∏™„ÄÅ1 ‰∏™„ÄÅÂ§ö‰∏™Ê∂àË¥πËÄÖËÆ¢ÈòÖ„ÄÇ</p><ul><li><strong>Tag</strong></li></ul><p><strong>Tag</strong>ÔºàÊ†áÁ≠æÔºâÂèØ‰ª•Áúã‰ΩúÂ≠ê‰∏ªÈ¢òÔºåÂÆÉÊòØÊ∂àÊÅØÁöÑÁ¨¨‰∫åÁ∫ßÁ±ªÂûãÔºåÁî®‰∫é‰∏∫Áî®Êà∑Êèê‰æõÈ¢ùÂ§ñÁöÑÁÅµÊ¥ªÊÄß„ÄÇ‰ΩøÁî®Ê†áÁ≠æÔºåÂêå‰∏Ä‰∏öÂä°Ê®°Âùó‰∏çÂêåÁõÆÁöÑÁöÑÊ∂àÊÅØÂ∞±ÂèØ‰ª•Áî®Áõ∏Âêå Topic ËÄå‰∏çÂêåÁöÑ <strong>Tag</strong> Êù•Ê†áËØÜ„ÄÇÊØîÂ¶Ç‰∫§ÊòìÊ∂àÊÅØÂèàÂèØ‰ª•ÂàÜ‰∏∫Ôºö‰∫§ÊòìÂàõÂª∫Ê∂àÊÅØ„ÄÅ‰∫§ÊòìÂÆåÊàêÊ∂àÊÅØÁ≠âÔºå‰∏ÄÊù°Ê∂àÊÅØÂèØ‰ª•Ê≤°Êúâ <strong>Tag</strong> „ÄÇ</p><p>Ê†áÁ≠æÊúâÂä©‰∫é‰øùÊåÅ‰Ω†ÁöÑ‰ª£Á†ÅÂπ≤ÂáÄÂíåËøûË¥ØÔºåÂπ∂‰∏îËøòÂèØ‰ª•‰∏∫ <strong>RocketMQ</strong> Êèê‰æõÁöÑÊü•ËØ¢Á≥ªÁªüÊèê‰æõÂ∏ÆÂä©„ÄÇ</p><ul><li><strong>Group</strong></li></ul><p>RocketMQ ‰∏≠ÔºåËÆ¢ÈòÖËÄÖÁöÑÊ¶ÇÂøµÊòØÈÄöËøáÊ∂àË¥πÁªÑÔºàConsumer GroupÔºâÊù•‰ΩìÁé∞ÁöÑ„ÄÇÊØè‰∏™Ê∂àË¥πÁªÑÈÉΩÊ∂àË¥π‰∏ªÈ¢ò‰∏≠‰∏Ä‰ªΩÂÆåÊï¥ÁöÑÊ∂àÊÅØÔºå‰∏çÂêåÊ∂àË¥πÁªÑ‰πãÈó¥Ê∂àË¥πËøõÂ∫¶ÂΩºÊ≠§‰∏çÂèóÂΩ±ÂìçÔºå‰πüÂ∞±ÊòØËØ¥Ôºå‰∏ÄÊù°Ê∂àÊÅØË¢´ Consumer Group1 Ê∂àË¥πËøáÔºå‰πü‰ºöÂÜçÁªô Consumer Group2 Ê∂àË¥π„ÄÇ</p><p>Ê∂àË¥πÁªÑ‰∏≠ÂåÖÂê´Â§ö‰∏™Ê∂àË¥πËÄÖÔºåÂêå‰∏Ä‰∏™ÁªÑÂÜÖÁöÑÊ∂àË¥πËÄÖÊòØÁ´û‰∫âÊ∂àË¥πÁöÑÂÖ≥Á≥ªÔºåÊØè‰∏™Ê∂àË¥πËÄÖË¥üË¥£Ê∂àË¥πÁªÑÂÜÖÁöÑ‰∏ÄÈÉ®ÂàÜÊ∂àÊÅØ„ÄÇÈªòËÆ§ÊÉÖÂÜµÔºåÂ¶ÇÊûú‰∏ÄÊù°Ê∂àÊÅØË¢´Ê∂àË¥πËÄÖ Consumer1 Ê∂àË¥π‰∫ÜÔºåÈÇ£ÂêåÁªÑÁöÑÂÖ∂‰ªñÊ∂àË¥πËÄÖÂ∞±‰∏ç‰ºöÂÜçÊî∂Âà∞ËøôÊù°Ê∂àÊÅØ„ÄÇ</p><ul><li><strong>Message Queue</strong></li></ul><p><strong>Message Queue</strong>ÔºàÊ∂àÊÅØÈòüÂàóÔºâÔºå‰∏Ä‰∏™ Topic ‰∏ãÂèØ‰ª•ËÆæÁΩÆÂ§ö‰∏™Ê∂àÊÅØÈòüÂàóÔºåTopic ÂåÖÊã¨Â§ö‰∏™ Message Queue ÔºåÂ¶ÇÊûú‰∏Ä‰∏™ Consumer ÈúÄË¶ÅËé∑Âèñ Topic ‰∏ãÊâÄÊúâÁöÑÊ∂àÊÅØÔºåÂ∞±Ë¶ÅÈÅçÂéÜÊâÄÊúâÁöÑ Message Queue„ÄÇ</p><p>RocketMQ ËøòÊúâ‰∏Ä‰∫õÂÖ∂ÂÆÉÁöÑ Queue‚Äî‚Äî‰æãÂ¶Ç ConsumerQueue„ÄÇ</p><ul><li><strong>Offset</strong></li></ul><p>Âú® Topic ÁöÑÊ∂àË¥πËøáÁ®ã‰∏≠ÔºåÁî±‰∫éÊ∂àÊÅØÈúÄË¶ÅË¢´‰∏çÂêåÁöÑÁªÑËøõË°åÂ§öÊ¨°Ê∂àË¥πÔºåÊâÄ‰ª•Ê∂àË¥πÂÆåÁöÑÊ∂àÊÅØÂπ∂‰∏ç‰ºöÁ´ãÂç≥Ë¢´Âà†Èô§ÔºåËøôÂ∞±ÈúÄË¶Å RocketMQ ‰∏∫ÊØè‰∏™Ê∂àË¥πÁªÑÂú®ÊØè‰∏™ÈòüÂàó‰∏äÁª¥Êä§‰∏Ä‰∏™Ê∂àË¥π‰ΩçÁΩÆÔºàConsumer OffsetÔºâÔºåËøô‰∏™‰ΩçÁΩÆ‰πãÂâçÁöÑÊ∂àÊÅØÈÉΩË¢´Ê∂àË¥πËøáÔºå‰πãÂêéÁöÑÊ∂àÊÅØÈÉΩÊ≤°ÊúâË¢´Ê∂àË¥πËøáÔºåÊØèÊàêÂäüÊ∂àË¥π‰∏ÄÊù°Ê∂àÊÅØÔºåÊ∂àË¥π‰ΩçÁΩÆÂ∞±Âä†‰∏Ä„ÄÇ</p><p>‰πüÂèØ‰ª•Ëøô‰πàËØ¥Ôºå<code>Queue</code> ÊòØ‰∏Ä‰∏™ÈïøÂ∫¶Êó†ÈôêÁöÑÊï∞ÁªÑÔºå<strong>Offset</strong> Â∞±ÊòØ‰∏ãÊ†á„ÄÇ</p><p>RocketMQ ÁöÑÊ∂àÊÅØÊ®°Âûã‰∏≠ÔºåËøô‰∫õÂ∞±ÊòØÊØîËæÉÂÖ≥ÈîÆÁöÑÊ¶ÇÂøµ‰∫Ü„ÄÇÁîªÂº†ÂõæÊÄªÁªì‰∏Ä‰∏ãÔºö</p><figure><img src="https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/nice-article/weixin-mianznxrocketmqessw-e470b972-f4ac-4b76-bcde-0df5d4765ca7.jpg" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h3 id="_6-Ê∂àÊÅØÁöÑÊ∂àË¥πÊ®°Âºè‰∫ÜËß£Âêó" tabindex="-1"><a class="header-anchor" href="#_6-Ê∂àÊÅØÁöÑÊ∂àË¥πÊ®°Âºè‰∫ÜËß£Âêó"><span>6.Ê∂àÊÅØÁöÑÊ∂àË¥πÊ®°Âºè‰∫ÜËß£ÂêóÔºü</span></a></h3><p>Ê∂àÊÅØÊ∂àË¥πÊ®°ÂºèÊúâ‰∏§ÁßçÔºö<strong>Clustering</strong>ÔºàÈõÜÁæ§Ê∂àË¥πÔºâÂíå<strong>Broadcasting</strong>ÔºàÂπøÊí≠Ê∂àË¥πÔºâ„ÄÇ</p><figure><img src="https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/nice-article/weixin-mianznxrocketmqessw-2c574635-1eaa-4bdd-8aa8-1bdc3f10b274.jpg" alt="‰∏§ÁßçÊ∂àË¥πÊ®°Âºè" tabindex="0" loading="lazy"><figcaption>‰∏§ÁßçÊ∂àË¥πÊ®°Âºè</figcaption></figure><p>ÈªòËÆ§ÊÉÖÂÜµ‰∏ãÂ∞±ÊòØÈõÜÁæ§Ê∂àË¥πÔºåËøôÁßçÊ®°Âºè‰∏ã<code>‰∏Ä‰∏™Ê∂àË¥πËÄÖÁªÑÂÖ±ÂêåÊ∂àË¥π‰∏Ä‰∏™‰∏ªÈ¢òÁöÑÂ§ö‰∏™ÈòüÂàóÔºå‰∏Ä‰∏™ÈòüÂàóÂè™‰ºöË¢´‰∏Ä‰∏™Ê∂àË¥πËÄÖÊ∂àË¥π</code>ÔºåÂ¶ÇÊûúÊüê‰∏™Ê∂àË¥πËÄÖÊåÇÊéâÔºåÂàÜÁªÑÂÜÖÂÖ∂ÂÆÉÊ∂àË¥πËÄÖ‰ºöÊé•ÊõøÊåÇÊéâÁöÑÊ∂àË¥πËÄÖÁªßÁª≠Ê∂àË¥π„ÄÇ</p><p>ËÄåÂπøÊí≠Ê∂àË¥πÊ∂àÊÅØ‰ºöÂèëÁªôÊ∂àË¥πËÄÖÁªÑ‰∏≠ÁöÑÊØè‰∏Ä‰∏™Ê∂àË¥πËÄÖËøõË°åÊ∂àË¥π„ÄÇ</p><h3 id="_7-roctetmq-Âü∫Êú¨Êû∂ÊûÑ‰∫ÜËß£Âêó" tabindex="-1"><a class="header-anchor" href="#_7-roctetmq-Âü∫Êú¨Êû∂ÊûÑ‰∫ÜËß£Âêó"><span>7.RoctetMQ Âü∫Êú¨Êû∂ÊûÑ‰∫ÜËß£ÂêóÔºü</span></a></h3><p>ÂÖàÁúãÂõæÔºåRocketMQ ÁöÑÂü∫Êú¨Êû∂ÊûÑÔºö</p><figure><img src="https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/nice-article/weixin-mianznxrocketmqessw-d4c0e036-0f0e-466f-bd4b-7e6ee10daca4.jpg" alt="RocketMQÊû∂ÊûÑ" tabindex="0" loading="lazy"><figcaption>RocketMQÊû∂ÊûÑ</figcaption></figure><p>RocketMQ ‰∏ÄÂÖ±ÊúâÂõõ‰∏™ÈÉ®ÂàÜÁªÑÊàêÔºöNameServerÔºåBrokerÔºåProducer Áîü‰∫ßËÄÖÔºåConsumer Ê∂àË¥πËÄÖÔºåÂÆÉ‰ª¨ÂØπÂ∫î‰∫ÜÔºöÂèëÁé∞„ÄÅÂèë„ÄÅÂ≠ò„ÄÅÊî∂Ôºå‰∏∫‰∫Ü‰øùËØÅÈ´òÂèØÁî®Ôºå‰∏ÄËà¨ÊØè‰∏ÄÈÉ®ÂàÜÈÉΩÊòØÈõÜÁæ§ÈÉ®ÁΩ≤ÁöÑ„ÄÇ</p><h3 id="_8-ÈÇ£ËÉΩ‰ªãÁªç‰∏Ä‰∏ãËøôÂõõÈÉ®ÂàÜÂêó" tabindex="-1"><a class="header-anchor" href="#_8-ÈÇ£ËÉΩ‰ªãÁªç‰∏Ä‰∏ãËøôÂõõÈÉ®ÂàÜÂêó"><span>8.ÈÇ£ËÉΩ‰ªãÁªç‰∏Ä‰∏ãËøôÂõõÈÉ®ÂàÜÂêóÔºü</span></a></h3><p>Á±ªÊØî‰∏Ä‰∏ãÊàë‰ª¨ÁîüÊ¥ªÁöÑÈÇÆÊîøÁ≥ªÁªü‚Äî‚Äî</p><p>ÈÇÆÊîøÁ≥ªÁªüË¶ÅÊ≠£Â∏∏ËøêË°åÔºåÁ¶ª‰∏çÂºÄ‰∏ãÈù¢ËøôÂõõ‰∏™ËßíËâ≤Ôºå ‰∏ÄÊòØÂèë‰ø°ËÄÖÔºå‰∫å ÊòØÊî∂‰ø°ËÄÖÔºå ‰∏âÊòØË¥üË¥£ÊöÇÂ≠ò‰º†ËæìÁöÑÈÇÆÂ±ÄÔºå ÂõõÊòØË¥üË¥£ÂçèË∞ÉÂêÑ‰∏™Âú∞ÊñπÈÇÆÂ±ÄÁöÑÁÆ°ÁêÜÊú∫ÊûÑ„ÄÇÂØπÂ∫îÂà∞ RocketMQ ‰∏≠ÔºåËøôÂõõ‰∏™ËßíËâ≤Â∞±ÊòØ Producer„ÄÅ Consumer„ÄÅ Broker „ÄÅNameServer„ÄÇ</p><figure><img src="https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/nice-article/weixin-mianznxrocketmqessw-00175355-5532-4ee6-a48c-e3e3a9b87d64.jpg" alt="RocketMQÁ±ªÊØîÈÇÆÊîø‰ΩìÁ≥ª" tabindex="0" loading="lazy"><figcaption>RocketMQÁ±ªÊØîÈÇÆÊîø‰ΩìÁ≥ª</figcaption></figure><h5 id="nameserver" tabindex="-1"><a class="header-anchor" href="#nameserver"><span>NameServer</span></a></h5><p>NameServer ÊòØ‰∏Ä‰∏™Êó†Áä∂ÊÄÅÁöÑÊúçÂä°Âô®ÔºåËßíËâ≤Á±ª‰ºº‰∫é Kafka ‰ΩøÁî®ÁöÑ ZookeeperÔºå‰ΩÜÊØî Zookeeper Êõ¥ËΩªÈáè„ÄÇ</p><p>ÁâπÁÇπÔºö</p><ul><li>ÊØè‰∏™ NameServer ÁªìÁÇπ‰πãÈó¥ÊòØÁõ∏‰∫íÁã¨Á´ãÔºåÂΩºÊ≠§Ê≤°Êúâ‰ªª‰Ωï‰ø°ÊÅØ‰∫§‰∫í„ÄÇ</li><li>Nameserver Ë¢´ËÆæËÆ°ÊàêÂá†‰πéÊòØÊó†Áä∂ÊÄÅÁöÑÔºåÈÄöËøáÈÉ®ÁΩ≤Â§ö‰∏™ÁªìÁÇπÊù•Ê†áËØÜËá™Â∑±ÊòØ‰∏Ä‰∏™‰º™ÈõÜÁæ§ÔºåProducer Âú®ÂèëÈÄÅÊ∂àÊÅØÂâç‰ªé NameServer ‰∏≠Ëé∑Âèñ Topic ÁöÑË∑ØÁî±‰ø°ÊÅØ‰πüÂ∞±ÊòØÂèëÂæÄÂì™‰∏™ BrokerÔºåConsumer ‰πü‰ºöÂÆöÊó∂‰ªé NameServer Ëé∑Âèñ Topic ÁöÑË∑ØÁî±‰ø°ÊÅØÔºåBroker Âú®ÂêØÂä®Êó∂‰ºöÂêë NameServer Ê≥®ÂÜåÔºåÂπ∂ÂÆöÊó∂ËøõË°åÂøÉË∑≥ËøûÊé•Ôºå‰∏îÂÆöÊó∂ÂêåÊ≠•Áª¥Êä§ÁöÑ Topic Âà∞ NameServer„ÄÇ</li></ul><p>ÂäüËÉΩ‰∏ªË¶ÅÊúâ‰∏§‰∏™Ôºö</p><ul><li>1„ÄÅÂíå Broker ÁªìÁÇπ‰øùÊåÅÈïøËøûÊé•„ÄÇ</li><li>2„ÄÅÁª¥Êä§ Topic ÁöÑË∑ØÁî±‰ø°ÊÅØ„ÄÇ</li></ul><h5 id="broker" tabindex="-1"><a class="header-anchor" href="#broker"><span>Broker</span></a></h5><p>Ê∂àÊÅØÂ≠òÂÇ®Âíå‰∏≠ËΩ¨ËßíËâ≤ÔºåË¥üË¥£Â≠òÂÇ®ÂíåËΩ¨ÂèëÊ∂àÊÅØ„ÄÇ</p><ul><li>Broker ÂÜÖÈÉ®Áª¥Êä§ÁùÄ‰∏Ä‰∏™‰∏™ Consumer QueueÔºåÁî®Êù•Â≠òÂÇ®Ê∂àÊÅØÁöÑÁ¥¢ÂºïÔºåÁúüÊ≠£Â≠òÂÇ®Ê∂àÊÅØÁöÑÂú∞ÊñπÊòØ CommitLogÔºàÊó•ÂøóÊñá‰ª∂Ôºâ„ÄÇ</li></ul><figure><img src="https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/nice-article/weixin-mianznxrocketmqessw-789379a9-4a0c-4992-9de1-e49283d089a4.jpg" alt="RocketMQÂ≠òÂÇ®-ÂõæÁâáÊù•Ê∫êÂÆòÁΩë" tabindex="0" loading="lazy"><figcaption>RocketMQÂ≠òÂÇ®-ÂõæÁâáÊù•Ê∫êÂÆòÁΩë</figcaption></figure><ul><li>Âçï‰∏™ Broker ‰∏éÊâÄÊúâÁöÑ Nameserver ‰øùÊåÅÁùÄÈïøËøûÊé•ÂíåÂøÉË∑≥ÔºåÂπ∂‰ºöÂÆöÊó∂Â∞Ü Topic ‰ø°ÊÅØÂêåÊ≠•Âà∞ NameServerÔºåÂíå NameServer ÁöÑÈÄö‰ø°Â∫ïÂ±ÇÊòØÈÄöËøá Netty ÂÆûÁé∞ÁöÑ„ÄÇ</li></ul><h5 id="producer" tabindex="-1"><a class="header-anchor" href="#producer"><span>Producer</span></a></h5><p>Ê∂àÊÅØÁîü‰∫ßËÄÖÔºå‰∏öÂä°Á´ØË¥üË¥£ÂèëÈÄÅÊ∂àÊÅØÔºåÁî±Áî®Êà∑Ëá™Ë°åÂÆûÁé∞ÂíåÂàÜÂ∏ÉÂºèÈÉ®ÁΩ≤„ÄÇ</p><ul><li><p><strong>Producer</strong>Áî±Áî®Êà∑ËøõË°åÂàÜÂ∏ÉÂºèÈÉ®ÁΩ≤ÔºåÊ∂àÊÅØÁî±<strong>Producer</strong>ÈÄöËøáÂ§öÁßçË¥üËΩΩÂùáË°°Ê®°ÂºèÂèëÈÄÅÂà∞<strong>Broker</strong>ÈõÜÁæ§ÔºåÂèëÈÄÅ‰ΩéÂª∂Êó∂ÔºåÊîØÊåÅÂø´ÈÄüÂ§±Ë¥•„ÄÇ</p></li><li><p><strong>RocketMQ</strong> Êèê‰æõ‰∫Ü‰∏âÁßçÊñπÂºèÂèëÈÄÅÊ∂àÊÅØÔºöÂêåÊ≠•„ÄÅÂºÇÊ≠•ÂíåÂçïÂêë</p></li><li><p><strong>ÂêåÊ≠•ÂèëÈÄÅ</strong>ÔºöÂêåÊ≠•ÂèëÈÄÅÊåáÊ∂àÊÅØÂèëÈÄÅÊñπÂèëÂá∫Êï∞ÊçÆÂêé‰ºöÂú®Êî∂Âà∞Êé•Êî∂ÊñπÂèëÂõûÂìçÂ∫î‰πãÂêéÊâçÂèë‰∏ã‰∏Ä‰∏™Êï∞ÊçÆÂåÖ„ÄÇ‰∏ÄËà¨Áî®‰∫éÈáçË¶ÅÈÄöÁü•Ê∂àÊÅØÔºå‰æãÂ¶ÇÈáçË¶ÅÈÄöÁü•ÈÇÆ‰ª∂„ÄÅËê•ÈîÄÁü≠‰ø°„ÄÇ</p></li><li><p><strong>ÂºÇÊ≠•ÂèëÈÄÅ</strong>ÔºöÂºÇÊ≠•ÂèëÈÄÅÊåáÂèëÈÄÅÊñπÂèëÂá∫Êï∞ÊçÆÂêéÔºå‰∏çÁ≠âÊé•Êî∂ÊñπÂèëÂõûÂìçÂ∫îÔºåÊé•ÁùÄÂèëÈÄÅ‰∏ã‰∏™Êï∞ÊçÆÂåÖÔºå‰∏ÄËà¨Áî®‰∫éÂèØËÉΩÈìæË∑ØËÄóÊó∂ËæÉÈïøËÄåÂØπÂìçÂ∫îÊó∂Èó¥ÊïèÊÑüÁöÑ‰∏öÂä°Âú∫ÊôØÔºå‰æãÂ¶ÇÁî®Êà∑ËßÜÈ¢ë‰∏ä‰º†ÂêéÈÄöÁü•ÂêØÂä®ËΩ¨Á†ÅÊúçÂä°„ÄÇ</p></li><li><p><strong>ÂçïÂêëÂèëÈÄÅ</strong>ÔºöÂçïÂêëÂèëÈÄÅÊòØÊåáÂè™Ë¥üË¥£ÂèëÈÄÅÊ∂àÊÅØËÄå‰∏çÁ≠âÂæÖÊúçÂä°Âô®ÂõûÂ∫î‰∏îÊ≤°ÊúâÂõûË∞ÉÂáΩÊï∞Ëß¶ÂèëÔºåÈÄÇÁî®‰∫éÊüê‰∫õËÄóÊó∂ÈùûÂ∏∏Áü≠‰ΩÜÂØπÂèØÈù†ÊÄßË¶ÅÊ±ÇÂπ∂‰∏çÈ´òÁöÑÂú∫ÊôØÔºå‰æãÂ¶ÇÊó•ÂøóÊî∂ÈõÜ„ÄÇ</p></li></ul><h5 id="consumer" tabindex="-1"><a class="header-anchor" href="#consumer"><span>Consumer</span></a></h5><p>Ê∂àÊÅØÊ∂àË¥πËÄÖÔºåË¥üË¥£Ê∂àË¥πÊ∂àÊÅØÔºå‰∏ÄËà¨ÊòØÂêéÂè∞Á≥ªÁªüË¥üË¥£ÂºÇÊ≠•Ê∂àË¥π„ÄÇ</p><ul><li><strong>Consumer</strong>‰πüÁî±Áî®Êà∑ÈÉ®ÁΩ≤ÔºåÊîØÊåÅ PUSH Âíå PULL ‰∏§ÁßçÊ∂àË¥πÊ®°ÂºèÔºåÊîØÊåÅ<strong>ÈõÜÁæ§Ê∂àË¥π</strong>Âíå<strong>ÂπøÊí≠Ê∂àË¥π</strong>ÔºåÊèê‰æõ<strong>ÂÆûÊó∂ÁöÑÊ∂àÊÅØËÆ¢ÈòÖÊú∫Âà∂</strong>„ÄÇ</li><li><strong>Pull</strong>ÔºöÊãâÂèñÂûãÊ∂àË¥πËÄÖÔºàPull ConsumerÔºâ‰∏ªÂä®‰ªéÊ∂àÊÅØÊúçÂä°Âô®ÊãâÂèñ‰ø°ÊÅØÔºåÂè™Ë¶ÅÊâπÈáèÊãâÂèñÂà∞Ê∂àÊÅØÔºåÁî®Êà∑Â∫îÁî®Â∞±‰ºöÂêØÂä®Ê∂àË¥πËøáÁ®ãÔºåÊâÄ‰ª• Pull Áß∞‰∏∫‰∏ªÂä®Ê∂àË¥πÂûã„ÄÇ</li><li><strong>Push</strong>ÔºöÊé®ÈÄÅÂûãÊ∂àË¥πËÄÖÔºàPush ConsumerÔºâÂ∞ÅË£Ö‰∫ÜÊ∂àÊÅØÁöÑÊãâÂèñ„ÄÅÊ∂àË¥πËøõÂ∫¶ÂíåÂÖ∂‰ªñÁöÑÂÜÖÈÉ®Áª¥Êä§Â∑•‰ΩúÔºåÂ∞ÜÊ∂àÊÅØÂà∞ËææÊó∂ÊâßË°åÁöÑÂõûË∞ÉÊé•Âè£ÁïôÁªôÁî®Êà∑Â∫îÁî®Á®ãÂ∫èÊù•ÂÆûÁé∞„ÄÇÊâÄ‰ª• Push Áß∞‰∏∫Ë¢´Âä®Ê∂àË¥πÁ±ªÂûãÔºå‰ΩÜÂÖ∂ÂÆû‰ªéÂÆûÁé∞‰∏äÁúãËøòÊòØ‰ªéÊ∂àÊÅØÊúçÂä°Âô®‰∏≠ÊãâÂèñÊ∂àÊÅØÔºå‰∏çÂêå‰∫é Pull ÁöÑÊòØ Push È¶ñÂÖàË¶ÅÊ≥®ÂÜåÊ∂àË¥πÁõëÂê¨Âô®ÔºåÂΩìÁõëÂê¨Âô®Â§ÑËß¶ÂèëÂêéÊâçÂºÄÂßãÊ∂àË¥πÊ∂àÊÅØ„ÄÇ</li></ul><p>GitHub ‰∏äÊ†áÊòü 10000+ ÁöÑÂºÄÊ∫êÁü•ËØÜÂ∫ì„Ää<a href="https://github.com/itwanger/toBeBetterJavaer" target="_blank" rel="noopener noreferrer">‰∫åÂì•ÁöÑ Java ËøõÈò∂‰πãË∑Ø</a>„ÄãÁ¨¨‰∏ÄÁâà PDF Áªà‰∫éÊù•‰∫ÜÔºÅÂåÖÊã¨ Java Âü∫Á°ÄËØ≠Ê≥ï„ÄÅÊï∞ÁªÑ&amp;Â≠óÁ¨¶‰∏≤„ÄÅOOP„ÄÅÈõÜÂêàÊ°ÜÊû∂„ÄÅJava IO„ÄÅÂºÇÂ∏∏Â§ÑÁêÜ„ÄÅJava Êñ∞ÁâπÊÄß„ÄÅÁΩëÁªúÁºñÁ®ã„ÄÅNIO„ÄÅÂπ∂ÂèëÁºñÁ®ã„ÄÅJVM Á≠âÁ≠âÔºåÂÖ±ËÆ° 32 ‰∏á‰ΩôÂ≠óÔºå500+Âº†ÊâãÁªòÂõæÔºåÂèØ‰ª•ËØ¥ÊòØÈÄö‰øóÊòìÊáÇ„ÄÅÈ£éË∂£ÂπΩÈªò‚Ä¶‚Ä¶ËØ¶ÊÉÖÊà≥Ôºö<a href="https://javabetter.cn/overview/" target="_blank" rel="noopener noreferrer">Â§™Ëµû‰∫ÜÔºåGitHub ‰∏äÊ†áÊòü 10000+ ÁöÑ Java ÊïôÁ®ã</a></p><p>ÂæÆ‰ø°Êêú <strong>Ê≤âÈªòÁéã‰∫å</strong> ÊàñÊâ´Êèè‰∏ãÊñπ‰∫åÁª¥Á†ÅÂÖ≥Ê≥®‰∫åÂì•ÁöÑÂéüÂàõÂÖ¨‰ºóÂè∑Ê≤âÈªòÁéã‰∫åÔºåÂõûÂ§ç <strong>222</strong> Âç≥ÂèØÂÖçË¥πÈ¢ÜÂèñ„ÄÇ</p><figure><img src="https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/gongzhonghao.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h2 id="ËøõÈò∂" tabindex="-1"><a class="header-anchor" href="#ËøõÈò∂"><span>ËøõÈò∂</span></a></h2><h3 id="_9-Â¶Ç‰Ωï‰øùËØÅÊ∂àÊÅØÁöÑÂèØÁî®ÊÄß-ÂèØÈù†ÊÄß-‰∏ç‰∏¢Â§±Âë¢" tabindex="-1"><a class="header-anchor" href="#_9-Â¶Ç‰Ωï‰øùËØÅÊ∂àÊÅØÁöÑÂèØÁî®ÊÄß-ÂèØÈù†ÊÄß-‰∏ç‰∏¢Â§±Âë¢"><span>9.Â¶Ç‰Ωï‰øùËØÅÊ∂àÊÅØÁöÑÂèØÁî®ÊÄß/ÂèØÈù†ÊÄß/‰∏ç‰∏¢Â§±Âë¢Ôºü</span></a></h3><p>Ê∂àÊÅØÂèØËÉΩÂú®Âì™‰∫õÈò∂ÊÆµ‰∏¢Â§±Âë¢ÔºüÂèØËÉΩ‰ºöÂú®Ëøô‰∏â‰∏™Èò∂ÊÆµÂèëÁîü‰∏¢Â§±ÔºöÁîü‰∫ßÈò∂ÊÆµ„ÄÅÂ≠òÂÇ®Èò∂ÊÆµ„ÄÅÊ∂àË¥πÈò∂ÊÆµ„ÄÇ</p><p>ÊâÄ‰ª•Ë¶Å‰ªéËøô‰∏â‰∏™Èò∂ÊÆµËÄÉËôëÔºö</p><figure><img src="https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/nice-article/weixin-mianznxrocketmqessw-692a920d-621f-4b36-87f8-edb53e7f5cd9.jpg" alt="Ê∂àÊÅØ‰º†ÈÄí‰∏âÈò∂ÊÆµ" tabindex="0" loading="lazy"><figcaption>Ê∂àÊÅØ‰º†ÈÄí‰∏âÈò∂ÊÆµ</figcaption></figure><h5 id="Áîü‰∫ß" tabindex="-1"><a class="header-anchor" href="#Áîü‰∫ß"><span>Áîü‰∫ß</span></a></h5><p>Âú®Áîü‰∫ßÈò∂ÊÆµÔºå‰∏ªË¶Å<strong>ÈÄöËøáËØ∑Ê±ÇÁ°ÆËÆ§Êú∫Âà∂ÔºåÊù•‰øùËØÅÊ∂àÊÅØÁöÑÂèØÈù†‰º†ÈÄí</strong>„ÄÇ</p><ul><li>1„ÄÅÂêåÊ≠•ÂèëÈÄÅÁöÑÊó∂ÂÄôÔºåË¶ÅÊ≥®ÊÑèÂ§ÑÁêÜÂìçÂ∫îÁªìÊûúÂíåÂºÇÂ∏∏„ÄÇÂ¶ÇÊûúËøîÂõûÂìçÂ∫î OKÔºåË°®Á§∫Ê∂àÊÅØÊàêÂäüÂèëÈÄÅÂà∞‰∫Ü BrokerÔºåÂ¶ÇÊûúÂìçÂ∫îÂ§±Ë¥•ÔºåÊàñËÄÖÂèëÁîüÂÖ∂ÂÆÉÂºÇÂ∏∏ÔºåÈÉΩÂ∫îËØ•ÈáçËØï„ÄÇ</li><li>2„ÄÅÂºÇÊ≠•ÂèëÈÄÅÁöÑÊó∂ÂÄôÔºåÂ∫îËØ•Âú®ÂõûË∞ÉÊñπÊ≥ïÈáåÊ£ÄÊü•ÔºåÂ¶ÇÊûúÂèëÈÄÅÂ§±Ë¥•ÊàñËÄÖÂºÇÂ∏∏ÔºåÈÉΩÂ∫îËØ•ËøõË°åÈáçËØï„ÄÇ</li><li>3„ÄÅÂ¶ÇÊûúÂèëÁîüË∂ÖÊó∂ÁöÑÊÉÖÂÜµÔºå‰πüÂèØ‰ª•ÈÄöËøáÊü•ËØ¢Êó•ÂøóÁöÑ APIÔºåÊù•Ê£ÄÊü•ÊòØÂê¶Âú® Broker Â≠òÂÇ®ÊàêÂäü„ÄÇ</li></ul><h5 id="Â≠òÂÇ®" tabindex="-1"><a class="header-anchor" href="#Â≠òÂÇ®"><span>Â≠òÂÇ®</span></a></h5><p>Â≠òÂÇ®Èò∂ÊÆµÔºåÂèØ‰ª•ÈÄöËøá<strong>ÈÖçÁΩÆÂèØÈù†ÊÄß‰ºòÂÖàÁöÑ Broker ÂèÇÊï∞Êù•ÈÅøÂÖçÂõ†‰∏∫ÂÆïÊú∫‰∏¢Ê∂àÊÅØ</strong>ÔºåÁÆÄÂçïËØ¥Â∞±ÊòØÂèØÈù†ÊÄß‰ºòÂÖàÁöÑÂú∫ÊôØÈÉΩÂ∫îËØ•‰ΩøÁî®ÂêåÊ≠•„ÄÇ</p><ul><li>1„ÄÅÊ∂àÊÅØÂè™Ë¶ÅÊåÅ‰πÖÂåñÂà∞ CommitLogÔºàÊó•ÂøóÊñá‰ª∂Ôºâ‰∏≠ÔºåÂç≥‰Ωø Broker ÂÆïÊú∫ÔºåÊú™Ê∂àË¥πÁöÑÊ∂àÊÅØ‰πüËÉΩÈáçÊñ∞ÊÅ¢Â§çÂÜçÊ∂àË¥π„ÄÇ</li><li>2„ÄÅBroker ÁöÑÂà∑ÁõòÊú∫Âà∂ÔºöÂêåÊ≠•Âà∑ÁõòÂíåÂºÇÊ≠•Âà∑ÁõòÔºå‰∏çÁÆ°Âì™ÁßçÂà∑ÁõòÈÉΩÂèØ‰ª•‰øùËØÅÊ∂àÊÅØ‰∏ÄÂÆöÂ≠òÂÇ®Âú® pagecache ‰∏≠ÔºàÂÜÖÂ≠ò‰∏≠ÔºâÔºå‰ΩÜÊòØÂêåÊ≠•Âà∑ÁõòÊõ¥ÂèØÈù†ÔºåÂÆÉÊòØ Producer ÂèëÈÄÅÊ∂àÊÅØÂêéÁ≠âÊï∞ÊçÆÊåÅ‰πÖÂåñÂà∞Á£ÅÁõò‰πãÂêéÂÜçËøîÂõûÂìçÂ∫îÁªô Producer„ÄÇ</li></ul><figure><img src="https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/nice-article/weixin-mianznxrocketmqessw-61a3b092-1329-4738-bef9-6eb7ae429c26.jpg" alt="ÂêåÊ≠•Âà∑ÁõòÂíåÂºÇÊ≠•Âà∑Áõò-ÂõæÁâáÊù•Ê∫êÂÆòÁΩë" tabindex="0" loading="lazy"><figcaption>ÂêåÊ≠•Âà∑ÁõòÂíåÂºÇÊ≠•Âà∑Áõò-ÂõæÁâáÊù•Ê∫êÂÆòÁΩë</figcaption></figure><ul><li>3„ÄÅBroker ÈÄöËøá‰∏ª‰ªéÊ®°ÂºèÊù•‰øùËØÅÈ´òÂèØÁî®ÔºåBroker ÊîØÊåÅ Master Âíå Slave ÂêåÊ≠•Â§çÂà∂„ÄÅMaster Âíå Slave ÂºÇÊ≠•Â§çÂà∂Ê®°ÂºèÔºåÁîü‰∫ßËÄÖÁöÑÊ∂àÊÅØÈÉΩÊòØÂèëÈÄÅÁªô MasterÔºå‰ΩÜÊòØÊ∂àË¥πÊó¢ÂèØ‰ª•‰ªé Master Ê∂àË¥πÔºå‰πüÂèØ‰ª•‰ªé Slave Ê∂àË¥π„ÄÇÂêåÊ≠•Â§çÂà∂Ê®°ÂºèÂèØ‰ª•‰øùËØÅÂç≥‰Ωø Master ÂÆïÊú∫ÔºåÊ∂àÊÅØËÇØÂÆöÂú® Slave ‰∏≠ÊúâÂ§á‰ªΩÔºå‰øùËØÅ‰∫ÜÊ∂àÊÅØ‰∏ç‰ºö‰∏¢Â§±„ÄÇ</li></ul><h5 id="Ê∂àË¥π" tabindex="-1"><a class="header-anchor" href="#Ê∂àË¥π"><span>Ê∂àË¥π</span></a></h5><p>‰ªé Consumer ËßíÂ∫¶ÂàÜÊûêÔºåÂ¶Ç‰Ωï‰øùËØÅÊ∂àÊÅØË¢´ÊàêÂäüÊ∂àË¥πÔºü</p><ul><li>Consumer ‰øùËØÅÊ∂àÊÅØÊàêÂäüÊ∂àË¥πÁöÑÂÖ≥ÈîÆÂú®‰∫éÁ°ÆËÆ§ÁöÑÊó∂Êú∫Ôºå‰∏çË¶ÅÂú®Êî∂Âà∞Ê∂àÊÅØÂêéÂ∞±Á´ãÂç≥ÂèëÈÄÅÊ∂àË¥πÁ°ÆËÆ§ÔºåËÄåÊòØÂ∫îËØ•Âú®ÊâßË°åÂÆåÊâÄÊúâÊ∂àË¥π‰∏öÂä°ÈÄªËæë‰πãÂêéÔºåÂÜçÂèëÈÄÅÊ∂àË¥πÁ°ÆËÆ§„ÄÇÂõ†‰∏∫Ê∂àÊÅØÈòüÂàóÁª¥Êä§‰∫ÜÊ∂àË¥πÁöÑ‰ΩçÁΩÆÔºåÈÄªËæëÊâßË°åÂ§±Ë¥•‰∫ÜÔºåÊ≤°ÊúâÁ°ÆËÆ§ÔºåÂÜçÂéªÈòüÂàóÊãâÂèñÊ∂àÊÅØÔºåÂ∞±ËøòÊòØ‰πãÂâçÁöÑ‰∏ÄÊù°„ÄÇ</li></ul><h3 id="_10-Â¶Ç‰ΩïÂ§ÑÁêÜÊ∂àÊÅØÈáçÂ§çÁöÑÈóÆÈ¢òÂë¢" tabindex="-1"><a class="header-anchor" href="#_10-Â¶Ç‰ΩïÂ§ÑÁêÜÊ∂àÊÅØÈáçÂ§çÁöÑÈóÆÈ¢òÂë¢"><span>10.Â¶Ç‰ΩïÂ§ÑÁêÜÊ∂àÊÅØÈáçÂ§çÁöÑÈóÆÈ¢òÂë¢Ôºü</span></a></h3><p>RocketMQ ÂèØ‰ª•‰øùËØÅÊ∂àÊÅØ‰∏ÄÂÆöÊäïÈÄíÔºå‰∏î‰∏ç‰∏¢Â§±Ôºå‰ΩÜÊó†Ê≥ï‰øùËØÅÊ∂àÊÅØ‰∏çÈáçÂ§çÊ∂àË¥π„ÄÇ</p><p>Âõ†Ê≠§ÔºåÈúÄË¶ÅÂú®‰∏öÂä°Á´ØÂÅöÂ•ΩÊ∂àÊÅØÁöÑÂπÇÁ≠âÊÄßÂ§ÑÁêÜÔºåÊàñËÄÖÂÅöÊ∂àÊÅØÂéªÈáç„ÄÇ</p><figure><img src="https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/nice-article/weixin-mianznxrocketmqessw-05c0538b-abfa-4bb0-973f-6b92555a6e5b.jpg" alt="‰∏âÂàÜÊÅ∂Èù¢Ê∏£ÈÄÜË¢≠ÔºöÂπÇÁ≠âÂíåÂéªÈáç" tabindex="0" loading="lazy"><figcaption>‰∏âÂàÜÊÅ∂Èù¢Ê∏£ÈÄÜË¢≠ÔºöÂπÇÁ≠âÂíåÂéªÈáç</figcaption></figure><p>ÂπÇÁ≠âÊÄßÊòØÊåá‰∏Ä‰∏™Êìç‰ΩúÂèØ‰ª•ÊâßË°åÂ§öÊ¨°ËÄå‰∏ç‰ºö‰∫ßÁîüÂâØ‰ΩúÁî®ÔºåÂç≥Êó†ËÆ∫ÊâßË°åÂ§öÂ∞ëÊ¨°ÔºåÁªìÊûúÈÉΩÊòØÁõ∏ÂêåÁöÑ„ÄÇÂèØ‰ª•Âú®‰∏öÂä°ÈÄªËæë‰∏≠Âä†ÂÖ•Ê£ÄÊü•ÈÄªËæëÔºåÁ°Æ‰øùÂêå‰∏ÄÊ∂àÊÅØÂ§öÊ¨°Ê∂àË¥π‰∏ç‰ºö‰∫ßÁîüÂâØ‰ΩúÁî®„ÄÇ</p><p>‰æãÂ¶ÇÔºåÂú®ÊîØ‰ªòÂú∫ÊôØ‰∏ãÔºåÊ∂àË¥πËÄÖÊ∂àË¥πÊâ£Ê¨æÁöÑÊ∂àÊÅØÔºåÂØπ‰∏ÄÁ¨îËÆ¢ÂçïÊâßË°åÊâ£Ê¨æÊìç‰ΩúÔºåÈáëÈ¢ù‰∏∫100ÂÖÉ„ÄÇ</p><p>Â¶ÇÊûúÂõ†ÁΩëÁªú‰∏çÁ®≥ÂÆöÁ≠âÂéüÂõ†ÂØºËá¥Êâ£Ê¨æÊ∂àÊÅØÈáçÂ§çÊäïÈÄíÔºåÊ∂àË¥πËÄÖÈáçÂ§çÊ∂àË¥π‰∫ÜËØ•Êâ£Ê¨æÊ∂àÊÅØÔºå‰ΩÜÊúÄÁªàÁöÑ‰∏öÂä°ÁªìÊûúË¶Å‰øùËØÅÂè™Êâ£Ê¨æ‰∏ÄÊ¨°ÔºåÈáëÈ¢ù‰∏∫100ÂÖÉ„ÄÇÂ¶ÇÊûúÊâ£Ê¨æÊìç‰ΩúÊòØÁ¨¶ÂêàË¶ÅÊ±ÇÁöÑÔºåÈÇ£‰πàÂ∞±ÂèØ‰ª•ËÆ§‰∏∫Êï¥‰∏™Ê∂àË¥πËøáÁ®ãÂÆûÁé∞‰∫ÜÊ∂àÊÅØÂπÇÁ≠â„ÄÇ</p><p>Ê∂àÊÅØÂéªÈáçÔºåÊòØÊåáÂú®Ê∂àË¥πËÄÖÊ∂àË¥πÊ∂àÊÅØ‰πãÂâçÔºåÂÖàÊ£ÄÊü•‰∏Ä‰∏ãÊòØÂê¶Â∑≤ÁªèÊ∂àË¥πËøáËøôÊù°Ê∂àÊÅØÔºåÂ¶ÇÊûúÊ∂àË¥πËøá‰∫ÜÔºåÂ∞±‰∏çÂÜçÊ∂àË¥π„ÄÇ</p><p>‰∏öÂä°Á´ØÂèØ‰ª•ÈÄöËøá‰∏Ä‰∏™‰∏ìÈó®ÁöÑË°®Êù•ËÆ∞ÂΩïÂ∑≤ÁªèÊ∂àË¥πËøáÁöÑÊ∂àÊÅØ IDÔºåÊØèÊ¨°Ê∂àË¥πÊ∂àÊÅØ‰πãÂâçÔºåÂÖàÊü•ËØ¢‰∏Ä‰∏ãËøô‰∏™Ë°®ÔºåÂ¶ÇÊûúÂ∑≤ÁªèÂ≠òÂú®ÔºåÂ∞±‰∏çÂÜçÊ∂àË¥π„ÄÇ</p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">public</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> void</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> processMessage</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">(</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">String</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> messageId</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> String</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> message) {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    if</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">!</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">isMessageProcessed</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">(messageId)) {</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">        // Â§ÑÁêÜÊ∂àÊÅØ</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">        markMessageAsProcessed</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">(messageId)</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">    }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">private</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> boolean</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> isMessageProcessed</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">(</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">String</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> messageId) {</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">    // Êü•ËØ¢ÂéªÈáçË°®ÔºåÊ£ÄÊü•Ê∂àÊÅØIDÊòØÂê¶Â≠òÂú®</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">private</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> void</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> markMessageAsProcessed</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">(</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">String</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> messageId) {</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">    // Â∞ÜÊ∂àÊÅØIDÊèíÂÖ•ÂéªÈáçË°®</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="Â¶Ç‰Ωï‰øùËØÅÊ∂àÊÅØÁöÑÂπÇÁ≠âÊÄß" tabindex="-1"><a class="header-anchor" href="#Â¶Ç‰Ωï‰øùËØÅÊ∂àÊÅØÁöÑÂπÇÁ≠âÊÄß"><span>Â¶Ç‰Ωï‰øùËØÅÊ∂àÊÅØÁöÑÂπÇÁ≠âÊÄßÔºü</span></a></h4><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/rocketmq-20240726172003.png" alt="ÂãáÂì•ÔºöÊ∂àË¥πÂπÇÁ≠â" tabindex="0" loading="lazy"><figcaption>ÂãáÂì•ÔºöÊ∂àË¥πÂπÇÁ≠â</figcaption></figure><p>È¶ñÂÖàÔºåÊ∂àÊÅØÂøÖÈ°ªÊê∫Â∏¶‰∏öÂä°ÂîØ‰∏ÄÊ†áËØÜÔºåÂèØ‰ª•ÈÄöËøáÈõ™Ëä±ÁÆóÊ≥ïÁîüÊàêÂÖ®Â±ÄÂîØ‰∏Ä ID„ÄÇ</p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Message</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> msg </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> new</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> Message</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">(TOPIC </span><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">/* Topic */</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">             TAG </span><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">/* Tag */</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">               (</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;Hello RocketMQ &quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> +</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> i)</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">getBytes</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">RemotingHelper</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">DEFAULT_CHARSET</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"> /* Message body */</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">             )</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">message</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">setKey</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;ORDERID_100&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"> // ËÆ¢ÂçïÁºñÂè∑</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">SendResult</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> sendResult </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> producer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">send</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(message);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ÂÖ∂Ê¨°ÔºåÂú®Ê∂àË¥πËÄÖÊé•Êî∂Âà∞Ê∂àÊÅØÂêéÔºåÂà§Êñ≠ Redis ‰∏≠ÊòØÂê¶Â≠òÂú®ËØ•‰∏öÂä°‰∏ªÈîÆÁöÑÊ†áÂøó‰ΩçÔºåËã•Â≠òÂú®Ê†áÂøó‰ΩçÔºåÂàôËÆ§‰∏∫Ê∂àË¥πÊàêÂäüÔºåÂê¶ÂàôÊâßË°å‰∏öÂä°ÈÄªËæëÔºåÊâßË°åÂÆåÊàêÂêéÔºåÂú®ÁºìÂ≠ò‰∏≠Ê∑ªÂä†Ê†áÂøó‰Ωç„ÄÇ</p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">public</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> ConsumeConcurrentlyStatus</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> consumeMessage</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">(</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">List</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&lt;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">MessageExt</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> msgs</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> ConsumeConcurrentlyContext</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> context) {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    try</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        for</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">MessageExt</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> messageExt </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> msgs) {</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">           String</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> bizKey </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> messageExt</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">getKeys</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">();</span><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"> // ÂîØ‰∏Ä‰∏öÂä°‰∏ªÈîÆ</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">           //1. Âà§Êñ≠ÊòØÂê¶Â≠òÂú®Ê†áÂøó</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">           if</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">(</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">redisTemplate</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">hasKey</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">RedisKeyConstants</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">WAITING_SEND_LOCK</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> +</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> bizKey)</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">) {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">         			continue</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">       		 }</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">         	 //2. ÊâßË°å‰∏öÂä°ÈÄªËæë</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">           //TODO do business</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">           //3. ËÆæÁΩÆÊ†áÂøó‰Ωç</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">           redisTemplate</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">opsForValue</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">().</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">set</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">RedisKeyConstants</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">WAITING_SEND_LOCK</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> +</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> bizKey, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;1&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">72</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">TimeUnit</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">HOURS</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">        }</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        return</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> ConsumeConcurrentlyStatus</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">CONSUME_SUCCESS</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">    } </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">catch</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Exception</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> e</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">) {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">        logger</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">error</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;consumeMessage error: &quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, e);</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        return</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> ConsumeConcurrentlyStatus</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">RECONSUME_LATER</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">    }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ÁÑ∂ÂêéÔºåÂà©Áî®Êï∞ÊçÆÂ∫ìÁöÑÂîØ‰∏ÄÁ¥¢ÂºïÊù•Èò≤Ê≠¢‰∏öÂä°ÁöÑÈáçÂ§çÊèíÂÖ•„ÄÇ</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">CREATE</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> TABLE</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> `</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">t_order</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">` (</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  `id`</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> bigint</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">20</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">NOT NULL</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> AUTO_INCREMENT,</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  `order_id`</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> varchar</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">64</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">NOT NULL</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> COMMENT </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;ËÆ¢ÂçïÁºñÂè∑&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  `order_name`</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> varchar</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">64</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">NOT NULL</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> COMMENT </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;ËÆ¢ÂçïÂêçÁß∞&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  PRIMARY KEY</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">`id`</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">),</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  UNIQUE</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> KEY</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> `order_id`</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">`order_id`</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) ENGINE</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">InnoDB </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">DEFAULT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> CHARSET</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">utf8mb4 COMMENT</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;ËÆ¢ÂçïË°®&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ÊúÄÂêéÔºåÂú®Êï∞ÊçÆÂ∫ìË°®‰∏≠‰ΩøÁî®ÁâàÊú¨Âè∑ÔºåÈÄöËøá‰πêËßÇÈîÅÊú∫Âà∂Êù•‰øùËØÅÂπÇÁ≠âÊÄß„ÄÇÊØèÊ¨°Êõ¥Êñ∞Êìç‰ΩúÊó∂Ê£ÄÊü•ÁâàÊú¨Âè∑ÊòØÂê¶‰∏ÄËá¥ÔºåÂè™Êúâ‰∏ÄËá¥Êó∂ÊâçÊâßË°åÊõ¥Êñ∞Âπ∂ÈÄíÂ¢ûÁâàÊú¨Âè∑„ÄÇÂ¶ÇÊûúÁâàÊú¨Âè∑‰∏ç‰∏ÄËá¥ÔºåÂàôËØ¥ÊòéÊìç‰ΩúÂ∑≤Ë¢´ÊâßË°åËøáÔºåÊãíÁªùÈáçÂ§çÊìç‰Ωú„ÄÇ</p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">public</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> void</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> updateRecordWithOptimisticLock</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">(</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">int</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> id</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> String</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> newValue</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> int</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> expectedVersion) {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    int</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> updatedRows </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> jdbcTemplate</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">update</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">        &quot;UPDATE records SET value = ?, version = version + 1 WHERE id = ? AND version = ?&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        newValue, id, expectedVersion</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    );</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    if</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (updatedRows </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">==</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">) {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        throw</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> new</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> OptimisticLockingFailureException</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;Record has been modified by another transaction&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">)</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">    }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ÊàñËÄÖÊÇ≤ËßÇÈîÅÊú∫Âà∂ÔºåÈÄöËøáÊï∞ÊçÆÂ∫ìÁöÑÈîÅÊú∫Âà∂Êù•‰øùËØÅÂπÇÁ≠âÊÄß„ÄÇ</p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">public</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> void</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> updateRecordWithPessimisticLock</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">(</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">int</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> id) {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">    jdbcTemplate</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">queryForObject</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;SELECT * FROM records WHERE id = ? FOR UPDATE&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, id);</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">    jdbcTemplate</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">update</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;UPDATE records SET value = ? WHERE id = ?&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;newValue&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, id);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="Èõ™Ëä±ÁÆóÊ≥ï‰∫ÜËß£Âêó" tabindex="-1"><a class="header-anchor" href="#Èõ™Ëä±ÁÆóÊ≥ï‰∫ÜËß£Âêó"><span>Èõ™Ëä±ÁÆóÊ≥ï‰∫ÜËß£ÂêóÔºü</span></a></h4><p>Èõ™Ëä±ÁÆóÊ≥ïÊòØÁî± Twitter ÂºÄÂèëÁöÑ‰∏ÄÁßçÂàÜÂ∏ÉÂºèÂîØ‰∏Ä ID ÁîüÊàêÁÆóÊ≥ï„ÄÇ</p><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/rocketmq-20240726174236.png" alt="ÊäÄÊúØÊ¥æÊïôÁ®ãÔºöÈõ™Ëä±ÁÆóÊ≥ï" tabindex="0" loading="lazy"><figcaption>ÊäÄÊúØÊ¥æÊïôÁ®ãÔºöÈõ™Ëä±ÁÆóÊ≥ï</figcaption></figure><p>Èõ™Ëä±ÁÆóÊ≥ï‰ª• 64 bit Êù•Â≠òÂÇ®ÁªÑÊàê ID ÁöÑ4 ‰∏™ÈÉ®ÂàÜÔºö</p><ol><li>ÊúÄÈ´ò‰ΩçÂç†1 bitÔºåÂßãÁªà‰∏∫ 0ÔºåË°®Á§∫Ê≠£Êï∞„ÄÇ</li><li>‰∏≠‰ΩçÂç† 41 bitÔºåÂÄº‰∏∫ÊØ´ÁßíÁ∫ßÊó∂Èó¥Êà≥Ôºõ</li><li>‰∏≠‰∏ã‰ΩçÂç† 10 bitÔºåÊú∫Âô® IDÔºàÂåÖÊã¨Êï∞ÊçÆ‰∏≠ÂøÉ ID ÂíåÊú∫Âô® IDÔºâÔºåÂèØ‰ª•ÊîØÊåÅ 1024 ‰∏™ËäÇÁÇπ„ÄÇ</li><li>Êú´‰ΩçÂç† 12 bitÔºåÂÄº‰∏∫ÂΩìÂâçÊØ´ÁßíÂÜÖÁîüÊàêÁöÑ‰∏çÂêåÁöÑËá™Â¢ûÂ∫èÂàóÔºåÂÄºÁöÑ‰∏äÈôê‰∏∫ 4096Ôºõ</li></ol><p>ÁõÆÂâçÈõ™Ëä±ÁÆóÊ≥ïÁöÑÂÆûÁé∞ÊØîËæÉÂ§öÔºåÂèØ‰ª•Áõ¥Êé•‰ΩøÁî® Hutool Â∑•ÂÖ∑Á±ªÂ∫ì‰∏≠ÁöÑ <code>IdUtil.getSnowflake()</code> ÊñπÊ≥ïÊù•Ëé∑ÂèñÈõ™Ëä± ID„ÄÇ</p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">long</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> id </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> IdUtil</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">getSnowflakeNextId</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">();</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><blockquote><ol><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java Èù¢ËØïÊåáÂçóÔºà‰ªòË¥πÔºâ</a>Êî∂ÂΩïÁöÑ‰∫¨‰∏úÂêåÂ≠¶ 4 ‰∫ëÂÆû‰π†Èù¢ËØïÂéüÈ¢òÔºöÂ¶Ç‰ΩïÂ§ÑÁêÜÊ∂àÊÅØÈáçÂ§çÊ∂àË¥πÁöÑÈóÆÈ¢òÔºüÂ¶Ç‰Ωï‰øùËØÅÂπÇÁ≠âÊÄßÔºüÈõ™Ëä±ÁÆóÊ≥ï‰∫ÜËß£ÂêóÔºü</li></ol></blockquote><h3 id="_11-ÊÄé‰πàÂ§ÑÁêÜÊ∂àÊÅØÁßØÂéã" tabindex="-1"><a class="header-anchor" href="#_11-ÊÄé‰πàÂ§ÑÁêÜÊ∂àÊÅØÁßØÂéã"><span>11.ÊÄé‰πàÂ§ÑÁêÜÊ∂àÊÅØÁßØÂéãÔºü</span></a></h3><p>ÂèëÁîü‰∫ÜÊ∂àÊÅØÁßØÂéãÔºåËøôÊó∂ÂÄôÂ∞±ÂæóÊÉ≥ÂäûÊ≥ïËµ∂Á¥ßÊääÁßØÂéãÁöÑÊ∂àÊÅØÊ∂àË¥πÂÆåÔºåÂ∞±ÂæóËÄÉËôëÊèêÈ´òÊ∂àË¥πËÉΩÂäõÔºå‰∏ÄËà¨Êúâ‰∏§ÁßçÂäûÊ≥ïÔºö</p><figure><img src="https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/nice-article/weixin-mianznxrocketmqessw-5d1ea064-1a37-4746-ad26-a18a1c8c344e.jpg" alt="Ê∂àÊÅØÁßØÂéãÂ§ÑÁêÜ" tabindex="0" loading="lazy"><figcaption>Ê∂àÊÅØÁßØÂéãÂ§ÑÁêÜ</figcaption></figure><ul><li><strong>Ê∂àË¥πËÄÖÊâ©ÂÆπ</strong>ÔºöÂ¶ÇÊûúÂΩìÂâç Topic ÁöÑ Message Queue ÁöÑÊï∞ÈáèÂ§ß‰∫éÊ∂àË¥πËÄÖÊï∞ÈáèÔºåÂ∞±ÂèØ‰ª•ÂØπÊ∂àË¥πËÄÖËøõË°åÊâ©ÂÆπÔºåÂ¢ûÂä†Ê∂àË¥πËÄÖÔºåÊù•ÊèêÈ´òÊ∂àË¥πËÉΩÂäõÔºåÂ∞ΩÂø´ÊääÁßØÂéãÁöÑÊ∂àÊÅØÊ∂àË¥πÁé©„ÄÇ</li><li><strong>Ê∂àÊÅØËøÅÁßª Queue Êâ©ÂÆπ</strong>ÔºöÂ¶ÇÊûúÂΩìÂâç Topic ÁöÑ Message Queue ÁöÑÊï∞ÈáèÂ∞è‰∫éÊàñËÄÖÁ≠â‰∫éÊ∂àË¥πËÄÖÊï∞ÈáèÔºåËøôÁßçÊÉÖÂÜµÔºåÂÜçÊâ©ÂÆπÊ∂àË¥πËÄÖÂ∞±Ê≤°‰ªÄ‰πàÁî®ÔºåÂ∞±ÂæóËÄÉËôëÊâ©ÂÆπ Message Queue„ÄÇÂèØ‰ª•Êñ∞Âª∫‰∏Ä‰∏™‰∏¥Êó∂ÁöÑ TopicÔºå‰∏¥Êó∂ÁöÑ Topic Â§öËÆæÁΩÆ‰∏Ä‰∫õ Message QueueÔºåÁÑ∂ÂêéÂÖàÁî®‰∏Ä‰∫õÊ∂àË¥πËÄÖÊääÊ∂àË¥πÁöÑÊï∞ÊçÆ‰∏¢Âà∞‰∏¥Êó∂ÁöÑ TopicÔºåÂõ†‰∏∫‰∏çÁî®‰∏öÂä°Â§ÑÁêÜÔºåÂè™ÊòØËΩ¨Âèë‰∏Ä‰∏ãÊ∂àÊÅØÔºåËøòÊòØÂæàÂø´ÁöÑ„ÄÇÊé•‰∏ãÊù•Áî®Êâ©ÂÆπÁöÑÊ∂àË¥πËÄÖÂéªÊ∂àË¥πÊñ∞ÁöÑ Topic ÈáåÁöÑÊï∞ÊçÆÔºåÊ∂àË¥πÂÆå‰∫Ü‰πãÂêéÔºåÊÅ¢Â§çÂéüÁä∂„ÄÇ</li></ul><figure><img src="https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/nice-article/weixin-mianznxrocketmqessw-69aa8004-45e9-4e41-b628-1d7ed6d94c92.jpg" alt="Ê∂àÊÅØËøÅÁßªÊâ©ÂÆπÊ∂àË¥π" tabindex="0" loading="lazy"><figcaption>Ê∂àÊÅØËøÅÁßªÊâ©ÂÆπÊ∂àË¥π</figcaption></figure><h3 id="_12-È°∫Â∫èÊ∂àÊÅØÂ¶Ç‰ΩïÂÆûÁé∞" tabindex="-1"><a class="header-anchor" href="#_12-È°∫Â∫èÊ∂àÊÅØÂ¶Ç‰ΩïÂÆûÁé∞"><span>12.È°∫Â∫èÊ∂àÊÅØÂ¶Ç‰ΩïÂÆûÁé∞Ôºü</span></a></h3><p>RocketMQ ÂÆûÁé∞È°∫Â∫èÊ∂àÊÅØÁöÑÂÖ≥ÈîÆÂú®‰∫é‰øùËØÅÊ∂àÊÅØÁîü‰∫ßÂíåÊ∂àË¥πËøáÁ®ã‰∏≠‰∏•Ê†ºÁöÑÈ°∫Â∫èÊéßÂà∂ÔºåÂç≥Á°Æ‰øùÂêå‰∏Ä‰∏öÂä°ÁöÑÊ∂àÊÅØÊåâÈ°∫Â∫èÂèëÈÄÅÂà∞Âêå‰∏Ä‰∏™ÈòüÂàó‰∏≠ÔºåÂπ∂Áî±Âêå‰∏Ä‰∏™Ê∂àË¥πËÄÖÁ∫øÁ®ãÊåâÈ°∫Â∫èÊ∂àË¥π„ÄÇ</p><figure><img src="https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/nice-article/weixin-mianznxrocketmqessw-e3de6bb5-b5db-47af-8ae3-73aedd269f32.jpg" alt="‰∏âÂàÜÊÅ∂Èù¢Ê∏£ÈÄÜË¢≠ÔºöÈ°∫Â∫èÊ∂àÊÅØ" tabindex="0" loading="lazy"><figcaption>‰∏âÂàÜÊÅ∂Èù¢Ê∏£ÈÄÜË¢≠ÔºöÈ°∫Â∫èÊ∂àÊÅØ</figcaption></figure><h4 id="Â±ÄÈÉ®È°∫Â∫èÊ∂àÊÅØÂ¶Ç‰ΩïÂÆûÁé∞" tabindex="-1"><a class="header-anchor" href="#Â±ÄÈÉ®È°∫Â∫èÊ∂àÊÅØÂ¶Ç‰ΩïÂÆûÁé∞"><span>Â±ÄÈÉ®È°∫Â∫èÊ∂àÊÅØÂ¶Ç‰ΩïÂÆûÁé∞Ôºü</span></a></h4><p>Â±ÄÈÉ®È°∫Â∫èÊ∂àÊÅØ‰øùËØÅÂú®Êüê‰∏™ÈÄªËæëÂàÜÂå∫Êàñ‰∏öÂä°ÈÄªËæë‰∏ãÁöÑÊ∂àÊÅØÈ°∫Â∫èÔºå‰æãÂ¶ÇÂêå‰∏Ä‰∏™ËÆ¢ÂçïÊàñÁî®Êà∑ÁöÑÊ∂àÊÅØÊåâÈ°∫Â∫èÊ∂àË¥πÔºåËÄå‰∏çÂêåËÆ¢ÂçïÊàñÁî®Êà∑‰πãÈó¥ÁöÑÈ°∫Â∫è‰∏çÂÅö‰øùËØÅ„ÄÇ</p><figure><img src="https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/nice-article/weixin-mianznxrocketmqessw-14ab3700-8538-473e-bb66-8acfdd6a77a2.jpg" alt="‰∏âÂàÜÊÅ∂Èù¢Ê∏£ÈÄÜË¢≠ÔºöÈÉ®ÂàÜÈ°∫Â∫èÊ∂àÊÅØ" tabindex="0" loading="lazy"><figcaption>‰∏âÂàÜÊÅ∂Èù¢Ê∏£ÈÄÜË¢≠ÔºöÈÉ®ÂàÜÈ°∫Â∫èÊ∂àÊÅØ</figcaption></figure><h4 id="ÂÖ®Â±ÄÈ°∫Â∫èÊ∂àÊÅØÂ¶Ç‰ΩïÂÆûÁé∞" tabindex="-1"><a class="header-anchor" href="#ÂÖ®Â±ÄÈ°∫Â∫èÊ∂àÊÅØÂ¶Ç‰ΩïÂÆûÁé∞"><span>ÂÖ®Â±ÄÈ°∫Â∫èÊ∂àÊÅØÂ¶Ç‰ΩïÂÆûÁé∞Ôºü</span></a></h4><p>ÂÖ®Â±ÄÈ°∫Â∫èÊ∂àÊÅØ‰øùËØÅÊ∂àÊÅØÂú®Êï¥‰∏™Á≥ªÁªüËåÉÂõ¥ÂÜÖÁöÑ‰∏•Ê†ºÈ°∫Â∫èÔºåÂç≥Ê∂àÊÅØÊåâÁÖßÁîü‰∫ßÁöÑÈ°∫Â∫èË¢´Ê∂àË¥π„ÄÇ</p><p>ÂèØ‰ª•Â∞ÜÊâÄÊúâÊ∂àÊÅØÂèëÈÄÅÂà∞‰∏Ä‰∏™ÂçïÁã¨ÁöÑÈòüÂàó‰∏≠ÔºåÁ°Æ‰øùÊâÄÊúâÊ∂àÊÅØÊåâÁîü‰∫ßÈ°∫Â∫èÂèëÈÄÅÂíåÊ∂àË¥π„ÄÇ</p><figure><img src="https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/nice-article/weixin-mianznxrocketmqessw-8e98ac61-ad47-4ed4-aac6-223201f9aae2.jpg" alt="‰∏âÂàÜÊÅ∂Èù¢Ê∏£ÈÄÜË¢≠ÔºöÂÖ®Â±ÄÈ°∫Â∫èÊ∂àÊÅØ" tabindex="0" loading="lazy"><figcaption>‰∏âÂàÜÊÅ∂Èù¢Ê∏£ÈÄÜË¢≠ÔºöÂÖ®Â±ÄÈ°∫Â∫èÊ∂àÊÅØ</figcaption></figure><blockquote><ol><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java Èù¢ËØïÊåáÂçóÔºà‰ªòË¥πÔºâ</a>Êî∂ÂΩïÁöÑ‰∫¨‰∏úÈù¢ÁªèÂêåÂ≠¶ 2 ÂêéÁ´ØÈù¢ËØïÂéüÈ¢òÔºöËØ¥ËØ¥mqÂéüÁêÜÔºåÊÄé‰πà‰øùËØÅÊ∂àÊÅØÊé•ÂèóÈ°∫Â∫èÔºü</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java Èù¢ËØïÊåáÂçóÔºà‰ªòË¥πÔºâ</a>Êî∂ÂΩïÁöÑÊî∂Èí±ÂêßÈù¢ÁªèÂêåÂ≠¶ 1 Java ÂêéÁ´Ø‰∏ÄÈù¢Èù¢ËØïÂéüÈ¢òÔºöRocketMQÁöÑÈ°∫Â∫èÊ∂àÊÅØÔºü</li></ol></blockquote><h3 id="_13-Â¶Ç‰ΩïÂÆûÁé∞Ê∂àÊÅØËøáÊª§" tabindex="-1"><a class="header-anchor" href="#_13-Â¶Ç‰ΩïÂÆûÁé∞Ê∂àÊÅØËøáÊª§"><span>13.Â¶Ç‰ΩïÂÆûÁé∞Ê∂àÊÅØËøáÊª§Ôºü</span></a></h3><p>Êúâ‰∏§ÁßçÊñπÊ°àÔºö</p><ul><li>‰∏ÄÁßçÊòØÂú® Broker Á´ØÊåâÁÖß Consumer ÁöÑÂéªÈáçÈÄªËæëËøõË°åËøáÊª§ÔºåËøôÊ†∑ÂÅöÁöÑÂ•ΩÂ§ÑÊòØÈÅøÂÖç‰∫ÜÊó†Áî®ÁöÑÊ∂àÊÅØ‰º†ËæìÂà∞ Consumer Á´ØÔºåÁº∫ÁÇπÊòØÂä†Èáç‰∫Ü Broker ÁöÑË¥üÊãÖÔºåÂÆûÁé∞Ëµ∑Êù•Áõ∏ÂØπÂ§çÊùÇ„ÄÇ</li><li>Âè¶‰∏ÄÁßçÊòØÂú® Consumer Á´ØËøáÊª§ÔºåÊØîÂ¶ÇÊåâÁÖßÊ∂àÊÅØËÆæÁΩÆÁöÑ tag ÂéªÈáçÔºåËøôÊ†∑ÁöÑÂ•ΩÂ§ÑÊòØÂÆûÁé∞Ëµ∑Êù•ÁÆÄÂçïÔºåÁº∫ÁÇπÊòØÊúâÂ§ßÈáèÊó†Áî®ÁöÑÊ∂àÊÅØÂà∞Ëææ‰∫Ü Consumer Á´ØÂè™ËÉΩ‰∏¢ÂºÉ‰∏çÂ§ÑÁêÜ„ÄÇ</li></ul><p>‰∏ÄËà¨ÈááÁî® Cosumer Á´ØËøáÊª§ÔºåÂ¶ÇÊûúÂ∏åÊúõÊèêÈ´òÂêûÂêêÈáèÔºåÂèØ‰ª•ÈááÁî® Broker ËøáÊª§„ÄÇ</p><p>ÂØπÊ∂àÊÅØÁöÑËøáÊª§Êúâ‰∏âÁßçÊñπÂºèÔºö</p><figure><img src="https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/nice-article/weixin-mianznxrocketmqessw-f2c8bf50-dc51-44c8-9d71-b8a22af199c4.jpg" alt="Ê∂àÊÅØËøáÊª§" tabindex="0" loading="lazy"><figcaption>Ê∂àÊÅØËøáÊª§</figcaption></figure><ul><li>Ê†πÊçÆ Tag ËøáÊª§ÔºöËøôÊòØÊúÄÂ∏∏ËßÅÁöÑ‰∏ÄÁßçÔºåÁî®Ëµ∑Êù•È´òÊïàÁÆÄÂçï</li></ul><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>DefaultMQPushConsumer¬†consumer¬†=¬†new¬†DefaultMQPushConsumer(&quot;CID_EXAMPLE&quot;);</span></span>
<span class="line"><span>consumer.subscribe(&quot;TOPIC&quot;,¬†&quot;TAGA¬†||¬†TAGB¬†||¬†TAGC&quot;);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>SQL Ë°®ËææÂºèËøáÊª§ÔºöSQL Ë°®ËææÂºèËøáÊª§Êõ¥Âä†ÁÅµÊ¥ª</li></ul><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>DefaultMQPushConsumer¬†consumer¬†=¬†new¬†DefaultMQPushConsumer(&quot;please_rename_unique_group_name_4&quot;);</span></span>
<span class="line"><span>//¬†Âè™ÊúâËÆ¢ÈòÖÁöÑÊ∂àÊÅØÊúâËøô‰∏™Â±ûÊÄßa,¬†a¬†&gt;=0¬†and¬†a¬†&lt;=¬†3</span></span>
<span class="line"><span>consumer.subscribe(&quot;TopicTest&quot;,¬†MessageSelector.bySql(&quot;a¬†between¬†0¬†and¬†3&quot;);</span></span>
<span class="line"><span>consumer.registerMessageListener(new¬†MessageListenerConcurrently()¬†{</span></span>
<span class="line"><span>¬†¬†¬†@Override</span></span>
<span class="line"><span>¬†¬†¬†public¬†ConsumeConcurrentlyStatus¬†consumeMessage(List&lt;MessageExt&gt;¬†msgs,¬†ConsumeConcurrentlyContext¬†context)¬†{</span></span>
<span class="line"><span>¬†¬†¬†¬†¬†¬†¬†return¬†ConsumeConcurrentlyStatus.CONSUME_SUCCESS;</span></span>
<span class="line"><span>¬†¬†¬†}</span></span>
<span class="line"><span>});</span></span>
<span class="line"><span>consumer.start();</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>Filter Server ÊñπÂºèÔºöÊúÄÁÅµÊ¥ªÔºå‰πüÊòØÊúÄÂ§çÊùÇÁöÑ‰∏ÄÁßçÊñπÂºèÔºåÂÖÅËÆ∏Áî®Êà∑Ëá™ÂÆö‰πâÂáΩÊï∞ËøõË°åËøáÊª§</li></ul><h3 id="_14-Âª∂Êó∂Ê∂àÊÅØ‰∫ÜËß£Âêó" tabindex="-1"><a class="header-anchor" href="#_14-Âª∂Êó∂Ê∂àÊÅØ‰∫ÜËß£Âêó"><span>14.Âª∂Êó∂Ê∂àÊÅØ‰∫ÜËß£ÂêóÔºü</span></a></h3><p>ÁîµÂïÜÁöÑËÆ¢ÂçïË∂ÖÊó∂Ëá™Âä®ÂèñÊ∂àÔºåÂ∞±ÊòØ‰∏Ä‰∏™ÂÖ∏ÂûãÁöÑÂà©Áî®Âª∂Êó∂Ê∂àÊÅØÁöÑ‰æãÂ≠êÔºåÁî®Êà∑Êèê‰∫§‰∫Ü‰∏Ä‰∏™ËÆ¢ÂçïÔºåÂ∞±ÂèØ‰ª•ÂèëÈÄÅ‰∏Ä‰∏™Âª∂Êó∂Ê∂àÊÅØÔºå1h ÂêéÂéªÊ£ÄÊü•Ëøô‰∏™ËÆ¢ÂçïÁöÑÁä∂ÊÄÅÔºåÂ¶ÇÊûúËøòÊòØÊú™‰ªòÊ¨æÂ∞±ÂèñÊ∂àËÆ¢ÂçïÈáäÊîæÂ∫ìÂ≠ò„ÄÇ</p><p>RocketMQ ÊòØÊîØÊåÅÂª∂Êó∂Ê∂àÊÅØÁöÑÔºåÂè™ÈúÄË¶ÅÂú®Áîü‰∫ßÊ∂àÊÅØÁöÑÊó∂ÂÄôËÆæÁΩÆÊ∂àÊÅØÁöÑÂª∂Êó∂Á∫ßÂà´Ôºö</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>//¬†ÂÆû‰æãÂåñ‰∏Ä‰∏™Áîü‰∫ßËÄÖÊù•‰∫ßÁîüÂª∂Êó∂Ê∂àÊÅØ</span></span>
<span class="line"><span>DefaultMQProducer¬†producer¬†=¬†new¬†DefaultMQProducer(&quot;ExampleProducerGroup&quot;);</span></span>
<span class="line"><span>//¬†ÂêØÂä®Áîü‰∫ßËÄÖ</span></span>
<span class="line"><span>producer.start();</span></span>
<span class="line"><span>int¬†totalMessagesToSend¬†=¬†100;</span></span>
<span class="line"><span>for¬†(int¬†i¬†=¬†0;¬†i¬†&lt;¬†totalMessagesToSend;¬†i++)¬†{</span></span>
<span class="line"><span>    Message¬†message¬†=¬†new¬†Message(&quot;TestTopic&quot;,¬†(&quot;Hello¬†scheduled¬†message¬†&quot;¬†+¬†i).getBytes());</span></span>
<span class="line"><span>    //¬†ËÆæÁΩÆÂª∂Êó∂Á≠âÁ∫ß3,Ëøô‰∏™Ê∂àÊÅØÂ∞ÜÂú®10s‰πãÂêéÂèëÈÄÅ(Áé∞Âú®Âè™ÊîØÊåÅÂõ∫ÂÆöÁöÑÂá†‰∏™Êó∂Èó¥,ËØ¶ÁúãdelayTimeLevel)</span></span>
<span class="line"><span>    message.setDelayTimeLevel(3);</span></span>
<span class="line"><span>    //¬†ÂèëÈÄÅÊ∂àÊÅØ</span></span>
<span class="line"><span>    producer.send(message);</span></span>
<span class="line"><span>}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>‰ΩÜÊòØÁõÆÂâç RocketMQ ÊîØÊåÅÁöÑÂª∂Êó∂Á∫ßÂà´ÊòØÊúâÈôêÁöÑÔºö</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>private¬†String¬†messageDelayLevel¬†=¬†&quot;1s¬†5s¬†10s¬†30s¬†1m¬†2m¬†3m¬†4m¬†5m¬†6m¬†7m¬†8m¬†9m¬†10m¬†20m¬†30m¬†1h¬†2h&quot;;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h4 id="rocketmq-ÊÄé‰πàÂÆûÁé∞Âª∂Êó∂Ê∂àÊÅØÁöÑ" tabindex="-1"><a class="header-anchor" href="#rocketmq-ÊÄé‰πàÂÆûÁé∞Âª∂Êó∂Ê∂àÊÅØÁöÑ"><span>RocketMQ ÊÄé‰πàÂÆûÁé∞Âª∂Êó∂Ê∂àÊÅØÁöÑÔºü</span></a></h4><p>ÁÆÄÂçïÔºåÂÖ´‰∏™Â≠óÔºö<code>‰∏¥Êó∂Â≠òÂÇ®</code>+<code>ÂÆöÊó∂‰ªªÂä°</code>„ÄÇ</p><p>Broker Êî∂Âà∞Âª∂Êó∂Ê∂àÊÅØ‰∫ÜÔºå‰ºöÂÖàÂèëÈÄÅÂà∞‰∏ªÈ¢òÔºàSCHEDULE_TOPIC_XXXXÔºâÁöÑÁõ∏Â∫îÊó∂Èó¥ÊÆµÁöÑ Message Queue ‰∏≠ÔºåÁÑ∂ÂêéÈÄöËøá‰∏Ä‰∏™ÂÆöÊó∂‰ªªÂä°ËΩÆËØ¢Ëøô‰∫õÈòüÂàóÔºåÂà∞ÊúüÂêéÔºåÊääÊ∂àÊÅØÊäïÈÄíÂà∞ÁõÆÊ†á Topic ÁöÑÈòüÂàó‰∏≠ÔºåÁÑ∂ÂêéÊ∂àË¥πËÄÖÂ∞±ÂèØ‰ª•Ê≠£Â∏∏Ê∂àË¥πËøô‰∫õÊ∂àÊÅØ„ÄÇ</p><figure><img src="https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/nice-article/weixin-mianznxrocketmqessw-e3b68480-8006-4cd6-892a-1c72f8b0fbcb.jpg" alt="Âª∂ËøüÊ∂àÊÅØÂ§ÑÁêÜÊµÅÁ®ã-ÂõæÁâáÊù•Ê∫êËßÅÊ∞¥Âç∞" tabindex="0" loading="lazy"><figcaption>Âª∂ËøüÊ∂àÊÅØÂ§ÑÁêÜÊµÅÁ®ã-ÂõæÁâáÊù•Ê∫êËßÅÊ∞¥Âç∞</figcaption></figure><h3 id="_15-ÊÄé‰πàÂÆûÁé∞ÂàÜÂ∏ÉÂºèÊ∂àÊÅØ‰∫ãÂä°ÁöÑ-ÂçäÊ∂àÊÅØ" tabindex="-1"><a class="header-anchor" href="#_15-ÊÄé‰πàÂÆûÁé∞ÂàÜÂ∏ÉÂºèÊ∂àÊÅØ‰∫ãÂä°ÁöÑ-ÂçäÊ∂àÊÅØ"><span>15.ÊÄé‰πàÂÆûÁé∞ÂàÜÂ∏ÉÂºèÊ∂àÊÅØ‰∫ãÂä°ÁöÑÔºüÂçäÊ∂àÊÅØÔºü</span></a></h3><p>ÂçäÊ∂àÊÅØÔºöÊòØÊåáÊöÇÊó∂Ëøò‰∏çËÉΩË¢´ Consumer Ê∂àË¥πÁöÑÊ∂àÊÅØÔºåProducer ÊàêÂäüÂèëÈÄÅÂà∞ Broker Á´ØÁöÑÊ∂àÊÅØÔºå‰ΩÜÊòØÊ≠§Ê∂àÊÅØË¢´Ê†áËÆ∞‰∏∫ ‚ÄúÊöÇ‰∏çÂèØÊäïÈÄí‚Äù Áä∂ÊÄÅÔºåÂè™ÊúâÁ≠â Producer Á´ØÊâßË°åÂÆåÊú¨Âú∞‰∫ãÂä°ÂêéÁªèËøá‰∫åÊ¨°Á°ÆËÆ§‰∫Ü‰πãÂêéÔºåConsumer ÊâçËÉΩÊ∂àË¥πÊ≠§Êù°Ê∂àÊÅØ„ÄÇ</p><p>‰æùËµñÂçäÊ∂àÊÅØÔºåÂèØ‰ª•ÂÆûÁé∞ÂàÜÂ∏ÉÂºèÊ∂àÊÅØ‰∫ãÂä°ÔºåÂÖ∂‰∏≠ÁöÑÂÖ≥ÈîÆÂú®‰∫é‰∫åÊ¨°Á°ÆËÆ§‰ª•ÂèäÊ∂àÊÅØÂõûÊü•Ôºö</p><figure><img src="https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/nice-article/weixin-mianznxrocketmqessw-76df2fb9-0f3f-496d-88a8-aac79ad1102c.jpg" alt="RocketMQÂÆûÁé∞Ê∂àÊÅØ‰∫ãÂä°" tabindex="0" loading="lazy"><figcaption>RocketMQÂÆûÁé∞Ê∂àÊÅØ‰∫ãÂä°</figcaption></figure><ul><li>1„ÄÅProducer Âêë broker ÂèëÈÄÅÂçäÊ∂àÊÅØ</li><li>2„ÄÅProducer Á´ØÊî∂Âà∞ÂìçÂ∫îÔºåÊ∂àÊÅØÂèëÈÄÅÊàêÂäüÔºåÊ≠§Êó∂Ê∂àÊÅØÊòØÂçäÊ∂àÊÅØÔºåÊ†áËÆ∞‰∏∫ ‚Äú‰∏çÂèØÊäïÈÄí‚Äù Áä∂ÊÄÅÔºåConsumer Ê∂àË¥π‰∏ç‰∫Ü„ÄÇ</li><li>3„ÄÅProducer Á´ØÊâßË°åÊú¨Âú∞‰∫ãÂä°„ÄÇ</li><li>4„ÄÅÊ≠£Â∏∏ÊÉÖÂÜµÊú¨Âú∞‰∫ãÂä°ÊâßË°åÂÆåÊàêÔºåProducer Âêë Broker ÂèëÈÄÅ Commit/RollbackÔºåÂ¶ÇÊûúÊòØ CommitÔºåBroker Á´ØÂ∞ÜÂçäÊ∂àÊÅØÊ†áËÆ∞‰∏∫Ê≠£Â∏∏Ê∂àÊÅØÔºåConsumer ÂèØ‰ª•Ê∂àË¥πÔºåÂ¶ÇÊûúÊòØ RollbackÔºåBroker ‰∏¢ÂºÉÊ≠§Ê∂àÊÅØ„ÄÇ</li><li>5„ÄÅÂºÇÂ∏∏ÊÉÖÂÜµÔºåBroker Á´ØËøüËøüÁ≠â‰∏çÂà∞‰∫åÊ¨°Á°ÆËÆ§„ÄÇÂú®‰∏ÄÂÆöÊó∂Èó¥ÂêéÔºå‰ºöÊü•ËØ¢ÊâÄÊúâÁöÑÂçäÊ∂àÊÅØÔºåÁÑ∂ÂêéÂà∞ Producer Á´ØÊü•ËØ¢ÂçäÊ∂àÊÅØÁöÑÊâßË°åÊÉÖÂÜµ„ÄÇ</li><li>6„ÄÅProducer Á´ØÊü•ËØ¢Êú¨Âú∞‰∫ãÂä°ÁöÑÁä∂ÊÄÅ</li><li>7„ÄÅÊ†πÊçÆ‰∫ãÂä°ÁöÑÁä∂ÊÄÅÊèê‰∫§ commit/rollback Âà∞ broker Á´Ø„ÄÇÔºà5Ôºå6Ôºå7 ÊòØÊ∂àÊÅØÂõûÊü•Ôºâ</li><li>8„ÄÅÊ∂àË¥πËÄÖÊÆµÊ∂àË¥πÂà∞Ê∂àÊÅØ‰πãÂêéÔºåÊâßË°åÊú¨Âú∞‰∫ãÂä°ÔºåÊâßË°åÊú¨Âú∞‰∫ãÂä°„ÄÇ</li></ul><h3 id="_16-Ê≠ª‰ø°ÈòüÂàóÁü•ÈÅìÂêó" tabindex="-1"><a class="header-anchor" href="#_16-Ê≠ª‰ø°ÈòüÂàóÁü•ÈÅìÂêó"><span>16.Ê≠ª‰ø°ÈòüÂàóÁü•ÈÅìÂêóÔºü</span></a></h3><p>Ê≠ª‰ø°ÈòüÂàóÁî®‰∫éÂ≠òÂÇ®ÈÇ£‰∫õÊó†Ê≥ïË¢´Ê≠£Â∏∏Â§ÑÁêÜÁöÑÊ∂àÊÅØÔºåËøô‰∫õÊ∂àÊÅØË¢´Áß∞‰∏∫Ê≠ª‰ø°ÔºàDead LetterÔºâ„ÄÇ</p><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/rocketmq-20240726163831.png" alt="ÈòøÈáå‰∫ëÂÆòÊñπÊñáÊ°£ÔºöÊ≠ª‰ø°ÈòüÂàó" tabindex="0" loading="lazy"><figcaption>ÈòøÈáå‰∫ëÂÆòÊñπÊñáÊ°£ÔºöÊ≠ª‰ø°ÈòüÂàó</figcaption></figure><p>‰∫ßÁîüÊ≠ª‰ø°ÁöÑÂéüÂõ†ÊòØÔºåÊ∂àË¥πËÄÖÂú®Â§ÑÁêÜÊ∂àÊÅØÊó∂ÂèëÁîüÂºÇÂ∏∏Ôºå‰∏îËææÂà∞‰∫ÜÊúÄÂ§ßÈáçËØïÊ¨°Êï∞„ÄÇÂΩìÊ∂àË¥πÂ§±Ë¥•ÁöÑÂéüÂõ†ÊéíÊü•Âπ∂Ëß£ÂÜ≥ÂêéÔºåÂèØ‰ª•ÈáçÂèëËøô‰∫õÊ≠ª‰ø°Ê∂àÊÅØÔºåËÆ©Ê∂àË¥πËÄÖÈáçÊñ∞Ê∂àË¥πÔºõÂ¶ÇÊûúÊöÇÊó∂Êó†Ê≥ïÂ§ÑÁêÜÔºå‰∏∫ÈÅøÂÖçÂà∞ÊúüÂêéÊ≠ª‰ø°Ê∂àÊÅØË¢´Âà†Èô§ÔºåÂèØ‰ª•ÂÖàÂ∞ÜÊ≠ª‰ø°Ê∂àÊÅØÂØºÂá∫Âπ∂ËøõË°å‰øùÂ≠ò„ÄÇ</p><blockquote><ol><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java Èù¢ËØïÊåáÂçóÔºà‰ªòË¥πÔºâ</a>Êî∂ÂΩïÁöÑ‰∫¨‰∏úÂêåÂ≠¶ 4 ‰∫ëÂÆû‰π†Èù¢ËØïÂéüÈ¢òÔºöËØ¥ËØ¥ RocketMQ ÁöÑÊ≠ª‰ø°ÈòüÂàó</li></ol></blockquote><h3 id="_17-Â¶Ç‰Ωï‰øùËØÅ-rocketmq-ÁöÑÈ´òÂèØÁî®" tabindex="-1"><a class="header-anchor" href="#_17-Â¶Ç‰Ωï‰øùËØÅ-rocketmq-ÁöÑÈ´òÂèØÁî®"><span>17.Â¶Ç‰Ωï‰øùËØÅ RocketMQ ÁöÑÈ´òÂèØÁî®Ôºü</span></a></h3><p>NameServer Âõ†‰∏∫ÊòØÊó†Áä∂ÊÄÅÔºå‰∏î‰∏çÁõ∏‰∫íÈÄö‰ø°ÁöÑÔºåÊâÄ‰ª•Âè™Ë¶ÅÈõÜÁæ§ÈÉ®ÁΩ≤Â∞±ÂèØ‰ª•‰øùËØÅÈ´òÂèØÁî®„ÄÇ</p><figure><img src="https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/nice-article/weixin-mianznxrocketmqessw-0ce789f4-7a47-4c24-ac08-76f0490298f7.jpg" alt="NameServerÈõÜÁæ§" tabindex="0" loading="lazy"><figcaption>NameServerÈõÜÁæ§</figcaption></figure><p>RocketMQ ÁöÑÈ´òÂèØÁî®‰∏ªË¶ÅÊòØÂú®‰ΩìÁé∞Âú® Broker ÁöÑËØªÂíåÂÜôÁöÑÈ´òÂèØÁî®ÔºåBroker ÁöÑÈ´òÂèØÁî®ÊòØÈÄöËøá<code>ÈõÜÁæ§</code>Âíå<code>‰∏ª‰ªé</code>ÂÆûÁé∞ÁöÑ„ÄÇ</p><figure><img src="https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/nice-article/weixin-mianznxrocketmqessw-76c5eb61-9605-4620-84fb-dc960f01de85.jpg" alt="BrokerÈõÜÁæ§„ÄÅ‰∏ª‰ªéÁ§∫ÊÑèÂõæ" tabindex="0" loading="lazy"><figcaption>BrokerÈõÜÁæ§„ÄÅ‰∏ª‰ªéÁ§∫ÊÑèÂõæ</figcaption></figure><p>Broker ÂèØ‰ª•ÈÖçÁΩÆ‰∏§ÁßçËßíËâ≤ÔºöMaster Âíå SlaveÔºåMaster ËßíËâ≤ÁöÑ Broker ÊîØÊåÅËØªÂíåÂÜôÔºåSlave ËßíËâ≤ÁöÑ Broker Âè™ÊîØÊåÅËØªÔºåMaster ‰ºöÂêë Slave ÂêåÊ≠•Ê∂àÊÅØ„ÄÇ</p><p>‰πüÂ∞±ÊòØËØ¥ Producer Âè™ËÉΩÂêë Master ËßíËâ≤ÁöÑ Broker ÂÜôÂÖ•Ê∂àÊÅØÔºåCosumer ÂèØ‰ª•‰ªé Master Âíå Slave ËßíËâ≤ÁöÑ Broker ËØªÂèñÊ∂àÊÅØ„ÄÇ</p><p>Consumer ÁöÑÈÖçÁΩÆÊñá‰ª∂‰∏≠ÔºåÂπ∂‰∏çÈúÄË¶ÅËÆæÁΩÆÊòØ‰ªé Master ËØªËøòÊòØ‰ªé Slave ËØªÔºåÂΩì Master ‰∏çÂèØÁî®ÊàñËÄÖÁπÅÂøôÁöÑÊó∂ÂÄôÔºå Consumer ÁöÑËØªËØ∑Ê±Ç‰ºöË¢´Ëá™Âä®ÂàáÊç¢Âà∞‰ªé Slave„ÄÇÊúâ‰∫ÜËá™Âä®ÂàáÊç¢ Consumer ËøôÁßçÊú∫Âà∂ÔºåÂΩì‰∏Ä‰∏™ Master ËßíËâ≤ÁöÑÊú∫Âô®Âá∫Áé∞ÊïÖÈöúÂêéÔºåConsumer ‰ªçÁÑ∂ÂèØ‰ª•‰ªé Slave ËØªÂèñÊ∂àÊÅØÔºå‰∏çÂΩ±Âìç Consumer ËØªÂèñÊ∂àÊÅØÔºåËøôÂ∞±ÂÆûÁé∞‰∫ÜËØªÁöÑÈ´òÂèØÁî®„ÄÇ</p><p>Â¶Ç‰ΩïËææÂà∞ÂèëÈÄÅÁ´ØÂÜôÁöÑÈ´òÂèØÁî®ÊÄßÂë¢ÔºüÂú®ÂàõÂª∫ Topic ÁöÑÊó∂ÂÄôÔºåÊää Topic ÁöÑÂ§ö‰∏™ Message Queue ÂàõÂª∫Âú®Â§ö‰∏™ Broker ÁªÑ‰∏äÔºàÁõ∏Âêå Broker ÂêçÁß∞Ôºå‰∏çÂêå brokerId Êú∫Âô®ÁªÑÊàê Broker ÁªÑÔºâÔºåËøôÊ†∑ÂΩì Broker ÁªÑÁöÑ Master ‰∏çÂèØÁî®ÂêéÔºåÂÖ∂‰ªñÁªÑ Master ‰ªçÁÑ∂ÂèØÁî®Ôºå Producer ‰ªçÁÑ∂ÂèØ‰ª•ÂèëÈÄÅÊ∂àÊÅØ RocketMQ ÁõÆÂâçËøò‰∏çÊîØÊåÅÊää Slave Ëá™Âä®ËΩ¨Êàê Master ÔºåÂ¶ÇÊûúÊú∫Âô®ËµÑÊ∫ê‰∏çË∂≥ÔºåÈúÄË¶ÅÊää Slave ËΩ¨Êàê Master ÔºåÂàôË¶ÅÊâãÂä®ÂÅúÊ≠¢ Slave Ëâ≤ÁöÑ Broker ÔºåÊõ¥ÊîπÈÖçÁΩÆÊñá‰ª∂ÔºåÁî®Êñ∞ÁöÑÈÖçÁΩÆÊñá‰ª∂ÂêØÂä® Broker„ÄÇ</p><p>GitHub ‰∏äÊ†áÊòü 10000+ ÁöÑÂºÄÊ∫êÁü•ËØÜÂ∫ì„Ää<a href="https://github.com/itwanger/toBeBetterJavaer" target="_blank" rel="noopener noreferrer">‰∫åÂì•ÁöÑ Java ËøõÈò∂‰πãË∑Ø</a>„ÄãÁ¨¨‰∏ÄÁâà PDF Áªà‰∫éÊù•‰∫ÜÔºÅÂåÖÊã¨ Java Âü∫Á°ÄËØ≠Ê≥ï„ÄÅÊï∞ÁªÑ&amp;Â≠óÁ¨¶‰∏≤„ÄÅOOP„ÄÅÈõÜÂêàÊ°ÜÊû∂„ÄÅJava IO„ÄÅÂºÇÂ∏∏Â§ÑÁêÜ„ÄÅJava Êñ∞ÁâπÊÄß„ÄÅÁΩëÁªúÁºñÁ®ã„ÄÅNIO„ÄÅÂπ∂ÂèëÁºñÁ®ã„ÄÅJVM Á≠âÁ≠âÔºåÂÖ±ËÆ° 32 ‰∏á‰ΩôÂ≠óÔºå500+Âº†ÊâãÁªòÂõæÔºåÂèØ‰ª•ËØ¥ÊòØÈÄö‰øóÊòìÊáÇ„ÄÅÈ£éË∂£ÂπΩÈªò‚Ä¶‚Ä¶ËØ¶ÊÉÖÊà≥Ôºö<a href="https://javabetter.cn/overview/" target="_blank" rel="noopener noreferrer">Â§™Ëµû‰∫ÜÔºåGitHub ‰∏äÊ†áÊòü 10000+ ÁöÑ Java ÊïôÁ®ã</a></p><p>ÂæÆ‰ø°Êêú <strong>Ê≤âÈªòÁéã‰∫å</strong> ÊàñÊâ´Êèè‰∏ãÊñπ‰∫åÁª¥Á†ÅÂÖ≥Ê≥®‰∫åÂì•ÁöÑÂéüÂàõÂÖ¨‰ºóÂè∑Ê≤âÈªòÁéã‰∫åÔºåÂõûÂ§ç <strong>222</strong> Âç≥ÂèØÂÖçË¥πÈ¢ÜÂèñ„ÄÇ</p><figure><img src="https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/gongzhonghao.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h2 id="ÂéüÁêÜ" tabindex="-1"><a class="header-anchor" href="#ÂéüÁêÜ"><span>ÂéüÁêÜ</span></a></h2><h3 id="_18-ËØ¥‰∏Ä‰∏ã-rocketmq-ÁöÑÊï¥‰ΩìÂ∑•‰ΩúÊµÅÁ®ã" tabindex="-1"><a class="header-anchor" href="#_18-ËØ¥‰∏Ä‰∏ã-rocketmq-ÁöÑÊï¥‰ΩìÂ∑•‰ΩúÊµÅÁ®ã"><span>18.ËØ¥‰∏Ä‰∏ã RocketMQ ÁöÑÊï¥‰ΩìÂ∑•‰ΩúÊµÅÁ®ãÔºü</span></a></h3><p>ÁÆÄÂçïÊù•ËØ¥ÔºåRocketMQ ÊòØ‰∏Ä‰∏™ÂàÜÂ∏ÉÂºèÊ∂àÊÅØÈòüÂàóÔºå‰πüÂ∞±ÊòØ<code>Ê∂àÊÅØÈòüÂàó</code>+<code>ÂàÜÂ∏ÉÂºèÁ≥ªÁªü</code>„ÄÇ</p><p>‰Ωú‰∏∫Ê∂àÊÅØÈòüÂàóÔºåÂÆÉÊòØ<code>Âèë</code>-<code>Â≠ò</code>-<code>Êî∂</code>ÁöÑ‰∏Ä‰∏™Ê®°ÂûãÔºåÂØπÂ∫îÁöÑÂ∞±ÊòØ Producer„ÄÅBroker„ÄÅCosumerÔºõ‰Ωú‰∏∫ÂàÜÂ∏ÉÂºèÁ≥ªÁªüÔºåÂÆÉË¶ÅÊúâÊúçÂä°Á´Ø„ÄÅÂÆ¢Êà∑Á´Ø„ÄÅÊ≥®ÂÜå‰∏≠ÂøÉÔºåÂØπÂ∫îÁöÑÂ∞±ÊòØ Broker„ÄÅProducer/Consumer„ÄÅNameServer</p><p>ÊâÄ‰ª•Êàë‰ª¨Áúã‰∏Ä‰∏ãÂÆÉ‰∏ªË¶ÅÁöÑÂ∑•‰ΩúÊµÅÁ®ãÔºöRocketMQ Áî± NameServer Ê≥®ÂÜå‰∏≠ÂøÉÈõÜÁæ§„ÄÅProducer Áîü‰∫ßËÄÖÈõÜÁæ§„ÄÅConsumer Ê∂àË¥πËÄÖÈõÜÁæ§ÂíåËã•Âπ≤ BrokerÔºàRocketMQ ËøõÁ®ãÔºâÁªÑÊàêÔºö</p><ol><li>Broker Âú®ÂêØÂä®ÁöÑÊó∂ÂÄôÂéªÂêëÊâÄÊúâÁöÑ NameServer Ê≥®ÂÜåÔºåÂπ∂‰øùÊåÅÈïøËøûÊé•ÔºåÊØè 30s ÂèëÈÄÅ‰∏ÄÊ¨°ÂøÉË∑≥</li><li>Producer Âú®ÂèëÈÄÅÊ∂àÊÅØÁöÑÊó∂ÂÄô‰ªé NameServer Ëé∑Âèñ Broker ÊúçÂä°Âô®Âú∞ÂùÄÔºåÊ†πÊçÆË¥üËΩΩÂùáË°°ÁÆóÊ≥ïÈÄâÊã©‰∏ÄÂè∞ÊúçÂä°Âô®Êù•ÂèëÈÄÅÊ∂àÊÅØ</li><li>Conusmer Ê∂àË¥πÊ∂àÊÅØÁöÑÊó∂ÂÄôÂêåÊ†∑‰ªé NameServer Ëé∑Âèñ Broker Âú∞ÂùÄÔºåÁÑ∂Âêé‰∏ªÂä®ÊãâÂèñÊ∂àÊÅØÊù•Ê∂àË¥π</li></ol><figure><img src="https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/nice-article/weixin-mianznxrocketmqessw-ec571bd4-fa24-4ada-87ab-f761a7dfdf3f.jpg" alt="RocketMQÊï¥‰ΩìÂ∑•‰ΩúÊµÅÁ®ã" tabindex="0" loading="lazy"><figcaption>RocketMQÊï¥‰ΩìÂ∑•‰ΩúÊµÅÁ®ã</figcaption></figure><h3 id="_19-‰∏∫‰ªÄ‰πà-rocketmq-‰∏ç‰ΩøÁî®-zookeeper-‰Ωú‰∏∫Ê≥®ÂÜå‰∏≠ÂøÉÂë¢" tabindex="-1"><a class="header-anchor" href="#_19-‰∏∫‰ªÄ‰πà-rocketmq-‰∏ç‰ΩøÁî®-zookeeper-‰Ωú‰∏∫Ê≥®ÂÜå‰∏≠ÂøÉÂë¢"><span>19.‰∏∫‰ªÄ‰πà RocketMQ ‰∏ç‰ΩøÁî® Zookeeper ‰Ωú‰∏∫Ê≥®ÂÜå‰∏≠ÂøÉÂë¢Ôºü</span></a></h3><p>Kafka Êàë‰ª¨ÈÉΩÁü•ÈÅìÈááÁî® Zookeeper ‰Ωú‰∏∫Ê≥®ÂÜå‰∏≠ÂøÉ‚Äî‚ÄîÂΩìÁÑ∂‰πüÂºÄÂßãÈÄêÊ∏êÂéª ZookeeperÔºåRocketMQ ‰∏ç‰ΩøÁî® Zookeeper ÂÖ∂ÂÆû‰∏ªË¶ÅÂèØËÉΩ‰ªéËøôÂá†ÊñπÈù¢Êù•ËÄÉËôëÔºö</p><ol><li>Âü∫‰∫éÂèØÁî®ÊÄßÁöÑËÄÉËôëÔºåÊ†πÊçÆ CAP ÁêÜËÆ∫ÔºåÂêåÊó∂ÊúÄÂ§öÂè™ËÉΩÊª°Ë∂≥‰∏§‰∏™ÁÇπÔºåËÄå Zookeeper Êª°Ë∂≥ÁöÑÊòØ CPÔºå‰πüÂ∞±ÊòØËØ¥ Zookeeper Âπ∂‰∏çËÉΩ‰øùËØÅÊúçÂä°ÁöÑÂèØÁî®ÊÄßÔºåZookeeper Âú®ËøõË°åÈÄâ‰∏æÁöÑÊó∂ÂÄôÔºåÊï¥‰∏™ÈÄâ‰∏æÁöÑÊó∂Èó¥Â§™ÈïøÔºåÊúüÈó¥Êï¥‰∏™ÈõÜÁæ§ÈÉΩÂ§Ñ‰∫é‰∏çÂèØÁî®ÁöÑÁä∂ÊÄÅÔºåËÄåËøôÂØπ‰∫é‰∏Ä‰∏™Ê≥®ÂÜå‰∏≠ÂøÉÊù•ËØ¥ËÇØÂÆöÊòØ‰∏çËÉΩÊé•ÂèóÁöÑÔºå‰Ωú‰∏∫ÊúçÂä°ÂèëÁé∞Êù•ËØ¥Â∞±Â∫îËØ•ÊòØ‰∏∫ÂèØÁî®ÊÄßËÄåËÆæËÆ°„ÄÇ</li><li>Âü∫‰∫éÊÄßËÉΩÁöÑËÄÉËôëÔºåNameServer Êú¨Ë∫´ÁöÑÂÆûÁé∞ÈùûÂ∏∏ËΩªÈáèÔºåËÄå‰∏îÂèØ‰ª•ÈÄöËøáÂ¢ûÂä†Êú∫Âô®ÁöÑÊñπÂºèÊ∞¥Âπ≥Êâ©Â±ïÔºåÂ¢ûÂä†ÈõÜÁæ§ÁöÑÊäóÂéãËÉΩÂäõÔºåËÄå Zookeeper ÁöÑÂÜôÊòØ‰∏çÂèØÊâ©Â±ïÁöÑÔºåZookeeper Ë¶ÅËß£ÂÜ≥Ëøô‰∏™ÈóÆÈ¢òÂè™ËÉΩÈÄöËøáÂàíÂàÜÈ¢ÜÂüüÔºåÂàíÂàÜÂ§ö‰∏™ Zookeeper ÈõÜÁæ§Êù•Ëß£ÂÜ≥ÔºåÈ¶ñÂÖàÊìç‰ΩúËµ∑Êù•Â§™Â§çÊùÇÔºåÂÖ∂Ê¨°ËøôÊ†∑ËøòÊòØÂèàËøùÂèç‰∫Ü CAP ‰∏≠ÁöÑ A ÁöÑËÆæËÆ°ÔºåÂØºËá¥ÊúçÂä°‰πãÈó¥ÊòØ‰∏çËøûÈÄöÁöÑ„ÄÇ</li><li>ÊåÅ‰πÖÂåñÁöÑÊú∫Âà∂Êù•Â∏¶ÁöÑÈóÆÈ¢òÔºåZooKeeper ÁöÑ ZAB ÂçèËÆÆÂØπÊØè‰∏Ä‰∏™ÂÜôËØ∑Ê±ÇÔºå‰ºöÂú®ÊØè‰∏™ ZooKeeper ËäÇÁÇπ‰∏ä‰øùÊåÅÂÜô‰∏Ä‰∏™‰∫ãÂä°Êó•ÂøóÔºåÂêåÊó∂ÂÜçÂä†‰∏äÂÆöÊúüÁöÑÂ∞ÜÂÜÖÂ≠òÊï∞ÊçÆÈïúÂÉèÔºàSnapshotÔºâÂà∞Á£ÅÁõòÊù•‰øùËØÅÊï∞ÊçÆÁöÑ‰∏ÄËá¥ÊÄßÂíåÊåÅ‰πÖÊÄßÔºåËÄåÂØπ‰∫é‰∏Ä‰∏™ÁÆÄÂçïÁöÑÊúçÂä°ÂèëÁé∞ÁöÑÂú∫ÊôØÊù•ËØ¥ÔºåËøôÂÖ∂ÂÆûÊ≤°ÊúâÂ§™Â§ßÁöÑÂøÖË¶ÅÔºåËøô‰∏™ÂÆûÁé∞ÊñπÊ°àÂ§™Èáç‰∫Ü„ÄÇËÄå‰∏îÊú¨Ë∫´Â≠òÂÇ®ÁöÑÊï∞ÊçÆÂ∫îËØ•ÊòØÈ´òÂ∫¶ÂÆöÂà∂ÂåñÁöÑ„ÄÇ</li><li>Ê∂àÊÅØÂèëÈÄÅÂ∫îËØ•Âº±‰æùËµñÊ≥®ÂÜå‰∏≠ÂøÉÔºåËÄå RocketMQ ÁöÑËÆæËÆ°ÁêÜÂøµ‰πüÊ≠£ÊòØÂü∫‰∫éÊ≠§ÔºåÁîü‰∫ßËÄÖÂú®Á¨¨‰∏ÄÊ¨°ÂèëÈÄÅÊ∂àÊÅØÁöÑÊó∂ÂÄô‰ªé NameServer Ëé∑ÂèñÂà∞ Broker Âú∞ÂùÄÂêéÁºìÂ≠òÂà∞Êú¨Âú∞ÔºåÂ¶ÇÊûú NameServer Êï¥‰∏™ÈõÜÁæ§‰∏çÂèØÁî®ÔºåÁü≠Êó∂Èó¥ÂÜÖÂØπ‰∫éÁîü‰∫ßËÄÖÂíåÊ∂àË¥πËÄÖÂπ∂‰∏ç‰ºö‰∫ßÁîüÂ§™Â§ßÂΩ±Âìç„ÄÇ</li></ol><h3 id="_20-broker-ÊòØÊÄé‰πà‰øùÂ≠òÊï∞ÊçÆÁöÑÂë¢" tabindex="-1"><a class="header-anchor" href="#_20-broker-ÊòØÊÄé‰πà‰øùÂ≠òÊï∞ÊçÆÁöÑÂë¢"><span>20.Broker ÊòØÊÄé‰πà‰øùÂ≠òÊï∞ÊçÆÁöÑÂë¢Ôºü</span></a></h3><p>RocketMQ ‰∏ªË¶ÅÁöÑÂ≠òÂÇ®Êñá‰ª∂ÂåÖÊã¨ CommitLog Êñá‰ª∂„ÄÅConsumeQueue Êñá‰ª∂„ÄÅIndexfile Êñá‰ª∂„ÄÇ</p><figure><img src="https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/nice-article/weixin-mianznxrocketmqessw-b6d13d4d-c417-43b4-bfe1-12724777888c.jpg" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>Ê∂àÊÅØÂ≠òÂÇ®ÁöÑÊï¥‰ΩìÁöÑËÆæËÆ°Ôºö</p><figure><img src="https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/nice-article/weixin-mianznxrocketmqessw-ddbf8773-1d71-4d1a-a186-46f6985b621e.jpg" alt="Ê∂àÊÅØÂ≠òÂÇ®Êï¥‰ΩìËÆæËÆ°-Êù•Ê∫êÂÆòÁΩë" tabindex="0" loading="lazy"><figcaption>Ê∂àÊÅØÂ≠òÂÇ®Êï¥‰ΩìËÆæËÆ°-Êù•Ê∫êÂÆòÁΩë</figcaption></figure><ul><li><strong>CommitLog</strong>ÔºöÊ∂àÊÅØ‰∏ª‰Ωì‰ª•ÂèäÂÖÉÊï∞ÊçÆÁöÑÂ≠òÂÇ®‰∏ª‰ΩìÔºåÂ≠òÂÇ® Producer Á´ØÂÜôÂÖ•ÁöÑÊ∂àÊÅØ‰∏ª‰ΩìÂÜÖÂÆπ,Ê∂àÊÅØÂÜÖÂÆπ‰∏çÊòØÂÆöÈïøÁöÑ„ÄÇÂçï‰∏™Êñá‰ª∂Â§ßÂ∞èÈªòËÆ§ 1G, Êñá‰ª∂ÂêçÈïøÂ∫¶‰∏∫ 20 ‰ΩçÔºåÂ∑¶ËæπË°•Èõ∂ÔºåÂâ©‰Ωô‰∏∫Ëµ∑ÂßãÂÅèÁßªÈáèÔºåÊØîÂ¶Ç 00000000000000000000 ‰ª£Ë°®‰∫ÜÁ¨¨‰∏Ä‰∏™Êñá‰ª∂ÔºåËµ∑ÂßãÂÅèÁßªÈáè‰∏∫ 0ÔºåÊñá‰ª∂Â§ßÂ∞è‰∏∫ 1G=1073741824ÔºõÂΩìÁ¨¨‰∏Ä‰∏™Êñá‰ª∂ÂÜôÊª°‰∫ÜÔºåÁ¨¨‰∫å‰∏™Êñá‰ª∂‰∏∫ 00000000001073741824ÔºåËµ∑ÂßãÂÅèÁßªÈáè‰∏∫ 1073741824Ôºå‰ª•Ê≠§Á±ªÊé®„ÄÇÊ∂àÊÅØ‰∏ªË¶ÅÊòØÈ°∫Â∫èÂÜôÂÖ•Êó•ÂøóÊñá‰ª∂ÔºåÂΩìÊñá‰ª∂Êª°‰∫ÜÔºåÂÜôÂÖ•‰∏ã‰∏Ä‰∏™Êñá‰ª∂„ÄÇ</li></ul><p>CommitLog Êñá‰ª∂‰øùÂ≠ò‰∫é${Rocket_Home}/store/commitlog ÁõÆÂΩï‰∏≠Ôºå‰ªéÂõæ‰∏≠Êàë‰ª¨ÂèØ‰ª•ÊòéÊòæÁúãÂá∫Êù•Êñá‰ª∂ÂêçÁöÑÂÅèÁßªÈáèÔºåÊØè‰∏™Êñá‰ª∂ÈªòËÆ§ 1GÔºåÂÜôÊª°ÂêéËá™Âä®ÁîüÊàê‰∏Ä‰∏™Êñ∞ÁöÑÊñá‰ª∂„ÄÇ</p><figure><img src="https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/nice-article/weixin-mianznxrocketmqessw-a76f7365-8a8c-4b91-9505-9d427cf3bde4.jpg" alt="CommitLog" tabindex="0" loading="lazy"><figcaption>CommitLog</figcaption></figure><ul><li><strong>ConsumeQueue</strong>ÔºöÊ∂àÊÅØÊ∂àË¥πÈòüÂàóÔºåÂºïÂÖ•ÁöÑÁõÆÁöÑ‰∏ªË¶ÅÊòØÊèêÈ´òÊ∂àÊÅØÊ∂àË¥πÁöÑÊÄßËÉΩÔºåÁî±‰∫é RocketMQ ÊòØÂü∫‰∫é‰∏ªÈ¢ò topic ÁöÑËÆ¢ÈòÖÊ®°ÂºèÔºåÊ∂àÊÅØÊ∂àË¥πÊòØÈíàÂØπ‰∏ªÈ¢òËøõË°åÁöÑÔºåÂ¶ÇÊûúË¶ÅÈÅçÂéÜ commitlog Êñá‰ª∂‰∏≠Ê†πÊçÆ topic Ê£ÄÁ¥¢Ê∂àÊÅØÊòØÈùûÂ∏∏‰ΩéÊïàÁöÑ„ÄÇ</li></ul><p>Consumer Âç≥ÂèØÊ†πÊçÆ ConsumeQueue Êù•Êü•ÊâæÂæÖÊ∂àË¥πÁöÑÊ∂àÊÅØ„ÄÇÂÖ∂‰∏≠ÔºåConsumeQueueÔºàÈÄªËæëÊ∂àË¥πÈòüÂàóÔºâ‰Ωú‰∏∫Ê∂àË¥πÊ∂àÊÅØÁöÑÁ¥¢ÂºïÔºå‰øùÂ≠ò‰∫ÜÊåáÂÆö Topic ‰∏ãÁöÑÈòüÂàóÊ∂àÊÅØÂú® CommitLog ‰∏≠ÁöÑËµ∑ÂßãÁâ©ÁêÜÂÅèÁßªÈáè offsetÔºåÊ∂àÊÅØÂ§ßÂ∞è size ÂíåÊ∂àÊÅØ Tag ÁöÑ HashCode ÂÄº„ÄÇ</p><p>ConsumeQueue Êñá‰ª∂ÂèØ‰ª•ÁúãÊàêÊòØÂü∫‰∫é Topic ÁöÑ CommitLog Á¥¢ÂºïÊñá‰ª∂ÔºåÊïÖ ConsumeQueue Êñá‰ª∂Â§πÁöÑÁªÑÁªáÊñπÂºèÂ¶Ç‰∏ãÔºötopic/queue/file ‰∏âÂ±ÇÁªÑÁªáÁªìÊûÑÔºåÂÖ∑‰ΩìÂ≠òÂÇ®Ë∑ØÂæÑ‰∏∫Ôºö$HOME/store/consumequeue/{topic}/{queueId}/{fileName}„ÄÇÂêåÊ†∑ ConsumeQueue Êñá‰ª∂ÈááÂèñÂÆöÈïøËÆæËÆ°ÔºåÊØè‰∏Ä‰∏™Êù°ÁõÆÂÖ± 20 ‰∏™Â≠óËäÇÔºåÂàÜÂà´‰∏∫ 8 Â≠óËäÇÁöÑ CommitLog Áâ©ÁêÜÂÅèÁßªÈáè„ÄÅ4 Â≠óËäÇÁöÑÊ∂àÊÅØÈïøÂ∫¶„ÄÅ8 Â≠óËäÇ tag hashcodeÔºåÂçï‰∏™Êñá‰ª∂Áî± 30W ‰∏™Êù°ÁõÆÁªÑÊàêÔºåÂèØ‰ª•ÂÉèÊï∞ÁªÑ‰∏ÄÊ†∑ÈöèÊú∫ËÆøÈóÆÊØè‰∏Ä‰∏™Êù°ÁõÆÔºåÊØè‰∏™ ConsumeQueue Êñá‰ª∂Â§ßÂ∞èÁ∫¶ 5.72MÔºõ</p><figure><img src="https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/nice-article/weixin-mianznxrocketmqessw-c8b22760-35c2-436b-81ed-be49a107357b.jpg" alt="Comsumer Queue" tabindex="0" loading="lazy"><figcaption>Comsumer Queue</figcaption></figure><ul><li><strong>IndexFile</strong>ÔºöIndexFileÔºàÁ¥¢ÂºïÊñá‰ª∂ÔºâÊèê‰æõ‰∫Ü‰∏ÄÁßçÂèØ‰ª•ÈÄöËøá key ÊàñÊó∂Èó¥Âå∫Èó¥Êù•Êü•ËØ¢Ê∂àÊÅØÁöÑÊñπÊ≥ï„ÄÇIndex Êñá‰ª∂ÁöÑÂ≠òÂÇ®‰ΩçÁΩÆÊòØÔºö {fileName}ÔºåÊñá‰ª∂Âêç fileName ÊòØ‰ª•ÂàõÂª∫Êó∂ÁöÑÊó∂Èó¥Êà≥ÂëΩÂêçÁöÑÔºåÂõ∫ÂÆöÁöÑÂçï‰∏™ IndexFile Êñá‰ª∂Â§ßÂ∞èÁ∫¶‰∏∫ 400MÔºå‰∏Ä‰∏™ IndexFile ÂèØ‰ª•‰øùÂ≠ò 2000W ‰∏™Á¥¢ÂºïÔºåIndexFile ÁöÑÂ∫ïÂ±ÇÂ≠òÂÇ®ËÆæËÆ°‰∏∫Âú®Êñá‰ª∂Á≥ªÁªü‰∏≠ÂÆûÁé∞ HashMap ÁªìÊûÑÔºåÊïÖ RocketMQ ÁöÑÁ¥¢ÂºïÊñá‰ª∂ÂÖ∂Â∫ïÂ±ÇÂÆûÁé∞‰∏∫ hash Á¥¢Âºï„ÄÇ</li></ul><figure><img src="https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/nice-article/weixin-mianznxrocketmqessw-f06f306b-fd87-48ff-b1cb-e39750d308e7.jpg" alt="IndexFileÊñá‰ª∂Á§∫ÊÑèÂõæ" tabindex="0" loading="lazy"><figcaption>IndexFileÊñá‰ª∂Á§∫ÊÑèÂõæ</figcaption></figure><p>ÊÄªÁªì‰∏Ä‰∏ãÔºöRocketMQ ÈááÁî®ÁöÑÊòØÊ∑∑ÂêàÂûãÁöÑÂ≠òÂÇ®ÁªìÊûÑÔºåÂç≥‰∏∫ Broker Âçï‰∏™ÂÆû‰æã‰∏ãÊâÄÊúâÁöÑÈòüÂàóÂÖ±Áî®‰∏Ä‰∏™Êó•ÂøóÊï∞ÊçÆÊñá‰ª∂ÔºàÂç≥‰∏∫ CommitLogÔºâÊù•Â≠òÂÇ®„ÄÇ</p><p>RocketMQ ÁöÑÊ∑∑ÂêàÂûãÂ≠òÂÇ®ÁªìÊûÑ(Â§ö‰∏™ Topic ÁöÑÊ∂àÊÅØÂÆû‰ΩìÂÜÖÂÆπÈÉΩÂ≠òÂÇ®‰∫é‰∏Ä‰∏™ CommitLog ‰∏≠)ÈíàÂØπ Producer Âíå Consumer ÂàÜÂà´ÈááÁî®‰∫ÜÊï∞ÊçÆÂíåÁ¥¢ÂºïÈÉ®ÂàÜÁõ∏ÂàÜÁ¶ªÁöÑÂ≠òÂÇ®ÁªìÊûÑÔºåProducer ÂèëÈÄÅÊ∂àÊÅØËá≥ Broker Á´ØÔºåÁÑ∂Âêé Broker Á´Ø‰ΩøÁî®ÂêåÊ≠•ÊàñËÄÖÂºÇÊ≠•ÁöÑÊñπÂºèÂØπÊ∂àÊÅØÂà∑ÁõòÊåÅ‰πÖÂåñÔºå‰øùÂ≠òËá≥ CommitLog ‰∏≠„ÄÇ</p><p>Âè™Ë¶ÅÊ∂àÊÅØË¢´Âà∑ÁõòÊåÅ‰πÖÂåñËá≥Á£ÅÁõòÊñá‰ª∂ CommitLog ‰∏≠ÔºåÈÇ£‰πà Producer ÂèëÈÄÅÁöÑÊ∂àÊÅØÂ∞±‰∏ç‰ºö‰∏¢Â§±„ÄÇÊ≠£Âõ†‰∏∫Â¶ÇÊ≠§ÔºåConsumer ‰πüÂ∞±ËÇØÂÆöÊúâÊú∫‰ºöÂéªÊ∂àË¥πËøôÊù°Ê∂àÊÅØ„ÄÇÂΩìÊó†Ê≥ïÊãâÂèñÂà∞Ê∂àÊÅØÂêéÔºåÂèØ‰ª•Á≠â‰∏ã‰∏ÄÊ¨°Ê∂àÊÅØÊãâÂèñÔºåÂêåÊó∂ÊúçÂä°Á´Ø‰πüÊîØÊåÅÈïøËΩÆËØ¢Ê®°ÂºèÔºåÂ¶ÇÊûú‰∏Ä‰∏™Ê∂àÊÅØÊãâÂèñËØ∑Ê±ÇÊú™ÊãâÂèñÂà∞Ê∂àÊÅØÔºåBroker ÂÖÅËÆ∏Á≠âÂæÖ 30s ÁöÑÊó∂Èó¥ÔºåÂè™Ë¶ÅËøôÊÆµÊó∂Èó¥ÂÜÖÊúâÊñ∞Ê∂àÊÅØÂà∞ËææÔºåÂ∞ÜÁõ¥Êé•ËøîÂõûÁªôÊ∂àË¥πÁ´Ø„ÄÇ</p><p>ËøôÈáåÔºåRocketMQ ÁöÑÂÖ∑‰ΩìÂÅöÊ≥ïÊòØÔºå‰ΩøÁî® Broker Á´ØÁöÑÂêéÂè∞ÊúçÂä°Á∫øÁ®ã‚ÄîReputMessageService ‰∏çÂÅúÂú∞ÂàÜÂèëËØ∑Ê±ÇÂπ∂ÂºÇÊ≠•ÊûÑÂª∫ ConsumeQueueÔºàÈÄªËæëÊ∂àË¥πÈòüÂàóÔºâÂíå IndexFileÔºàÁ¥¢ÂºïÊñá‰ª∂ÔºâÊï∞ÊçÆ„ÄÇ</p><figure><img src="https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/nice-article/weixin-mianznxrocketmqessw-80af9918-2d4b-4b43-b83a-d44bfc0f30bc.jpg" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h3 id="_21-ËØ¥ËØ¥-rocketmq-ÊÄé‰πàÂØπÊñá‰ª∂ËøõË°åËØªÂÜôÁöÑ" tabindex="-1"><a class="header-anchor" href="#_21-ËØ¥ËØ¥-rocketmq-ÊÄé‰πàÂØπÊñá‰ª∂ËøõË°åËØªÂÜôÁöÑ"><span>21.ËØ¥ËØ¥ RocketMQ ÊÄé‰πàÂØπÊñá‰ª∂ËøõË°åËØªÂÜôÁöÑÔºü</span></a></h3><p>RocketMQ ÂØπÊñá‰ª∂ÁöÑËØªÂÜôÂ∑ßÂ¶ôÂú∞Âà©Áî®‰∫ÜÊìç‰ΩúÁ≥ªÁªüÁöÑ‰∏Ä‰∫õÈ´òÊïàÊñá‰ª∂ËØªÂÜôÊñπÂºè‚Äî‚Äî<code>PageCache</code>„ÄÅ<code>È°∫Â∫èËØªÂÜô</code>„ÄÅ<code>Èõ∂Êã∑Ë¥ù</code>„ÄÇ</p><ul><li>PageCache„ÄÅÈ°∫Â∫èËØªÂèñ</li></ul><p>Âú® RocketMQ ‰∏≠ÔºåConsumeQueue ÈÄªËæëÊ∂àË¥πÈòüÂàóÂ≠òÂÇ®ÁöÑÊï∞ÊçÆËæÉÂ∞ëÔºåÂπ∂‰∏îÊòØÈ°∫Â∫èËØªÂèñÔºåÂú® page cache Êú∫Âà∂ÁöÑÈ¢ÑËØªÂèñ‰ΩúÁî®‰∏ãÔºåConsume Queue Êñá‰ª∂ÁöÑËØªÊÄßËÉΩÂá†‰πéÊé•ËøëËØªÂÜÖÂ≠òÔºåÂç≥‰ΩøÂú®ÊúâÊ∂àÊÅØÂ†ÜÁßØÊÉÖÂÜµ‰∏ã‰πü‰∏ç‰ºöÂΩ±ÂìçÊÄßËÉΩ„ÄÇËÄåÂØπ‰∫é CommitLog Ê∂àÊÅØÂ≠òÂÇ®ÁöÑÊó•ÂøóÊï∞ÊçÆÊñá‰ª∂Êù•ËØ¥ÔºåËØªÂèñÊ∂àÊÅØÂÜÖÂÆπÊó∂ÂÄô‰ºö‰∫ßÁîüËæÉÂ§öÁöÑÈöèÊú∫ËÆøÈóÆËØªÂèñÔºå‰∏•ÈáçÂΩ±ÂìçÊÄßËÉΩ„ÄÇÂ¶ÇÊûúÈÄâÊã©ÂêàÈÄÇÁöÑÁ≥ªÁªü IO Ë∞ÉÂ∫¶ÁÆóÊ≥ïÔºåÊØîÂ¶ÇËÆæÁΩÆË∞ÉÂ∫¶ÁÆóÊ≥ï‰∏∫‚ÄúDeadline‚ÄùÔºàÊ≠§Êó∂ÂùóÂ≠òÂÇ®ÈááÁî® SSD ÁöÑËØùÔºâÔºåÈöèÊú∫ËØªÁöÑÊÄßËÉΩ‰πü‰ºöÊúâÊâÄÊèêÂçá„ÄÇ</p><p>È°µÁºìÂ≠òÔºàPageCache)ÊòØ OS ÂØπÊñá‰ª∂ÁöÑÁºìÂ≠òÔºåÁî®‰∫éÂä†ÈÄüÂØπÊñá‰ª∂ÁöÑËØªÂÜô„ÄÇ‰∏ÄËà¨Êù•ËØ¥ÔºåÁ®ãÂ∫èÂØπÊñá‰ª∂ËøõË°åÈ°∫Â∫èËØªÂÜôÁöÑÈÄüÂ∫¶Âá†‰πéÊé•Ëøë‰∫éÂÜÖÂ≠òÁöÑËØªÂÜôÈÄüÂ∫¶Ôºå‰∏ªË¶ÅÂéüÂõ†Â∞±ÊòØÁî±‰∫é OS ‰ΩøÁî® PageCache Êú∫Âà∂ÂØπËØªÂÜôËÆøÈóÆÊìç‰ΩúËøõË°å‰∫ÜÊÄßËÉΩ‰ºòÂåñÔºåÂ∞Ü‰∏ÄÈÉ®ÂàÜÁöÑÂÜÖÂ≠òÁî®‰Ωú PageCache„ÄÇÂØπ‰∫éÊï∞ÊçÆÁöÑÂÜôÂÖ•ÔºåOS ‰ºöÂÖàÂÜôÂÖ•Ëá≥ Cache ÂÜÖÔºåÈöèÂêéÈÄöËøáÂºÇÊ≠•ÁöÑÊñπÂºèÁî± pdflush ÂÜÖÊ†∏Á∫øÁ®ãÂ∞Ü Cache ÂÜÖÁöÑÊï∞ÊçÆÂà∑ÁõòËá≥Áâ©ÁêÜÁ£ÅÁõò‰∏ä„ÄÇÂØπ‰∫éÊï∞ÊçÆÁöÑËØªÂèñÔºåÂ¶ÇÊûú‰∏ÄÊ¨°ËØªÂèñÊñá‰ª∂Êó∂Âá∫Áé∞Êú™ÂëΩ‰∏≠ PageCache ÁöÑÊÉÖÂÜµÔºåOS ‰ªéÁâ©ÁêÜÁ£ÅÁõò‰∏äËÆøÈóÆËØªÂèñÊñá‰ª∂ÁöÑÂêåÊó∂Ôºå‰ºöÈ°∫Â∫èÂØπÂÖ∂‰ªñÁõ∏ÈÇªÂùóÁöÑÊï∞ÊçÆÊñá‰ª∂ËøõË°åÈ¢ÑËØªÂèñ„ÄÇ</p><ul><li>Èõ∂Êã∑Ë¥ù</li></ul><p>Âè¶Â§ñÔºåRocketMQ ‰∏ªË¶ÅÈÄöËøá MappedByteBuffer ÂØπÊñá‰ª∂ËøõË°åËØªÂÜôÊìç‰Ωú„ÄÇÂÖ∂‰∏≠ÔºåÂà©Áî®‰∫Ü NIO ‰∏≠ÁöÑ FileChannel Ê®°ÂûãÂ∞ÜÁ£ÅÁõò‰∏äÁöÑÁâ©ÁêÜÊñá‰ª∂Áõ¥Êé•Êò†Â∞ÑÂà∞Áî®Êà∑ÊÄÅÁöÑÂÜÖÂ≠òÂú∞ÂùÄ‰∏≠ÔºàËøôÁßç Mmap ÁöÑÊñπÂºèÂáèÂ∞ë‰∫Ü‰º†Áªü IOÔºåÂ∞ÜÁ£ÅÁõòÊñá‰ª∂Êï∞ÊçÆÂú®Êìç‰ΩúÁ≥ªÁªüÂÜÖÊ†∏Âú∞ÂùÄÁ©∫Èó¥ÁöÑÁºìÂÜ≤Âå∫ÔºåÂíåÁî®Êà∑Â∫îÁî®Á®ãÂ∫èÂú∞ÂùÄÁ©∫Èó¥ÁöÑÁºìÂÜ≤Âå∫‰πãÈó¥Êù•ÂõûËøõË°åÊã∑Ë¥ùÁöÑÊÄßËÉΩÂºÄÈîÄÔºâÔºåÂ∞ÜÂØπÊñá‰ª∂ÁöÑÊìç‰ΩúËΩ¨Âåñ‰∏∫Áõ¥Êé•ÂØπÂÜÖÂ≠òÂú∞ÂùÄËøõË°åÊìç‰ΩúÔºå‰ªéËÄåÊûÅÂ§ßÂú∞ÊèêÈ´ò‰∫ÜÊñá‰ª∂ÁöÑËØªÂÜôÊïàÁéáÔºàÊ≠£Âõ†‰∏∫ÈúÄË¶Å‰ΩøÁî®ÂÜÖÂ≠òÊò†Â∞ÑÊú∫Âà∂ÔºåÊïÖ RocketMQ ÁöÑÊñá‰ª∂Â≠òÂÇ®ÈÉΩ‰ΩøÁî®ÂÆöÈïøÁªìÊûÑÊù•Â≠òÂÇ®ÔºåÊñπ‰æø‰∏ÄÊ¨°Â∞ÜÊï¥‰∏™Êñá‰ª∂Êò†Â∞ÑËá≥ÂÜÖÂ≠òÔºâ„ÄÇ</p><h5 id="ËØ¥ËØ¥‰ªÄ‰πàÊòØÈõ∂Êã∑Ë¥ù" tabindex="-1"><a class="header-anchor" href="#ËØ¥ËØ¥‰ªÄ‰πàÊòØÈõ∂Êã∑Ë¥ù"><span>ËØ¥ËØ¥‰ªÄ‰πàÊòØÈõ∂Êã∑Ë¥ù?</span></a></h5><p>Âú®Êìç‰ΩúÁ≥ªÁªü‰∏≠Ôºå‰ΩøÁî®‰º†ÁªüÁöÑÊñπÂºèÔºåÊï∞ÊçÆÈúÄË¶ÅÁªèÂéÜÂá†Ê¨°Êã∑Ë¥ùÔºåËøòË¶ÅÁªèÂéÜÁî®Êà∑ÊÄÅ/ÂÜÖÊ†∏ÊÄÅÂàáÊç¢„ÄÇ</p><figure><img src="https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/nice-article/weixin-mianznxrocketmqessw-35fd884c-8d1b-4d04-8f09-23ed2f945b23.jpg" alt="‰º†ÁªüÊñá‰ª∂‰º†ËæìÁ§∫ÊÑèÂõæ-Êù•Ê∫ê„ÄäÂõæËß£Êìç‰ΩúÁ≥ªÁªü„Äã" tabindex="0" loading="lazy"><figcaption>‰º†ÁªüÊñá‰ª∂‰º†ËæìÁ§∫ÊÑèÂõæ-Êù•Ê∫ê„ÄäÂõæËß£Êìç‰ΩúÁ≥ªÁªü„Äã</figcaption></figure><ol><li>‰ªéÁ£ÅÁõòÂ§çÂà∂Êï∞ÊçÆÂà∞ÂÜÖÊ†∏ÊÄÅÂÜÖÂ≠òÔºõ</li><li>‰ªéÂÜÖÊ†∏ÊÄÅÂÜÖÂ≠òÂ§çÂà∂Âà∞Áî®Êà∑ÊÄÅÂÜÖÂ≠òÔºõ</li><li>ÁÑ∂Âêé‰ªéÁî®Êà∑ÊÄÅÂÜÖÂ≠òÂ§çÂà∂Âà∞ÁΩëÁªúÈ©±Âä®ÁöÑÂÜÖÊ†∏ÊÄÅÂÜÖÂ≠òÔºõ</li><li>ÊúÄÂêéÊòØ‰ªéÁΩëÁªúÈ©±Âä®ÁöÑÂÜÖÊ†∏ÊÄÅÂÜÖÂ≠òÂ§çÂà∂Âà∞ÁΩëÂç°‰∏≠ËøõË°å‰º†Ëæì„ÄÇ</li></ol><p>ÊâÄ‰ª•ÔºåÂèØ‰ª•ÈÄöËøáÈõ∂Êã∑Ë¥ùÁöÑÊñπÂºèÔºå<strong>ÂáèÂ∞ëÁî®Êà∑ÊÄÅ‰∏éÂÜÖÊ†∏ÊÄÅÁöÑ‰∏ä‰∏ãÊñáÂàáÊç¢</strong>Âíå<strong>ÂÜÖÂ≠òÊã∑Ë¥ùÁöÑÊ¨°Êï∞</strong>ÔºåÁî®Êù•ÊèêÂçá I/O ÁöÑÊÄßËÉΩ„ÄÇÈõ∂Êã∑Ë¥ùÊØîËæÉÂ∏∏ËßÅÁöÑÂÆûÁé∞ÊñπÂºèÊòØ<strong>mmap</strong>ÔºåËøôÁßçÊú∫Âà∂Âú® Java ‰∏≠ÊòØÈÄöËøá MappedByteBuffer ÂÆûÁé∞ÁöÑ„ÄÇ</p><figure><img src="https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/nice-article/weixin-mianznxrocketmqessw-3ebab020-e411-4239-b91e-72147190c7b1.jpg" alt="mmapÁ§∫ÊÑèÂõæ-Êù•Ê∫ê„ÄäÂõæËß£Êìç‰ΩúÁ≥ªÁªü„Äã" tabindex="0" loading="lazy"><figcaption>mmapÁ§∫ÊÑèÂõæ-Êù•Ê∫ê„ÄäÂõæËß£Êìç‰ΩúÁ≥ªÁªü„Äã</figcaption></figure><h3 id="_22-Ê∂àÊÅØÂà∑ÁõòÊÄé‰πàÂÆûÁé∞ÁöÑÂë¢" tabindex="-1"><a class="header-anchor" href="#_22-Ê∂àÊÅØÂà∑ÁõòÊÄé‰πàÂÆûÁé∞ÁöÑÂë¢"><span>22.Ê∂àÊÅØÂà∑ÁõòÊÄé‰πàÂÆûÁé∞ÁöÑÂë¢Ôºü</span></a></h3><p>RocketMQ Êèê‰æõ‰∫Ü‰∏§ÁßçÂà∑ÁõòÁ≠ñÁï•ÔºöÂêåÊ≠•Âà∑ÁõòÂíåÂºÇÊ≠•Âà∑Áõò</p><ul><li>ÂêåÊ≠•Âà∑ÁõòÔºöÂú®Ê∂àÊÅØËææÂà∞ Broker ÁöÑÂÜÖÂ≠ò‰πãÂêéÔºåÂøÖÈ°ªÂà∑Âà∞ commitLog Êó•ÂøóÊñá‰ª∂‰∏≠ÊâçÁÆóÊàêÂäüÔºåÁÑ∂ÂêéËøîÂõû Producer Êï∞ÊçÆÂ∑≤ÁªèÂèëÈÄÅÊàêÂäü„ÄÇ</li><li>ÂºÇÊ≠•Âà∑ÁõòÔºöÂºÇÊ≠•Âà∑ÁõòÊòØÊåáÊ∂àÊÅØËææÂà∞ Broker ÂÜÖÂ≠òÂêéÂ∞±ËøîÂõû Producer Êï∞ÊçÆÂ∑≤ÁªèÂèëÈÄÅÊàêÂäüÔºå‰ºöÂî§ÈÜí‰∏Ä‰∏™Á∫øÁ®ãÂéªÂ∞ÜÊï∞ÊçÆÊåÅ‰πÖÂåñÂà∞ CommitLog Êó•ÂøóÊñá‰ª∂‰∏≠„ÄÇ</li></ul><p><strong>Broker</strong> Âú®Ê∂àÊÅØÁöÑÂ≠òÂèñÊó∂Áõ¥Êé•Êìç‰ΩúÁöÑÊòØÂÜÖÂ≠òÔºàÂÜÖÂ≠òÊò†Â∞ÑÊñá‰ª∂ÔºâÔºåËøôÂèØ‰ª•Êèê‰æõÁ≥ªÁªüÁöÑÂêûÂêêÈáèÔºå‰ΩÜÊòØÊó†Ê≥ïÈÅøÂÖçÊú∫Âô®ÊéâÁîµÊó∂Êï∞ÊçÆ‰∏¢Â§±ÔºåÊâÄ‰ª•ÈúÄË¶ÅÊåÅ‰πÖÂåñÂà∞Á£ÅÁõò‰∏≠„ÄÇ</p><p>Âà∑ÁõòÁöÑÊúÄÁªàÂÆûÁé∞ÈÉΩÊòØ‰ΩøÁî®<strong>NIO</strong>‰∏≠ÁöÑ MappedByteBuffer.force() Â∞ÜÊò†Â∞ÑÂå∫ÁöÑÊï∞ÊçÆÂÜôÂÖ•Âà∞Á£ÅÁõòÔºåÂ¶ÇÊûúÊòØÂêåÊ≠•Âà∑ÁõòÁöÑËØùÔºåÂú®<strong>Broker</strong>ÊääÊ∂àÊÅØÂÜôÂà∞<strong>CommitLog</strong>Êò†Â∞ÑÂå∫ÂêéÔºåÂ∞±‰ºöÁ≠âÂæÖÂÜôÂÖ•ÂÆåÊàê„ÄÇ</p><p>ÂºÇÊ≠•ËÄåË®ÄÔºåÂè™ÊòØÂî§ÈÜíÂØπÂ∫îÁöÑÁ∫øÁ®ãÔºå‰∏ç‰øùËØÅÊâßË°åÁöÑÊó∂Êú∫ÔºåÊµÅÁ®ãÂ¶ÇÂõæÊâÄÁ§∫„ÄÇ</p><figure><img src="https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/nice-article/weixin-mianznxrocketmqessw-10a2361b-5e23-462f-86bf-1a9bce2342e5.jpg" alt="ÂºÇÊ≠•Âà∑Áõò" tabindex="0" loading="lazy"><figcaption>ÂºÇÊ≠•Âà∑Áõò</figcaption></figure><h3 id="_22-ËÉΩËØ¥‰∏ã-rocketmq-ÁöÑË¥üËΩΩÂùáË°°ÊòØÂ¶Ç‰ΩïÂÆûÁé∞ÁöÑ" tabindex="-1"><a class="header-anchor" href="#_22-ËÉΩËØ¥‰∏ã-rocketmq-ÁöÑË¥üËΩΩÂùáË°°ÊòØÂ¶Ç‰ΩïÂÆûÁé∞ÁöÑ"><span>22.ËÉΩËØ¥‰∏ã RocketMQ ÁöÑË¥üËΩΩÂùáË°°ÊòØÂ¶Ç‰ΩïÂÆûÁé∞ÁöÑÔºü</span></a></h3><p>RocketMQ ‰∏≠ÁöÑË¥üËΩΩÂùáË°°ÈÉΩÂú® Client Á´ØÂÆåÊàêÔºåÂÖ∑‰ΩìÊù•ËØ¥ÁöÑËØùÔºå‰∏ªË¶ÅÂèØ‰ª•ÂàÜ‰∏∫ Producer Á´ØÂèëÈÄÅÊ∂àÊÅØÊó∂ÂÄôÁöÑË¥üËΩΩÂùáË°°Âíå Consumer Á´ØËÆ¢ÈòÖÊ∂àÊÅØÁöÑË¥üËΩΩÂùáË°°„ÄÇ</p><h5 id="producer-ÁöÑË¥üËΩΩÂùáË°°" tabindex="-1"><a class="header-anchor" href="#producer-ÁöÑË¥üËΩΩÂùáË°°"><span>Producer ÁöÑË¥üËΩΩÂùáË°°</span></a></h5><p>Producer Á´ØÂú®ÂèëÈÄÅÊ∂àÊÅØÁöÑÊó∂ÂÄôÔºå‰ºöÂÖàÊ†πÊçÆ Topic ÊâæÂà∞ÊåáÂÆöÁöÑ TopicPublishInfoÔºåÂú®Ëé∑Âèñ‰∫Ü TopicPublishInfo Ë∑ØÁî±‰ø°ÊÅØÂêéÔºåRocketMQ ÁöÑÂÆ¢Êà∑Á´ØÂú®ÈªòËÆ§ÊñπÂºè‰∏ã selectOneMessageQueue()ÊñπÊ≥ï‰ºö‰ªé TopicPublishInfo ‰∏≠ÁöÑ messageQueueList ‰∏≠ÈÄâÊã©‰∏Ä‰∏™ÈòüÂàóÔºàMessageQueueÔºâËøõË°åÂèëÈÄÅÊ∂àÊÅØ„ÄÇÂÖ∑ËøôÈáåÊúâ‰∏Ä‰∏™ sendLatencyFaultEnable ÂºÄÂÖ≥ÂèòÈáèÔºåÂ¶ÇÊûúÂºÄÂêØÔºåÂú®ÈöèÊú∫ÈÄíÂ¢ûÂèñÊ®°ÁöÑÂü∫Á°Ä‰∏äÔºåÂÜçËøáÊª§Êéâ not available ÁöÑ Broker ‰ª£ÁêÜ„ÄÇ</p><figure><img src="https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/nice-article/weixin-mianznxrocketmqessw-5f254411-502b-4bd3-89b5-d3157964617b.jpg" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>ÊâÄË∞ìÁöÑ&quot;latencyFaultTolerance&quot;ÔºåÊòØÊåáÂØπ‰πãÂâçÂ§±Ë¥•ÁöÑÔºåÊåâ‰∏ÄÂÆöÁöÑÊó∂Èó¥ÂÅöÈÄÄÈÅø„ÄÇ‰æãÂ¶ÇÔºåÂ¶ÇÊûú‰∏äÊ¨°ËØ∑Ê±ÇÁöÑ latency Ë∂ÖËøá 550LmsÔºåÂ∞±ÈÄÄÈÅø 3000LmsÔºõË∂ÖËøá 1000LÔºåÂ∞±ÈÄÄÈÅø 60000LÔºõÂ¶ÇÊûúÂÖ≥Èó≠ÔºåÈááÁî®ÈöèÊú∫ÈÄíÂ¢ûÂèñÊ®°ÁöÑÊñπÂºèÈÄâÊã©‰∏Ä‰∏™ÈòüÂàóÔºàMessageQueueÔºâÊù•ÂèëÈÄÅÊ∂àÊÅØÔºålatencyFaultTolerance Êú∫Âà∂ÊòØÂÆûÁé∞Ê∂àÊÅØÂèëÈÄÅÈ´òÂèØÁî®ÁöÑÊ†∏ÂøÉÂÖ≥ÈîÆÊâÄÂú®„ÄÇ</p><h5 id="consumer-ÁöÑË¥üËΩΩÂùáË°°" tabindex="-1"><a class="header-anchor" href="#consumer-ÁöÑË¥üËΩΩÂùáË°°"><span>Consumer ÁöÑË¥üËΩΩÂùáË°°</span></a></h5><p>Âú® RocketMQ ‰∏≠ÔºåConsumer Á´ØÁöÑ‰∏§ÁßçÊ∂àË¥πÊ®°ÂºèÔºàPush/PullÔºâÈÉΩÊòØÂü∫‰∫éÊãâÊ®°ÂºèÊù•Ëé∑ÂèñÊ∂àÊÅØÁöÑÔºåËÄåÂú® Push Ê®°ÂºèÂè™ÊòØÂØπ pull Ê®°ÂºèÁöÑ‰∏ÄÁßçÂ∞ÅË£ÖÔºåÂÖ∂Êú¨Ë¥®ÂÆûÁé∞‰∏∫Ê∂àÊÅØÊãâÂèñÁ∫øÁ®ãÂú®‰ªéÊúçÂä°Âô®ÊãâÂèñÂà∞‰∏ÄÊâπÊ∂àÊÅØÂêéÔºåÁÑ∂ÂêéÊèê‰∫§Âà∞Ê∂àÊÅØÊ∂àË¥πÁ∫øÁ®ãÊ±†ÂêéÔºåÂèà‚ÄúÈ©¨‰∏çÂÅúËπÑ‚ÄùÁöÑÁªßÁª≠ÂêëÊúçÂä°Âô®ÂÜçÊ¨°Â∞ùËØïÊãâÂèñÊ∂àÊÅØ„ÄÇÂ¶ÇÊûúÊú™ÊãâÂèñÂà∞Ê∂àÊÅØÔºåÂàôÂª∂Ëøü‰∏Ä‰∏ãÂèàÁªßÁª≠ÊãâÂèñ„ÄÇÂú®‰∏§ÁßçÂü∫‰∫éÊãâÊ®°ÂºèÁöÑÊ∂àË¥πÊñπÂºèÔºàPush/PullÔºâ‰∏≠ÔºåÂùáÈúÄË¶Å Consumer Á´ØÁü•ÈÅì‰ªé Broker Á´ØÁöÑÂì™‰∏Ä‰∏™Ê∂àÊÅØÈòüÂàó‰∏≠ÂéªËé∑ÂèñÊ∂àÊÅØ„ÄÇÂõ†Ê≠§ÔºåÊúâÂøÖË¶ÅÂú® Consumer Á´ØÊù•ÂÅöË¥üËΩΩÂùáË°°ÔºåÂç≥ Broker Á´Ø‰∏≠Â§ö‰∏™ MessageQueue ÂàÜÈÖçÁªôÂêå‰∏Ä‰∏™ ConsumerGroup ‰∏≠ÁöÑÂì™‰∫õ Consumer Ê∂àË¥π„ÄÇ</p><ol><li>Consumer Á´ØÁöÑÂøÉË∑≥ÂåÖÂèëÈÄÅ</li></ol><p>Âú® Consumer ÂêØÂä®ÂêéÔºåÂÆÉÂ∞±‰ºöÈÄöËøáÂÆöÊó∂‰ªªÂä°‰∏çÊñ≠Âú∞Âêë RocketMQ ÈõÜÁæ§‰∏≠ÁöÑÊâÄÊúâ Broker ÂÆû‰æãÂèëÈÄÅÂøÉË∑≥ÂåÖÔºàÂÖ∂‰∏≠ÂåÖÂê´‰∫ÜÔºåÊ∂àÊÅØÊ∂àË¥πÂàÜÁªÑÂêçÁß∞„ÄÅËÆ¢ÈòÖÂÖ≥Á≥ªÈõÜÂêà„ÄÅÊ∂àÊÅØÈÄö‰ø°Ê®°ÂºèÂíåÂÆ¢Êà∑Á´Ø id ÁöÑÂÄºÁ≠â‰ø°ÊÅØÔºâ„ÄÇBroker Á´ØÂú®Êî∂Âà∞ Consumer ÁöÑÂøÉË∑≥Ê∂àÊÅØÂêéÔºå‰ºöÂ∞ÜÂÆÉÁª¥Êä§Âú® ConsumerManager ÁöÑÊú¨Âú∞ÁºìÂ≠òÂèòÈáè‚ÄîconsumerTableÔºåÂêåÊó∂Âπ∂Â∞ÜÂ∞ÅË£ÖÂêéÁöÑÂÆ¢Êà∑Á´ØÁΩëÁªúÈÄöÈÅì‰ø°ÊÅØ‰øùÂ≠òÂú®Êú¨Âú∞ÁºìÂ≠òÂèòÈáè‚ÄîchannelInfoTable ‰∏≠Ôºå‰∏∫‰πãÂêéÂÅö Consumer Á´ØÁöÑË¥üËΩΩÂùáË°°Êèê‰æõÂèØ‰ª•‰æùÊçÆÁöÑÂÖÉÊï∞ÊçÆ‰ø°ÊÅØ„ÄÇ</p><ol start="2"><li>Consumer Á´ØÂÆûÁé∞Ë¥üËΩΩÂùáË°°ÁöÑÊ†∏ÂøÉÁ±ª‚ÄîRebalanceImpl</li></ol><p>Âú® Consumer ÂÆû‰æãÁöÑÂêØÂä®ÊµÅÁ®ã‰∏≠ÁöÑÂêØÂä® MQClientInstance ÂÆû‰æãÈÉ®ÂàÜÔºå‰ºöÂÆåÊàêË¥üËΩΩÂùáË°°ÊúçÂä°Á∫øÁ®ã‚ÄîRebalanceService ÁöÑÂêØÂä®ÔºàÊØèÈöî 20s ÊâßË°å‰∏ÄÊ¨°Ôºâ„ÄÇ</p><p>ÈÄöËøáÊü•ÁúãÊ∫êÁ†ÅÂèØ‰ª•ÂèëÁé∞ÔºåRebalanceService Á∫øÁ®ãÁöÑ run()ÊñπÊ≥ïÊúÄÁªàË∞ÉÁî®ÁöÑÊòØ RebalanceImpl Á±ªÁöÑ rebalanceByTopic()ÊñπÊ≥ïÔºåËøô‰∏™ÊñπÊ≥ïÊòØÂÆûÁé∞ Consumer Á´ØË¥üËΩΩÂùáË°°ÁöÑÊ†∏ÂøÉ„ÄÇ</p><p>rebalanceByTopic()ÊñπÊ≥ï‰ºöÊ†πÊçÆÊ∂àË¥πËÄÖÈÄö‰ø°Á±ªÂûã‰∏∫‚ÄúÂπøÊí≠Ê®°Âºè‚ÄùËøòÊòØ‚ÄúÈõÜÁæ§Ê®°Âºè‚ÄùÂÅö‰∏çÂêåÁöÑÈÄªËæëÂ§ÑÁêÜ„ÄÇËøôÈáå‰∏ªË¶ÅÊù•Áúã‰∏ãÈõÜÁæ§Ê®°Âºè‰∏ãÁöÑ‰∏ªË¶ÅÂ§ÑÁêÜÊµÅÁ®ãÔºö</p><figure><img src="https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/nice-article/weixin-mianznxrocketmqessw-7cbfd097-5186-47ba-9641-687bc9381d0b.jpg" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>(1) ‰ªé rebalanceImpl ÂÆû‰æãÁöÑÊú¨Âú∞ÁºìÂ≠òÂèòÈáè‚ÄîtopicSubscribeInfoTable ‰∏≠ÔºåËé∑ÂèñËØ• Topic ‰∏ªÈ¢ò‰∏ãÁöÑÊ∂àÊÅØÊ∂àË¥πÈòüÂàóÈõÜÂêàÔºàmqSetÔºâÔºõ</p><p>(2) Ê†πÊçÆ topic Âíå consumerGroup ‰∏∫ÂèÇÊï∞Ë∞ÉÁî® mQClientFactory.findConsumerIdList()ÊñπÊ≥ïÂêë Broker Á´ØÂèëÈÄÅÈÄö‰ø°ËØ∑Ê±ÇÔºåËé∑ÂèñËØ•Ê∂àË¥πÁªÑ‰∏ãÊ∂àË¥πËÄÖ Id ÂàóË°®Ôºõ</p><p>(3) ÂÖàÂØπ Topic ‰∏ãÁöÑÊ∂àÊÅØÊ∂àË¥πÈòüÂàó„ÄÅÊ∂àË¥πËÄÖ Id ÊéíÂ∫èÔºåÁÑ∂ÂêéÁî®Ê∂àÊÅØÈòüÂàóÂàÜÈÖçÁ≠ñÁï•ÁÆóÊ≥ïÔºàÈªòËÆ§‰∏∫ÔºöÊ∂àÊÅØÈòüÂàóÁöÑÂπ≥ÂùáÂàÜÈÖçÁÆóÊ≥ïÔºâÔºåËÆ°ÁÆóÂá∫ÂæÖÊãâÂèñÁöÑÊ∂àÊÅØÈòüÂàó„ÄÇËøôÈáåÁöÑÂπ≥ÂùáÂàÜÈÖçÁÆóÊ≥ïÔºåÁ±ª‰ºº‰∫éÂàÜÈ°µÁöÑÁÆóÊ≥ïÔºåÂ∞ÜÊâÄÊúâ MessageQueue ÊéíÂ•ΩÂ∫èÁ±ª‰ºº‰∫éËÆ∞ÂΩïÔºåÂ∞ÜÊâÄÊúâÊ∂àË¥πÁ´Ø Consumer ÊéíÂ•ΩÂ∫èÁ±ª‰ººÈ°µÊï∞ÔºåÂπ∂Ê±ÇÂá∫ÊØè‰∏ÄÈ°µÈúÄË¶ÅÂåÖÂê´ÁöÑÂπ≥Âùá size ÂíåÊØè‰∏™È°µÈù¢ËÆ∞ÂΩïÁöÑËåÉÂõ¥ rangeÔºåÊúÄÂêéÈÅçÂéÜÊï¥‰∏™ range ËÄåËÆ°ÁÆóÂá∫ÂΩìÂâç Consumer Á´ØÂ∫îËØ•ÂàÜÈÖçÂà∞ÁöÑÁöÑ MessageQueue„ÄÇ</p><figure><img src="https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/nice-article/weixin-mianznxrocketmqessw-6d1c69e7-5245-495f-8f8d-b5e48162df6f.jpg" alt="CosumerÂàÜÈÖç" tabindex="0" loading="lazy"><figcaption>CosumerÂàÜÈÖç</figcaption></figure><p>(4) ÁÑ∂ÂêéÔºåË∞ÉÁî® updateProcessQueueTableInRebalance()ÊñπÊ≥ïÔºåÂÖ∑‰ΩìÁöÑÂÅöÊ≥ïÊòØÔºåÂÖàÂ∞ÜÂàÜÈÖçÂà∞ÁöÑÊ∂àÊÅØÈòüÂàóÈõÜÂêàÔºàmqSetÔºâ‰∏é processQueueTable ÂÅö‰∏Ä‰∏™ËøáÊª§ÊØîÂØπ„ÄÇ</p><figure><img src="https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/nice-article/weixin-mianznxrocketmqessw-c84236ed-77a6-45e9-b086-4927d72ce21a.jpg" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><ul><li>‰∏äÂõæ‰∏≠ processQueueTable Ê†áÊ≥®ÁöÑÁ∫¢Ëâ≤ÈÉ®ÂàÜÔºåË°®Á§∫‰∏éÂàÜÈÖçÂà∞ÁöÑÊ∂àÊÅØÈòüÂàóÈõÜÂêà mqSet ‰∫í‰∏çÂåÖÂê´„ÄÇÂ∞ÜËøô‰∫õÈòüÂàóËÆæÁΩÆ Dropped Â±ûÊÄß‰∏∫ trueÔºåÁÑ∂ÂêéÊü•ÁúãËøô‰∫õÈòüÂàóÊòØÂê¶ÂèØ‰ª•ÁßªÈô§Âá∫ processQueueTable ÁºìÂ≠òÂèòÈáèÔºåËøôÈáåÂÖ∑‰ΩìÊâßË°å removeUnnecessaryMessageQueue()ÊñπÊ≥ïÔºåÂç≥ÊØèÈöî 1s Êü•ÁúãÊòØÂê¶ÂèØ‰ª•Ëé∑ÂèñÂΩìÂâçÊ∂àË¥πÂ§ÑÁêÜÈòüÂàóÁöÑÈîÅÔºåÊãøÂà∞ÁöÑËØùËøîÂõû true„ÄÇÂ¶ÇÊûúÁ≠âÂæÖ 1s ÂêéÔºå‰ªçÁÑ∂Êãø‰∏çÂà∞ÂΩìÂâçÊ∂àË¥πÂ§ÑÁêÜÈòüÂàóÁöÑÈîÅÂàôËøîÂõû false„ÄÇÂ¶ÇÊûúËøîÂõû trueÔºåÂàô‰ªé processQueueTable ÁºìÂ≠òÂèòÈáè‰∏≠ÁßªÈô§ÂØπÂ∫îÁöÑ EntryÔºõ</li><li>‰∏äÂõæ‰∏≠ processQueueTable ÁöÑÁªøËâ≤ÈÉ®ÂàÜÔºåË°®Á§∫‰∏éÂàÜÈÖçÂà∞ÁöÑÊ∂àÊÅØÈòüÂàóÈõÜÂêà mqSet ÁöÑ‰∫§ÈõÜ„ÄÇÂà§Êñ≠ËØ• ProcessQueue ÊòØÂê¶Â∑≤ÁªèËøáÊúü‰∫ÜÔºåÂú® Pull Ê®°ÂºèÁöÑ‰∏çÁî®ÁÆ°ÔºåÂ¶ÇÊûúÊòØ Push Ê®°ÂºèÁöÑÔºåËÆæÁΩÆ Dropped Â±ûÊÄß‰∏∫ trueÔºåÂπ∂‰∏îË∞ÉÁî® removeUnnecessaryMessageQueue()ÊñπÊ≥ïÔºåÂÉè‰∏äÈù¢‰∏ÄÊ†∑Â∞ùËØïÁßªÈô§ EntryÔºõ</li><li>ÊúÄÂêéÔºå‰∏∫ËøáÊª§ÂêéÁöÑÊ∂àÊÅØÈòüÂàóÈõÜÂêàÔºàmqSetÔºâ‰∏≠ÁöÑÊØè‰∏™ MessageQueue ÂàõÂª∫‰∏Ä‰∏™ ProcessQueue ÂØπË±°Âπ∂Â≠òÂÖ• RebalanceImpl ÁöÑ processQueueTable ÈòüÂàó‰∏≠ÔºàÂÖ∂‰∏≠Ë∞ÉÁî® RebalanceImpl ÂÆû‰æãÁöÑ computePullFromWhere(MessageQueue mq)ÊñπÊ≥ïËé∑ÂèñËØ• MessageQueue ÂØπË±°ÁöÑ‰∏ã‰∏Ä‰∏™ËøõÂ∫¶Ê∂àË¥πÂÄº offsetÔºåÈöèÂêéÂ°´ÂÖÖËá≥Êé•‰∏ãÊù•Ë¶ÅÂàõÂª∫ÁöÑ pullRequest ÂØπË±°Â±ûÊÄß‰∏≠ÔºâÔºåÂπ∂ÂàõÂª∫ÊãâÂèñËØ∑Ê±ÇÂØπË±°‚ÄîpullRequest Ê∑ªÂä†Âà∞ÊãâÂèñÂàóË°®‚ÄîpullRequestList ‰∏≠ÔºåÊúÄÂêéÊâßË°å dispatchPullRequest()ÊñπÊ≥ïÔºåÂ∞Ü Pull Ê∂àÊÅØÁöÑËØ∑Ê±ÇÂØπË±° PullRequest ‰æùÊ¨°ÊîæÂÖ• PullMessageService ÊúçÂä°Á∫øÁ®ãÁöÑÈòªÂ°ûÈòüÂàó pullRequestQueue ‰∏≠ÔºåÂæÖËØ•ÊúçÂä°Á∫øÁ®ãÂèñÂá∫ÂêéÂêë Broker Á´ØÂèëËµ∑ Pull Ê∂àÊÅØÁöÑËØ∑Ê±Ç„ÄÇÂÖ∂‰∏≠ÔºåÂèØ‰ª•ÈáçÁÇπÂØπÊØî‰∏ãÔºåRebalancePushImpl Âíå RebalancePullImpl ‰∏§‰∏™ÂÆûÁé∞Á±ªÁöÑ dispatchPullRequest()ÊñπÊ≥ï‰∏çÂêåÔºåRebalancePullImpl Á±ªÈáåÈù¢ÁöÑËØ•ÊñπÊ≥ï‰∏∫Á©∫„ÄÇ</li></ul><p>Ê∂àÊÅØÊ∂àË¥πÈòüÂàóÂú®Âêå‰∏ÄÊ∂àË¥πÁªÑ‰∏çÂêåÊ∂àË¥πËÄÖ‰πãÈó¥ÁöÑË¥üËΩΩÂùáË°°ÔºåÂÖ∂Ê†∏ÂøÉËÆæËÆ°ÁêÜÂøµÊòØÂú®‰∏Ä‰∏™Ê∂àÊÅØÊ∂àË¥πÈòüÂàóÂú®Âêå‰∏ÄÊó∂Èó¥Âè™ÂÖÅËÆ∏Ë¢´Âêå‰∏ÄÊ∂àË¥πÁªÑÂÜÖÁöÑ‰∏Ä‰∏™Ê∂àË¥πËÄÖÊ∂àË¥πÔºå‰∏Ä‰∏™Ê∂àÊÅØÊ∂àË¥πËÄÖËÉΩÂêåÊó∂Ê∂àË¥πÂ§ö‰∏™Ê∂àÊÅØÈòüÂàó„ÄÇ</p><h3 id="_23-rocketmq-Ê∂àÊÅØÈïøËΩÆËØ¢‰∫ÜËß£Âêó" tabindex="-1"><a class="header-anchor" href="#_23-rocketmq-Ê∂àÊÅØÈïøËΩÆËØ¢‰∫ÜËß£Âêó"><span>23.RocketMQ Ê∂àÊÅØÈïøËΩÆËØ¢‰∫ÜËß£ÂêóÔºü</span></a></h3><p>ÊâÄË∞ìÁöÑÈïøËΩÆËØ¢ÔºåÂ∞±ÊòØ Consumer ÊãâÂèñÊ∂àÊÅØÔºåÂ¶ÇÊûúÂØπÂ∫îÁöÑ Queue Â¶ÇÊûúÊ≤°ÊúâÊï∞ÊçÆÔºåBroker ‰∏ç‰ºöÁ´ãÂç≥ËøîÂõûÔºåËÄåÊòØÊää PullReuqest hold Ëµ∑Êù•ÔºåÁ≠âÂæÖ queue Êúâ‰∫ÜÊ∂àÊÅØÂêéÔºåÊàñËÄÖÈïøËΩÆËØ¢ÈòªÂ°ûÊó∂Èó¥Âà∞‰∫ÜÔºåÂÜçÈáçÊñ∞Â§ÑÁêÜËØ• queue ‰∏äÁöÑÊâÄÊúâ PullRequest„ÄÇ</p><figure><img src="https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/nice-article/weixin-mianznxrocketmqessw-5a715dea-8e18-471e-9a74-e97299901658.jpg" alt="ÈïøËΩÆËØ¢ÁÆÄÂçïÁ§∫ÊÑèÂõæ" tabindex="0" loading="lazy"><figcaption>ÈïøËΩÆËØ¢ÁÆÄÂçïÁ§∫ÊÑèÂõæ</figcaption></figure><ul><li>PullMessageProcessor#processRequest</li></ul><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>//Â¶ÇÊûúÊ≤°ÊúâÊãâÂà∞Êï∞ÊçÆ</span></span>
<span class="line"><span>case¬†ResponseCode.PULL_NOT_FOUND:</span></span>
<span class="line"><span>//¬†broker¬†Âíå¬†consumer¬†ÈÉΩÂÖÅËÆ∏¬†suspendÔºåÈªòËÆ§ÂºÄÂêØ</span></span>
<span class="line"><span>if¬†(brokerAllowSuspend¬†&amp;&amp;¬†hasSuspendFlag)¬†{</span></span>
<span class="line"><span>    long¬†pollingTimeMills¬†=¬†suspendTimeoutMillisLong;</span></span>
<span class="line"><span>    if¬†(!this.brokerController.getBrokerConfig().isLongPollingEnable())¬†{</span></span>
<span class="line"><span>        pollingTimeMills¬†=¬†this.brokerController.getBrokerConfig().getShortPollingTimeMills();</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    String¬†topic¬†=¬†requestHeader.getTopic();</span></span>
<span class="line"><span>    long¬†offset¬†=¬†requestHeader.getQueueOffset();</span></span>
<span class="line"><span>    int¬†queueId¬†=¬†requestHeader.getQueueId();</span></span>
<span class="line"><span>    //Â∞ÅË£Ö‰∏Ä‰∏™PullRequest</span></span>
<span class="line"><span>    PullRequest¬†pullRequest¬†=¬†new¬†PullRequest(request,¬†channel,¬†pollingTimeMills,</span></span>
<span class="line"><span>            this.brokerController.getMessageStore().now(),¬†offset,¬†subscriptionData,¬†messageFilter);</span></span>
<span class="line"><span>    //ÊääPullRequestÊåÇËµ∑Êù•</span></span>
<span class="line"><span>    this.brokerController.getPullRequestHoldService().suspendPullRequest(topic,¬†queueId,¬†pullRequest);</span></span>
<span class="line"><span>    response¬†=¬†null;</span></span>
<span class="line"><span>    break;</span></span>
<span class="line"><span>}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ÊåÇËµ∑ÁöÑËØ∑Ê±ÇÔºåÊúâ‰∏Ä‰∏™ÊúçÂä°Á∫øÁ®ã‰ºö‰∏çÂÅúÂú∞Ê£ÄÊü•ÔºåÁúã queue ‰∏≠ÊòØÂê¶ÊúâÊï∞ÊçÆÔºåÊàñËÄÖË∂ÖÊó∂„ÄÇ</p><ul><li>PullRequestHoldService#run()</li></ul><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>@Override</span></span>
<span class="line"><span>public¬†void¬†run()¬†{</span></span>
<span class="line"><span>    log.info(&quot;{}¬†service¬†started&quot;,¬†this.getServiceName());</span></span>
<span class="line"><span>    while¬†(!this.isStopped())¬†{</span></span>
<span class="line"><span>        try¬†{</span></span>
<span class="line"><span>            if¬†(this.brokerController.getBrokerConfig().isLongPollingEnable())¬†{</span></span>
<span class="line"><span>                this.waitForRunning(5¬†*¬†1000);</span></span>
<span class="line"><span>            }¬†else¬†{</span></span>
<span class="line"><span>                this.waitForRunning(this.brokerController.getBrokerConfig().getShortPollingTimeMills());</span></span>
<span class="line"><span>            }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>            long¬†beginLockTimestamp¬†=¬†this.systemClock.now();</span></span>
<span class="line"><span>            //Ê£ÄÊü•hold‰ΩèÁöÑËØ∑Ê±Ç</span></span>
<span class="line"><span>            this.checkHoldRequest();</span></span>
<span class="line"><span>            long¬†costTime¬†=¬†this.systemClock.now()¬†-¬†beginLockTimestamp;</span></span>
<span class="line"><span>            if¬†(costTime¬†&gt;¬†5¬†*¬†1000)¬†{</span></span>
<span class="line"><span>                log.info(&quot;[NOTIFYME]¬†check¬†hold¬†request¬†cost¬†{}¬†ms.&quot;,¬†costTime);</span></span>
<span class="line"><span>            }</span></span>
<span class="line"><span>        }¬†catch¬†(Throwable¬†e)¬†{</span></span>
<span class="line"><span>            log.warn(this.getServiceName()¬†+¬†&quot;¬†service¬†has¬†exception.¬†&quot;,¬†e);</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    log.info(&quot;{}¬†service¬†end&quot;,¬†this.getServiceName());</span></span>
<span class="line"><span>}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>ÂõæÊñáËØ¶Ëß£ RocketMQ Èù¢ËØïÈ´òÈ¢ëÈ¢òÔºåËøôÊ¨°ÂêäÊâìÈù¢ËØïÂÆòÔºåÊàëËßâÂæóÁ®≥‰∫ÜÔºàÊâãÂä® dogÔºâ„ÄÇÊï¥ÁêÜÔºöÊ≤âÈªòÁéã‰∫åÔºåÊà≥<a href="https://mp.weixin.qq.com/s/N6wq52pBGh8xkS-5uRcO2g" target="_blank" rel="noopener noreferrer">ËΩ¨ËΩΩÈìæÊé•</a>Ôºå‰ΩúËÄÖÔºö‰∏âÂàÜÊÅ∂ÔºåÊà≥<a href="https://mp.weixin.qq.com/s/IvBt3tB_IWZgPjKv5WGS4A" target="_blank" rel="noopener noreferrer">ÂéüÊñáÈìæÊé•</a>„ÄÇ</p></blockquote><hr><p><em>Ê≤°Êúâ‰ªÄ‰πà‰ΩøÊàëÂÅúÁïô‚Äî‚ÄîÈô§‰∫ÜÁõÆÁöÑÔºåÁ∫µÁÑ∂Â≤∏ÊóÅÊúâÁé´Áë∞„ÄÅÊúâÁªøËç´„ÄÅÊúâÂÆÅÈùôÁöÑÊ∏ØÊπæÔºåÊàëÊòØ‰∏çÁ≥ª‰πãËàü</em>„ÄÇ</p><p><strong>Á≥ªÂàóÂÜÖÂÆπ</strong>Ôºö</p><ul><li><a href="https://javabetter.cn/sidebar/sanfene/javase.html" target="_blank" rel="noopener noreferrer">Èù¢Ê∏£ÈÄÜË¢≠ Java SE ÁØá üëç</a></li><li><a href="https://javabetter.cn/sidebar/sanfene/javathread.html" target="_blank" rel="noopener noreferrer">Èù¢Ê∏£ÈÄÜË¢≠ Java ÈõÜÂêàÊ°ÜÊû∂ÁØá üëç</a></li><li><a href="https://javabetter.cn/sidebar/sanfene/collection.html" target="_blank" rel="noopener noreferrer">Èù¢Ê∏£ÈÄÜË¢≠ Java Âπ∂ÂèëÁºñÁ®ãÁØá üëç</a></li><li><a href="https://javabetter.cn/sidebar/sanfene/jvm.html" target="_blank" rel="noopener noreferrer">Èù¢Ê∏£ÈÄÜË¢≠ JVM ÁØá üëç</a></li><li><a href="https://javabetter.cn/sidebar/sanfene/spring.html" target="_blank" rel="noopener noreferrer">Èù¢Ê∏£ÈÄÜË¢≠ Spring ÁØá üëç</a></li><li><a href="https://javabetter.cn/sidebar/sanfene/redis.html" target="_blank" rel="noopener noreferrer">Èù¢Ê∏£ÈÄÜË¢≠ Redis ÁØá üëç</a></li><li><a href="https://javabetter.cn/sidebar/sanfene/mybatis.html" target="_blank" rel="noopener noreferrer">Èù¢Ê∏£ÈÄÜË¢≠ MyBatis ÁØá üëç</a></li><li><a href="https://javabetter.cn/sidebar/sanfene/mysql.html" target="_blank" rel="noopener noreferrer">Èù¢Ê∏£ÈÄÜË¢≠ MySQL ÁØá üëç</a></li><li><a href="https://javabetter.cn/sidebar/sanfene/os.html" target="_blank" rel="noopener noreferrer">Èù¢Ê∏£ÈÄÜË¢≠Êìç‰ΩúÁ≥ªÁªüÁØá üëç</a></li><li><a href="https://javabetter.cn/sidebar/sanfene/network.html" target="_blank" rel="noopener noreferrer">Èù¢Ê∏£ÈÄÜË¢≠ËÆ°ÁÆóÊú∫ÁΩëÁªúÁØá üëç</a></li><li><a href="https://javabetter.cn/sidebar/sanfene/rocketmq.html" target="_blank" rel="noopener noreferrer">Èù¢Ê∏£ÈÄÜË¢≠ RocketMQ ÁØá üëç</a></li><li><a href="https://javabetter.cn/sidebar/sanfene/fenbushi.html" target="_blank" rel="noopener noreferrer">Èù¢Ê∏£ÈÄÜË¢≠ÂàÜÂ∏ÉÂºèÁØá üëç</a></li><li><a href="https://javabetter.cn/sidebar/sanfene/weifuwu.html" target="_blank" rel="noopener noreferrer">Èù¢Ê∏£ÈÄÜË¢≠ÂæÆÊúçÂä°ÁØá üëç</a></li><li><a href="https://javabetter.cn/sidebar/sanfene/shejimoshi.html" target="_blank" rel="noopener noreferrer">Èù¢Ê∏£ÈÄÜË¢≠ËÆæËÆ°Ê®°ÂºèÁØá üëç</a></li><li><a href="https://javabetter.cn/sidebar/sanfene/linux.html" target="_blank" rel="noopener noreferrer">Èù¢Ê∏£ÈÄÜË¢≠ Linux ÁØá üëç</a></li></ul><hr><p>GitHub ‰∏äÊ†áÊòü 10000+ ÁöÑÂºÄÊ∫êÁü•ËØÜÂ∫ì„Ää<a href="https://github.com/itwanger/toBeBetterJavaer" target="_blank" rel="noopener noreferrer">‰∫åÂì•ÁöÑ Java ËøõÈò∂‰πãË∑Ø</a>„ÄãÁ¨¨‰∏ÄÁâà PDF Áªà‰∫éÊù•‰∫ÜÔºÅÂåÖÊã¨ Java Âü∫Á°ÄËØ≠Ê≥ï„ÄÅÊï∞ÁªÑ&amp;Â≠óÁ¨¶‰∏≤„ÄÅOOP„ÄÅÈõÜÂêàÊ°ÜÊû∂„ÄÅJava IO„ÄÅÂºÇÂ∏∏Â§ÑÁêÜ„ÄÅJava Êñ∞ÁâπÊÄß„ÄÅÁΩëÁªúÁºñÁ®ã„ÄÅNIO„ÄÅÂπ∂ÂèëÁºñÁ®ã„ÄÅJVM Á≠âÁ≠âÔºåÂÖ±ËÆ° 32 ‰∏á‰ΩôÂ≠óÔºå500+Âº†ÊâãÁªòÂõæÔºåÂèØ‰ª•ËØ¥ÊòØÈÄö‰øóÊòìÊáÇ„ÄÅÈ£éË∂£ÂπΩÈªò‚Ä¶‚Ä¶ËØ¶ÊÉÖÊà≥Ôºö<a href="https://javabetter.cn/overview/" target="_blank" rel="noopener noreferrer">Â§™Ëµû‰∫ÜÔºåGitHub ‰∏äÊ†áÊòü 10000+ ÁöÑ Java ÊïôÁ®ã</a></p><p>ÂæÆ‰ø°Êêú <strong>Ê≤âÈªòÁéã‰∫å</strong> ÊàñÊâ´Êèè‰∏ãÊñπ‰∫åÁª¥Á†ÅÂÖ≥Ê≥®‰∫åÂì•ÁöÑÂéüÂàõÂÖ¨‰ºóÂè∑Ê≤âÈªòÁéã‰∫åÔºåÂõûÂ§ç <strong>222</strong> Âç≥ÂèØÂÖçË¥πÈ¢ÜÂèñ„ÄÇ</p><figure><img src="https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/gongzhonghao.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure></div><!----><footer class="vp-page-meta"><div class="vp-meta-item edit-link"><a class="auto-link external-link vp-meta-label" href="https://github.com/itwanger/toBeBetterJavaer/edit/master/docs/src/sidebar/sanfene/rocketmq.md" aria-label="Âú® GitHub ‰∏äÁºñËæëÊ≠§È°µ" rel="noopener noreferrer" target="_blank"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon" name="edit"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->Âú® GitHub ‰∏äÁºñËæëÊ≠§È°µ<!----></a></div><div class="vp-meta-item git-info"><div class="update-time"><span class="vp-meta-label">‰∏äÊ¨°ÁºñËæë‰∫é: </span><!----></div><div class="contributors"><span class="vp-meta-label">Ë¥°ÁåÆËÄÖ: </span><!--[--><!--[--><span class="vp-meta-info" title="email: root@instance-tw.asia-east1-b.c.valid-arc-377619.internal">root</span><!--]--><!--]--></div></div></footer><nav class="vp-page-nav"><a class="route-link auto-link prev" href="/toBeBetterJavaer/sidebar/sanfene/network.html" aria-label="Èù¢Ê∏£ÈÄÜË¢≠-ËÆ°ÁÆóÊú∫ÁΩëÁªú"><div class="hint"><span class="arrow start"></span>‰∏ä‰∏ÄÈ°µ</div><div class="link"><!---->Èù¢Ê∏£ÈÄÜË¢≠-ËÆ°ÁÆóÊú∫ÁΩëÁªú</div></a><a class="route-link auto-link next" href="/toBeBetterJavaer/sidebar/sanfene/fenbushi.html" aria-label="Èù¢Ê∏£ÈÄÜË¢≠-ÂàÜÂ∏ÉÂºè"><div class="hint">‰∏ã‰∏ÄÈ°µ<span class="arrow end"></span></div><div class="link">Èù¢Ê∏£ÈÄÜË¢≠-ÂàÜÂ∏ÉÂºè<!----></div></a></nav><div id="vp-comment" class="giscus-wrapper input-top" style="display:block;"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" preserveAspectRatio="xMidYMid" viewBox="0 0 100 100"><circle cx="28" cy="75" r="11" fill="currentColor"><animate attributeName="fill-opacity" begin="0s" dur="1s" keyTimes="0;0.2;1" repeatCount="indefinite" values="0;1;1"></animate></circle><path fill="none" stroke="#88baf0" stroke-width="10" d="M28 47a28 28 0 0 1 28 28"><animate attributeName="stroke-opacity" begin="0.1s" dur="1s" keyTimes="0;0.2;1" repeatCount="indefinite" values="0;1;1"></animate></path><path fill="none" stroke="#88baf0" stroke-width="10" d="M28 25a50 50 0 0 1 50 50"><animate attributeName="stroke-opacity" begin="0.2s" dur="1s" keyTimes="0;0.2;1" repeatCount="indefinite" values="0;1;1"></animate></path></svg></div><!----><!--]--></main><!--]--><footer class="vp-footer-wrapper"><div class="vp-footer"><a href="https://beian.miit.gov.cn/" target="_blank">Ë±´ICPÂ§á2021038026Âè∑-4</a><img src="https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/beian.png" height="15px" width="15px" /><a target="_blank" href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=41030502000411"><span>Ë±´ÂÖ¨ÁΩëÂÆâÂ§á 41030502000411Âè∑</span></a></div><div class="vp-copyright">Copyright ¬© 2024 ‰∏âÂàÜÊÅ∂ </div></footer></div><!--]--><!--[--><!----><!----><!--]--><!--]--></div>
    <script type="module" src="/toBeBetterJavaer/assets/app-BeHkqkE2.js" defer></script>
  </body>
</html>
